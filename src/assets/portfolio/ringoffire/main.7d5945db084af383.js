var Kz=Object.defineProperty,Zz=Object.defineProperties,Yz=Object.getOwnPropertyDescriptors,nV=Object.getOwnPropertySymbols,Qz=Object.prototype.hasOwnProperty,Xz=Object.prototype.propertyIsEnumerable,rV=(tt,ve,N)=>ve in tt?Kz(tt,ve,{enumerable:!0,configurable:!0,writable:!0,value:N}):tt[ve]=N,rt=(tt,ve)=>{for(var N in ve||(ve={}))Qz.call(ve,N)&&rV(tt,N,ve[N]);if(nV)for(var N of nV(ve))Xz.call(ve,N)&&rV(tt,N,ve[N]);return tt},Jr=(tt,ve)=>Zz(tt,Yz(ve));(self.webpackChunkringoffire=self.webpackChunkringoffire||[]).push([[179],{7905:(tt,ve,N)=>{"use strict";N.d(ve,{hO:()=>Be,xv:()=>he,Dh:()=>le,GT:()=>ge,cc:()=>Me,on:()=>G,pX:()=>ae});var d=N(3668),B=N(7892),P=N(7233);tt=N.hmd(tt);const oe=["ngOnDestroy"],ae=(J,ce,Te,we={})=>new Proxy(J,{get:(We,ke)=>Te.runOutsideAngular(()=>{var Ze;if(J[ke])return(null===(Ze=null==we?void 0:we.spy)||void 0===Ze?void 0:Ze.get)&&we.spy.get(ke,J[ke]),J[ke];if(oe.indexOf(ke)>-1)return()=>{};const Ye=ce.toPromise().then(dt=>{const se=dt&&dt[ke];return"function"==typeof se?se.bind(dt):se&&se.then?se.then(fe=>Te.run(()=>fe)):Te.run(()=>se)});return new Proxy(()=>{},{get:(dt,se)=>Ye[se],apply:(dt,se,fe)=>Ye.then(be=>{var De;const Le=be&&be(...fe);return(null===(De=null==we?void 0:we.spy)||void 0===De?void 0:De.apply)&&we.spy.apply(ke,fe,Le),Le})})})}),ge=(J,ce)=>{ce.forEach(Te=>{Object.getOwnPropertyNames(Te.prototype||Te).forEach(we=>{Object.defineProperty(J.prototype,we,Object.getOwnPropertyDescriptor(Te.prototype||Te,we))})})};class ne{constructor(ce){return ce}}const le=new d.OlP("angularfire2.app.options"),he=new d.OlP("angularfire2.app.name");function G(J,ce,Te){const We="object"==typeof Te&&Te||{};We.name=We.name||"string"==typeof Te&&Te||"[DEFAULT]";const Ze=B.Z.apps.filter(Ye=>Ye&&Ye.name===We.name)[0]||ce.runOutsideAngular(()=>B.Z.initializeApp(J,We));try{JSON.stringify(J)!==JSON.stringify(Ze.options)&&$("error",`${Ze.name} Firebase App already initialized with different options${tt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ye){}return new ne(Ze)}const $=(J,...ce)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[J](...ce)},ie={provide:ne,useFactory:G,deps:[le,d.R0b,[new d.FiY,he]]};let Be=(()=>{class J{constructor(Te){B.Z.registerVersion("angularfire",P.q4.full,"core"),B.Z.registerVersion("angularfire",P.q4.full,"app-compat"),B.Z.registerVersion("angular",d.q4F.full,Te.toString())}static initializeApp(Te,we){return{ngModule:J,providers:[{provide:le,useValue:Te},{provide:he,useValue:we}]}}}return J.\u0275fac=function(Te){return new(Te||J)(d.LFG(d.Lbi))},J.\u0275mod=d.oAB({type:J}),J.\u0275inj=d.cJS({providers:[ie]}),J})();function Me(J,ce,Te,we,We){const[,ke,Ze]=globalThis.\u0275AngularfireInstanceCache.find(Ye=>Ye[0]===J)||[];if(ke)return function(J,ce){try{return J.toString()===ce.toString()}catch(Te){return J===ce}}(We,Ze)||(de("error",`${ce} was already initialized on the ${Te} Firebase App with different settings.${He?" You may need to reload as Firebase is not HMR aware.":""}`),de("warn",{is:We,was:Ze})),ke;{const Ye=we();return globalThis.\u0275AngularfireInstanceCache.push([J,Ye,We]),Ye}}const He=!!tt.hot,de=(J,...ce)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[J](...ce)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},7233:(tt,ve,N)=>{"use strict";N.d(ve,{q4:()=>kd,iC:()=>ic,HU:()=>bu,vb:()=>Xi,JM:()=>Pd,u3:()=>Gs});var d=N(3668),B=N(7713),P=N(8239),oe=N(1572),ae=N(4213),ge=N(1177),ne=N(3855),le=N(4995);const he="@firebase/installations",G="0.5.4",ie=`w:${G}`,Be="FIS_v2",ce=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Te(D){return D instanceof ae.ZR&&D.code.includes("request-failed")}function we({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function We(D){return{token:D.token,requestStatus:2,expiresIn:be(D.expiresIn),creationTime:Date.now()}}function ke(D,I){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,P.Z)(function*(D,I){const L=(yield I.json()).error;return ce.create("request-failed",{requestName:D,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function Ye({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function dt(D,{refreshToken:I}){const k=Ye(D);return k.append("Authorization",function(D){return`${Be} ${D}`}(I)),k}function se(D){return fe.apply(this,arguments)}function fe(){return(fe=(0,P.Z)(function*(D){const I=yield D();return I.status>=500&&I.status<600?D():I})).apply(this,arguments)}function be(D){return Number(D.replace("s","000"))}function Le(D,I){return me.apply(this,arguments)}function me(){return(me=(0,P.Z)(function*(D,{fid:I}){const k=we(D),ue={method:"POST",headers:Ye(D),body:JSON.stringify({fid:I,authVersion:Be,appId:D.appId,sdkVersion:ie})},Oe=yield se(()=>fetch(k,ue));if(Oe.ok){const Qe=yield Oe.json();return{fid:Qe.fid||I,registrationStatus:2,refreshToken:Qe.refreshToken,authToken:We(Qe.authToken)}}throw yield ke("Create Installation",Oe)})).apply(this,arguments)}function Tt(D){return new Promise(I=>{setTimeout(I,D)})}const Zn=/^[cdef][\w-]{21}$/;function Mt(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const k=function(D){return function(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Zn.test(k)?k:""}catch(D){return""}}function vn(D){return`${D.appName}!${D.appId}`}const gr=new Map;function _r(D,I){const k=vn(D);wn(k,I),function(D,I){const k=(!Xt&&"BroadcastChannel"in self&&(Xt=new BroadcastChannel("[Firebase] FID Change"),Xt.onmessage=D=>{wn(D.data.key,D.data.fid)}),Xt);k&&k.postMessage({key:D,fid:I}),0===gr.size&&Xt&&(Xt.close(),Xt=null)}(k,I)}function wn(D,I){const k=gr.get(D);if(k)for(const L of k)L(I)}let Xt=null;const Cn="firebase-installations-store";let Yn=null;function ti(){return Yn||(Yn=(0,le.openDb)("firebase-installations-database",1,D=>{0===D.oldVersion&&D.createObjectStore(Cn)})),Yn}function st(D,I){return qt.apply(this,arguments)}function qt(){return(qt=(0,P.Z)(function*(D,I){const k=vn(D),j=(yield ti()).transaction(Cn,"readwrite"),ue=j.objectStore(Cn),Oe=yield ue.get(k);return yield ue.put(I,k),yield j.complete,(!Oe||Oe.fid!==I.fid)&&_r(D,I.fid),I})).apply(this,arguments)}function cr(D){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,P.Z)(function*(D){const I=vn(D),L=(yield ti()).transaction(Cn,"readwrite");yield L.objectStore(Cn).delete(I),yield L.complete})).apply(this,arguments)}function mt(D,I){return ht.apply(this,arguments)}function ht(){return(ht=(0,P.Z)(function*(D,I){const k=vn(D),j=(yield ti()).transaction(Cn,"readwrite"),ue=j.objectStore(Cn),Oe=yield ue.get(k),Qe=I(Oe);return void 0===Qe?yield ue.delete(k):yield ue.put(Qe,k),yield j.complete,Qe&&(!Oe||Oe.fid!==Qe.fid)&&_r(D,Qe.fid),Qe})).apply(this,arguments)}function Ft(D){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,P.Z)(function*(D){let I;const k=yield mt(D,L=>{const j=Xn(L),ue=en(D,j);return I=ue.registrationPromise,ue.installationEntry});return""===k.fid?{installationEntry:yield I}:{installationEntry:k,registrationPromise:I}})).apply(this,arguments)}function Xn(D){return Qt(D||{fid:Mt(),registrationStatus:0})}function en(D,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(ce.create("app-offline"))};const k={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},L=function(D,I){return ut.apply(this,arguments)}(D,k);return{installationEntry:k,registrationPromise:L}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:ma(D)}:{installationEntry:I}}function ut(){return(ut=(0,P.Z)(function*(D,I){try{return st(D,yield Le(D,I))}catch(k){throw Te(k)&&409===k.customData.serverCode?yield cr(D):yield st(D,{fid:I.fid,registrationStatus:0}),k}})).apply(this,arguments)}function ma(D){return hn.apply(this,arguments)}function hn(){return(hn=(0,P.Z)(function*(D){let I=yield tn(D);for(;1===I.registrationStatus;)yield Tt(100),I=yield tn(D);if(0===I.registrationStatus){const{installationEntry:k,registrationPromise:L}=yield Ft(D);return L||k}return I})).apply(this,arguments)}function tn(D){return mt(D,I=>{if(!I)throw ce.create("installation-not-found");return Qt(I)})}function Qt(D){return function(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function Ps(D,I){return z.apply(this,arguments)}function z(){return(z=(0,P.Z)(function*({appConfig:D,platformLoggerProvider:I},k){const L=U(D,k),j=dt(D,k),ue=I.getImmediate({optional:!0});ue&&j.append("x-firebase-client",ue.getPlatformInfoString());const Qe={method:"POST",headers:j,body:JSON.stringify({installation:{sdkVersion:ie}})},Xe=yield se(()=>fetch(L,Qe));if(Xe.ok)return We(yield Xe.json());throw yield ke("Generate Auth Token",Xe)})).apply(this,arguments)}function U(D,{fid:I}){return`${we(D)}/${I}/authTokens:generate`}function W(D){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,P.Z)(function*(D,I=!1){let k;const L=yield mt(D.appConfig,ue=>{if(!$n(ue))throw ce.create("not-registered");const Oe=ue.authToken;if(!I&&ur(Oe))return ue;if(1===Oe.requestStatus)return k=re(D,I),ue;{if(!navigator.onLine)throw ce.create("app-offline");const Qe=Y(ue);return k=on(D,Qe),Qe}});return k?yield k:L.authToken})).apply(this,arguments)}function re(D,I){return it.apply(this,arguments)}function it(){return(it=(0,P.Z)(function*(D,I){let k=yield lt(D.appConfig);for(;1===k.authToken.requestStatus;)yield Tt(100),k=yield lt(D.appConfig);const L=k.authToken;return 0===L.requestStatus?W(D,I):L})).apply(this,arguments)}function lt(D){return mt(D,I=>{if(!$n(I))throw ce.create("not-registered");return function(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function on(D,I){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,P.Z)(function*(D,I){try{const k=yield Ps(D,I),L=Object.assign(Object.assign({},I),{authToken:k});return yield st(D.appConfig,L),k}catch(k){if(!Te(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const L=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield st(D.appConfig,L)}else yield cr(D.appConfig);throw k}})).apply(this,arguments)}function $n(D){return void 0!==D&&2===D.registrationStatus}function ur(D){return 2===D.requestStatus&&!function(D){const I=Date.now();return I<D.creationTime||D.creationTime+D.expiresIn<I+36e5}(D)}function Y(D){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:I})}function Ge(){return(Ge=(0,P.Z)(function*(D){const I=D,{installationEntry:k,registrationPromise:L}=yield Ft(I.appConfig);return L?L.catch(console.error):W(I).catch(console.error),k.fid})).apply(this,arguments)}function jt(){return(jt=(0,P.Z)(function*(D,I=!1){const k=D;return yield Pt(k.appConfig),(yield W(k,I)).token})).apply(this,arguments)}function Pt(D){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,P.Z)(function*(D){const{registrationPromise:I}=yield Ft(D);I&&(yield I)})).apply(this,arguments)}function bi(D){return ce.create("missing-app-config-values",{valueName:D})}const rr="installations";(0,oe._registerComponent)(new ge.wA(rr,D=>{const I=D.getProvider("app").getImmediate(),k=function(D){if(!D||!D.options)throw bi("App Configuration");if(!D.name)throw bi("App Name");const I=["projectId","apiKey","appId"];for(const k of I)if(!D.options[k])throw bi(k);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(I);return{app:I,appConfig:k,platformLoggerProvider:(0,oe._getProvider)(I,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,oe._registerComponent)(new ge.wA("installations-internal",D=>{const I=D.getProvider("app").getImmediate(),k=(0,oe._getProvider)(I,rr).getImmediate();return{getId:()=>function(D){return Ge.apply(this,arguments)}(k),getToken:j=>function(D){return jt.apply(this,arguments)}(k,j)}},"PRIVATE")),(0,oe.registerVersion)(he,G),(0,oe.registerVersion)(he,G,"esm2017");const kt="@firebase/remote-config",pn=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Jc{constructor(I,k,L,j){this.client=I,this.storage=k,this.storageCache=L,this.logger=j}isCachedDataFresh(I,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-k,j=L<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${j}.`),j}fetch(I){var k=this;return(0,P.Z)(function*(){const[L,j]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(j&&k.isCachedDataFresh(I.cacheMaxAgeMillis,L))return j;I.eTag=j&&j.eTag;const ue=yield k.client.fetch(I),Oe=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ue.status&&Oe.push(k.storage.setLastSuccessfulFetchResponse(ue)),yield Promise.all(Oe),ue})()}}function ug(D=navigator){return D.languages&&D.languages[0]||D.language}class yr{constructor(I,k,L,j,ue,Oe){this.firebaseInstallations=I,this.sdkVersion=k,this.namespace=L,this.projectId=j,this.apiKey=ue,this.appId=Oe}fetch(I){var k=this;return(0,P.Z)(function*(){const[L,j]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),Oe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,Qe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},Xe={sdk_version:k.sdkVersion,app_instance_id:L,app_instance_id_token:j,app_id:k.appId,language_code:ug()},Yt={method:"POST",headers:Qe,body:JSON.stringify(Xe)},ln=fetch(Oe,Yt),Wr=new Promise((Ji,Kr)=>{I.signal.addEventListener(()=>{const qs=new Error("The operation was aborted.");qs.name="AbortError",Kr(qs)})});let Wn;try{yield Promise.race([ln,Wr]),Wn=yield ln}catch(Ji){let Kr="fetch-client-network";throw"AbortError"===Ji.name&&(Kr="fetch-timeout"),pn.create(Kr,{originalErrorMessage:Ji.message})}let cn=Wn.status;const ra=Wn.headers.get("ETag")||void 0;let Pr,xa;if(200===Wn.status){let Ji;try{Ji=yield Wn.json()}catch(Kr){throw pn.create("fetch-client-parse",{originalErrorMessage:Kr.message})}Pr=Ji.entries,xa=Ji.state}if("INSTANCE_STATE_UNSPECIFIED"===xa?cn=500:"NO_CHANGE"===xa?cn=304:("NO_TEMPLATE"===xa||"EMPTY_CONFIG"===xa)&&(Pr={}),304!==cn&&200!==cn)throw pn.create("fetch-status",{httpStatus:cn});return{status:cn,eTag:ra,config:Pr}})()}}class bd{constructor(I,k){this.client=I,this.storage=k}fetch(I){var k=this;return(0,P.Z)(function*(){const L=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(I,L)})()}attemptFetch(I,{throttleEndTimeMillis:k,backoffCount:L}){var j=this;return(0,P.Z)(function*(){yield function(D,I){return new Promise((k,L)=>{const j=Math.max(I-Date.now(),0),ue=setTimeout(k,j);D.addEventListener(()=>{clearTimeout(ue),L(pn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,k);try{const ue=yield j.client.fetch(I);return yield j.storage.deleteThrottleMetadata(),ue}catch(ue){if(!function(D){if(!(D instanceof ae.ZR&&D.customData))return!1;const I=Number(D.customData.httpStatus);return 429===I||500===I||503===I||504===I}(ue))throw ue;const Oe={throttleEndTimeMillis:Date.now()+(0,ae.$s)(L),backoffCount:L+1};return yield j.storage.setThrottleMetadata(Oe),j.attemptFetch(I,Oe)}})()}}class ru{constructor(I,k,L,j,ue){this.app=I,this._client=k,this._storageCache=L,this._storage=j,this._logger=ue,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Vl(D,I){const k=D.target.error||void 0;return pn.create(I,{originalErrorMessage:k&&k.message})}const Vs="app_namespace_store";class su{constructor(I,k,L,j=function(){return new Promise((D,I)=>{try{const k=indexedDB.open("firebase_remote_config",1);k.onerror=L=>{I(Vl(L,"storage-open"))},k.onsuccess=L=>{D(L.target.result)},k.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(Vs,{keyPath:"compositeKey"})}}catch(k){I(pn.create("storage-open",{originalErrorMessage:k}))}})}()){this.appId=I,this.appName=k,this.namespace=L,this.openDbPromise=j}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var k=this;return(0,P.Z)(function*(){const L=yield k.openDbPromise;return new Promise((j,ue)=>{const Qe=L.transaction([Vs],"readonly").objectStore(Vs),Xe=k.createCompositeKey(I);try{const Yt=Qe.get(Xe);Yt.onerror=ln=>{ue(Vl(ln,"storage-get"))},Yt.onsuccess=ln=>{const Wr=ln.target.result;j(Wr?Wr.value:void 0)}}catch(Yt){ue(pn.create("storage-get",{originalErrorMessage:Yt&&Yt.message}))}})})()}set(I,k){var L=this;return(0,P.Z)(function*(){const j=yield L.openDbPromise;return new Promise((ue,Oe)=>{const Xe=j.transaction([Vs],"readwrite").objectStore(Vs),Yt=L.createCompositeKey(I);try{const ln=Xe.put({compositeKey:Yt,value:k});ln.onerror=Wr=>{Oe(Vl(Wr,"storage-set"))},ln.onsuccess=()=>{ue()}}catch(ln){Oe(pn.create("storage-set",{originalErrorMessage:ln&&ln.message}))}})})()}delete(I){var k=this;return(0,P.Z)(function*(){const L=yield k.openDbPromise;return new Promise((j,ue)=>{const Qe=L.transaction([Vs],"readwrite").objectStore(Vs),Xe=k.createCompositeKey(I);try{const Yt=Qe.delete(Xe);Yt.onerror=ln=>{ue(Vl(ln,"storage-delete"))},Yt.onsuccess=()=>{j()}}catch(Yt){ue(pn.create("storage-delete",{originalErrorMessage:Yt&&Yt.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class Cf{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,P.Z)(function*(){const k=I.storage.getLastFetchStatus(),L=I.storage.getLastSuccessfulFetchTimestampMillis(),j=I.storage.getActiveConfig(),ue=yield k;ue&&(I.lastFetchStatus=ue);const Oe=yield L;Oe&&(I.lastSuccessfulFetchTimestampMillis=Oe);const Qe=yield j;Qe&&(I.activeConfig=Qe)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function Ul(){return ga.apply(this,arguments)}function ga(){return(ga=(0,P.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(D){return!1}})).apply(this,arguments)}(0,oe._registerComponent)(new ge.wA("remote-config",function(I,{instanceIdentifier:k}){const L=I.getProvider("app").getImmediate(),j=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw pn.create("registration-window");if(!(0,ae.hl)())throw pn.create("indexed-db-unavailable");const{projectId:ue,apiKey:Oe,appId:Qe}=L.options;if(!ue)throw pn.create("registration-project-id");if(!Oe)throw pn.create("registration-api-key");if(!Qe)throw pn.create("registration-app-id");const Xe=new su(Qe,L.name,k=k||"firebase"),Yt=new Cf(Xe),ln=new ne.Yd(kt);ln.logLevel=ne.in.ERROR;const Wr=new yr(j,oe.SDK_VERSION,k,ue,Oe,Qe),Wn=new bd(Wr,Xe),cn=new Jc(Wn,Xe,Yt,ln),ra=new ru(L,cn,Yt,Xe,ln);return function(D){const I=(0,ae.m9)(D);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(ra),ra},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(kt,"0.3.3"),(0,oe.registerVersion)(kt,"0.3.3","esm2017");const Df="/firebase-messaging-sw.js",au="/firebase-cloud-messaging-push-scope",Bs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Gi="google.c.a.c_id",qi="google.c.a.c_l",lu="google.c.a.ts",cu="google.c.a.e";var io=(()=>{return(D=io||(io={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",io;var D})();function wi(D){const I=new Uint8Array(D);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function jl(D){const k=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(k),j=new Uint8Array(L.length);for(let ue=0;ue<L.length;++ue)j[ue]=L.charCodeAt(ue);return j}const ya="fcm_token_details_db",Ka="fcm_token_object_Store";function Ed(D){return Za.apply(this,arguments)}function Za(){return Za=(0,P.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ue=>ue.name).includes(ya))return null;let I=null;return(yield(0,le.openDb)(ya,5,function(){var L=(0,P.Z)(function*(j){var ue;if(j.oldVersion<2||!j.objectStoreNames.contains(Ka))return;const Oe=j.transaction.objectStore(Ka),Qe=yield Oe.index("fcmSenderId").get(D);if(yield Oe.clear(),Qe)if(2===j.oldVersion){const Xe=Qe;if(!Xe.auth||!Xe.p256dh||!Xe.endpoint)return;I={token:Xe.fcmToken,createTime:null!==(ue=Xe.createTime)&&void 0!==ue?ue:Date.now(),subscriptionOptions:{auth:Xe.auth,p256dh:Xe.p256dh,endpoint:Xe.endpoint,swScope:Xe.swScope,vapidKey:"string"==typeof Xe.vapidKey?Xe.vapidKey:wi(Xe.vapidKey)}}}else if(3===j.oldVersion){const Xe=Qe;I={token:Xe.fcmToken,createTime:Xe.createTime,subscriptionOptions:{auth:wi(Xe.auth),p256dh:wi(Xe.p256dh),endpoint:Xe.endpoint,swScope:Xe.swScope,vapidKey:wi(Xe.vapidKey)}}}else if(4===j.oldVersion){const Xe=Qe;I={token:Xe.fcmToken,createTime:Xe.createTime,subscriptionOptions:{auth:wi(Xe.auth),p256dh:wi(Xe.p256dh),endpoint:Xe.endpoint,swScope:Xe.swScope,vapidKey:wi(Xe.vapidKey)}}}});return function(j){return L.apply(this,arguments)}}())).close(),yield(0,le.deleteDb)(ya),yield(0,le.deleteDb)("fcm_vapid_details_db"),yield(0,le.deleteDb)("undefined"),Hl(I)?I:null}),Za.apply(this,arguments)}function Hl(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:I}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const mn="firebase-messaging-store";let so=null;function uu(){return so||(so=(0,le.openDb)("firebase-messaging-database",1,D=>{0===D.oldVersion&&D.createObjectStore(mn)})),so}function Bn(D){return zr.apply(this,arguments)}function zr(){return(zr=(0,P.Z)(function*(D){const I=Bo(D),L=yield(yield uu()).transaction(mn).objectStore(mn).get(I);if(L)return L;{const j=yield Ed(D.appConfig.senderId);if(j)return yield Ci(D,j),j}})).apply(this,arguments)}function Ci(D,I){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,P.Z)(function*(D,I){const k=Bo(D),j=(yield uu()).transaction(mn,"readwrite");return yield j.objectStore(mn).put(I,k),yield j.complete,I})).apply(this,arguments)}function Tr(D){return $l.apply(this,arguments)}function $l(){return($l=(0,P.Z)(function*(D){const I=Bo(D),L=(yield uu()).transaction(mn,"readwrite");yield L.objectStore(mn).delete(I),yield L.complete})).apply(this,arguments)}function Bo({appConfig:D}){return D.appId}const Wt=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ya(D,I){return Us.apply(this,arguments)}function Us(){return(Us=(0,P.Z)(function*(D,I){const k=yield zl(D),L=ao(I),j={method:"POST",headers:k,body:JSON.stringify(L)};let ue;try{ue=yield(yield fetch(gt(D.appConfig),j)).json()}catch(Oe){throw Wt.create("token-subscribe-failed",{errorInfo:Oe})}if(ue.error)throw Wt.create("token-subscribe-failed",{errorInfo:ue.error.message});if(!ue.token)throw Wt.create("token-subscribe-no-token");return ue.token})).apply(this,arguments)}function Qa(D,I){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,P.Z)(function*(D,I){const k=yield zl(D),L=ao(I.subscriptionOptions),j={method:"PATCH",headers:k,body:JSON.stringify(L)};let ue;try{ue=yield(yield fetch(`${gt(D.appConfig)}/${I.token}`,j)).json()}catch(Oe){throw Wt.create("token-update-failed",{errorInfo:Oe})}if(ue.error)throw Wt.create("token-update-failed",{errorInfo:ue.error.message});if(!ue.token)throw Wt.create("token-update-no-token");return ue.token})).apply(this,arguments)}function jo(D,I){return dr.apply(this,arguments)}function dr(){return(dr=(0,P.Z)(function*(D,I){const L={method:"DELETE",headers:yield zl(D)};try{const ue=yield(yield fetch(`${gt(D.appConfig)}/${I}`,L)).json();if(ue.error)throw Wt.create("token-unsubscribe-failed",{errorInfo:ue.error.message})}catch(j){throw Wt.create("token-unsubscribe-failed",{errorInfo:j})}})).apply(this,arguments)}function gt({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function zl(D){return oo.apply(this,arguments)}function oo(){return(oo=(0,P.Z)(function*({appConfig:D,installations:I}){const k=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function ao({p256dh:D,auth:I,endpoint:k,vapidKey:L}){const j={web:{endpoint:k,auth:I,p256dh:D}};return L!==Bs&&(j.web.applicationPubKey=L),j}const Gl=6048e5;function Xa(D){return ql.apply(this,arguments)}function ql(){return(ql=(0,P.Z)(function*(D){const I=yield Zi(D.swRegistration,D.vapidKey),k={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:I.endpoint,auth:wi(I.getKey("auth")),p256dh:wi(I.getKey("p256dh"))},L=yield Bn(D.firebaseDependencies);if(L){if(va(L.subscriptionOptions,k))return Date.now()>=L.createTime+Gl?$t(D,{token:L.token,createTime:Date.now(),subscriptionOptions:k}):L.token;try{yield jo(D.firebaseDependencies,L.token)}catch(j){console.warn(j)}return Un(D.firebaseDependencies,k)}return Un(D.firebaseDependencies,k)})).apply(this,arguments)}function Ja(D){return xe.apply(this,arguments)}function xe(){return(xe=(0,P.Z)(function*(D){const I=yield Bn(D.firebaseDependencies);I&&(yield jo(D.firebaseDependencies,I.token),yield Tr(D.firebaseDependencies));const k=yield D.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function $t(D,I){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,P.Z)(function*(D,I){try{const k=yield Qa(D.firebaseDependencies,I),L=Object.assign(Object.assign({},I),{token:k,createTime:Date.now()});return yield Ci(D.firebaseDependencies,L),k}catch(k){throw yield Ja(D),k}})).apply(this,arguments)}function Un(D,I){return el.apply(this,arguments)}function el(){return(el=(0,P.Z)(function*(D,I){const L={token:yield Ya(D,I),createTime:Date.now(),subscriptionOptions:I};return yield Ci(D,L),L.token})).apply(this,arguments)}function Zi(D,I){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,P.Z)(function*(D,I){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:jl(I)})})).apply(this,arguments)}function va(D,I){return I.vapidKey===D.vapidKey&&I.endpoint===D.endpoint&&I.auth===D.auth&&I.p256dh===D.p256dh}function js(D){const I={from:D.from,collapseKey:D.collapse_key,messageId:D.fcm_message_id};return function(D,I){if(!I.notification)return;D.notification={};const k=I.notification.title;k&&(D.notification.title=k);const L=I.notification.body;L&&(D.notification.body=L);const j=I.notification.image;j&&(D.notification.image=j)}(I,D),function(D,I){!I.data||(D.data=I.data)}(I,D),function(D,I){if(!I.fcmOptions)return;D.fcmOptions={};const k=I.fcmOptions.link;k&&(D.fcmOptions.link=k);const L=I.fcmOptions.analytics_label;L&&(D.fcmOptions.analyticsLabel=L)}(I,D),I}function $o(D){return"object"==typeof D&&!!D&&Gi in D}function or(D,I){const k=[];for(let L=0;L<D.length;L++)k.push(D.charAt(L)),L<I.length&&k.push(I.charAt(L));return k.join("")}function lo(D){return Wt.create("missing-app-config-values",{valueName:D})}or("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),or("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class zo{constructor(I,k,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const j=function(D){if(!D||!D.options)throw lo("App Configuration Object");if(!D.name)throw lo("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:k}=D;for(const L of I)if(!k[L])throw lo(L);return{appName:D.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:j,installations:k,analyticsProvider:L}}_delete(){return Promise.resolve()}}function ai(D){return Go.apply(this,arguments)}function Go(){return(Go=(0,P.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(Df,{scope:au}),D.swRegistration.update().catch(()=>{})}catch(I){throw Wt.create("failed-service-worker-registration",{browserErrorMessage:I.message})}})).apply(this,arguments)}function tl(D,I){return qo.apply(this,arguments)}function qo(){return(qo=(0,P.Z)(function*(D,I){if(!I&&!D.swRegistration&&(yield ai(D)),I||!D.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw Wt.create("invalid-sw-registration");D.swRegistration=I}})).apply(this,arguments)}function Cd(D,I){return co.apply(this,arguments)}function co(){return(co=(0,P.Z)(function*(D,I){I?D.vapidKey=I:D.vapidKey||(D.vapidKey=Bs)})).apply(this,arguments)}function Wo(){return(Wo=(0,P.Z)(function*(D,I){if(!navigator)throw Wt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Wt.create("permission-blocked");return yield Cd(D,null==I?void 0:I.vapidKey),yield tl(D,null==I?void 0:I.serviceWorkerRegistration),Xa(D)})).apply(this,arguments)}function rl(D,I,k){return il.apply(this,arguments)}function il(){return(il=(0,P.Z)(function*(D,I,k){const L=Wl(I);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:k[Gi],message_name:k[qi],message_time:k[lu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Wl(D){switch(D){case io.NOTIFICATION_CLICKED:return"notification_open";case io.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Kl(){return(Kl=(0,P.Z)(function*(D,I){const k=I.data;if(!k.isFirebaseMessaging)return;D.onMessageHandler&&k.messageType===io.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(js(k)):D.onMessageHandler.next(js(k)));const L=k.data;$o(L)&&"1"===L[cu]&&(yield rl(D,k.messageType,L))})).apply(this,arguments)}const Ea="@firebase/messaging";function wa(){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,P.Z)(function*(){return"undefined"!=typeof window&&(0,ae.hl)()&&(yield(0,ae.eu)())&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,oe._registerComponent)(new ge.wA("messaging",D=>{const I=new zo(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function(D,I){return Kl.apply(this,arguments)}(I,k)),I},"PUBLIC")),(0,oe._registerComponent)(new ge.wA("messaging-internal",D=>{const I=D.getProvider("messaging").getImmediate();return{getToken:L=>function(D,I){return Wo.apply(this,arguments)}(I,L)}},"PRIVATE")),(0,oe.registerVersion)(Ea,"0.9.4"),(0,oe.registerVersion)(Ea,"0.9.4","esm2017");const Ko="analytics",Zo="firebase_id",Dd="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ll="https://www.googletagmanager.com/gtag/js",jn=new ne.Yd("@firebase/analytics");function Ca(D){return Promise.all(D.map(I=>I.catch(k=>k)))}function Id(D,I){const k=document.createElement("script");k.src=`${ll}?l=${D}&id=${I}`,k.async=!0,document.head.appendChild(k)}function cl(D,I,k,L,j,ue){return ms.apply(this,arguments)}function ms(){return(ms=(0,P.Z)(function*(D,I,k,L,j,ue){const Oe=L[j];try{if(Oe)yield I[Oe];else{const Xe=(yield Ca(k)).find(Yt=>Yt.measurementId===j);Xe&&(yield I[Xe.appId])}}catch(Qe){jn.error(Qe)}D("config",j,ue)})).apply(this,arguments)}function ul(D,I,k,L,j){return ec.apply(this,arguments)}function ec(){return(ec=(0,P.Z)(function*(D,I,k,L,j){try{let ue=[];if(j&&j.send_to){let Oe=j.send_to;Array.isArray(Oe)||(Oe=[Oe]);const Qe=yield Ca(k);for(const Xe of Oe){const Yt=Qe.find(Wr=>Wr.measurementId===Xe),ln=Yt&&I[Yt.appId];if(!ln){ue=[];break}ue.push(ln)}}0===ue.length&&(ue=Object.values(I)),yield Promise.all(ue),D("event",L,j||{})}catch(ue){jn.error(ue)}})).apply(this,arguments)}function xn(){const D=window.document.getElementsByTagName("script");for(const I of Object.values(D))if(I.src&&I.src.includes(ll))return I;return null}const nt=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Yo=new class{constructor(I={},k=1e3){this.throttleMetadata=I,this.intervalMillis=k}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,k){this.throttleMetadata[I]=k}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function Tf(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Da(D){return ho.apply(this,arguments)}function ho(){return(ho=(0,P.Z)(function*(D){var I;const{appId:k,apiKey:L}=D,j={method:"GET",headers:Tf(L)},ue=Dd.replace("{app-id}",k),Oe=yield fetch(ue,j);if(200!==Oe.status&&304!==Oe.status){let Qe="";try{const Xe=yield Oe.json();(null===(I=Xe.error)||void 0===I?void 0:I.message)&&(Qe=Xe.error.message)}catch(Xe){}throw nt.create("config-fetch-failed",{httpStatus:Oe.status,responseMessage:Qe})}return Oe.json()})).apply(this,arguments)}function Di(D){return dl.apply(this,arguments)}function dl(){return(dl=(0,P.Z)(function*(D,I=Yo,k){const{appId:L,apiKey:j,measurementId:ue}=D.options;if(!L)throw nt.create("no-app-id");if(!j){if(ue)return{measurementId:ue,appId:L};throw nt.create("no-api-key")}const Oe=I.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Qe=new gs;return setTimeout((0,P.Z)(function*(){Qe.abort()}),void 0!==k?k:6e4),fo({appId:L,apiKey:j,measurementId:ue},Oe,Qe,I)})).apply(this,arguments)}function fo(D,I,k){return bt.apply(this,arguments)}function bt(){return(bt=(0,P.Z)(function*(D,{throttleEndTimeMillis:I,backoffCount:k},L,j=Yo){const{appId:ue,measurementId:Oe}=D;try{yield Ad(L,I)}catch(Qe){if(Oe)return jn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Oe} provided in the "measurementId" field in the local Firebase config. [${Qe.message}]`),{appId:ue,measurementId:Oe};throw Qe}try{const Qe=yield Da(D);return j.deleteThrottleMetadata(ue),Qe}catch(Qe){if(!Sd(Qe)){if(j.deleteThrottleMetadata(ue),Oe)return jn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Oe} provided in the "measurementId" field in the local Firebase config. [${Qe.message}]`),{appId:ue,measurementId:Oe};throw Qe}const Xe=503===Number(Qe.customData.httpStatus)?(0,ae.$s)(k,j.intervalMillis,30):(0,ae.$s)(k,j.intervalMillis),Yt={throttleEndTimeMillis:Date.now()+Xe,backoffCount:k+1};return j.setThrottleMetadata(ue,Yt),jn.debug(`Calling attemptFetch again in ${Xe} millis`),fo(D,Yt,L,j)}})).apply(this,arguments)}function Ad(D,I){return new Promise((k,L)=>{const j=Math.max(I-Date.now(),0),ue=setTimeout(k,j);D.addEventListener(()=>{clearTimeout(ue),L(nt.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function Sd(D){if(!(D instanceof ae.ZR&&D.customData))return!1;const I=Number(D.customData.httpStatus);return 429===I||500===I||503===I||504===I}class gs{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}function Qo(){return zn.apply(this,arguments)}function zn(){return(zn=(0,P.Z)(function*(){if(!(0,ae.hl)())return jn.warn(nt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(D){return jn.warn(nt.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function mo(){return(mo=(0,P.Z)(function*(D,I,k,L,j,ue,Oe){var Qe;const Xe=Di(D);Xe.then(cn=>{k[cn.measurementId]=cn.appId,D.options.measurementId&&cn.measurementId!==D.options.measurementId&&jn.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${cn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(cn=>jn.error(cn)),I.push(Xe);const Yt=Qo().then(cn=>{if(cn)return L.getId()}),[ln,Wr]=yield Promise.all([Xe,Yt]);xn()||Id(ue,ln.measurementId),j("js",new Date);const Wn=null!==(Qe=null==Oe?void 0:Oe.config)&&void 0!==Qe?Qe:{};return Wn.origin="firebase",Wn.update=!0,null!=Wr&&(Wn[Zo]=Wr),j("config",ln.measurementId,Wn),ln.measurementId})).apply(this,arguments)}class Md{constructor(I){this.app=I}_delete(){return delete Ii[this.app.options.appId],Promise.resolve()}}let Ii={},tc=[];const Ia={};let Xo,xr,_s="dataLayer",ys=!1;function Gt(D,I,k){!function(){const D=[];if((0,ae.ru)()&&D.push("This is a browser extension environment."),(0,ae.zI)()||D.push("Cookies are not available."),D.length>0){const I=D.map((L,j)=>`(${j+1}) ${L}`).join(" "),k=nt.create("invalid-analytics-context",{errorInfo:I});jn.warn(k.message)}}();const L=D.options.appId;if(!L)throw nt.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw nt.create("no-api-key");jn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ii[L])throw nt.create("already-exists",{id:L});if(!ys){!function(D){let I=[];Array.isArray(window[D])?I=window[D]:window[D]=I}(_s);const{wrappedGtag:ue,gtagCore:Oe}=function(D,I,k,L,j){let ue=function(...Oe){window[L].push(arguments)};return window[j]&&"function"==typeof window[j]&&(ue=window[j]),window[j]=function(D,I,k,L){function ue(){return(ue=(0,P.Z)(function*(Oe,Qe,Xe){try{"event"===Oe?yield ul(D,I,k,Qe,Xe):"config"===Oe?yield cl(D,I,k,L,Qe,Xe):D("set",Qe)}catch(Yt){jn.error(Yt)}})).apply(this,arguments)}return function(Oe,Qe,Xe){return ue.apply(this,arguments)}}(ue,D,I,k),{gtagCore:ue,wrappedGtag:window[j]}}(Ii,tc,Ia,_s,"gtag");xr=ue,Xo=Oe,ys=!0}return Ii[L]=function(D,I,k,L,j,ue,Oe){return mo.apply(this,arguments)}(D,tc,Ia,I,Xo,_s,k),new Md(D)}function Jo(){return(Jo=(0,P.Z)(function*(D,I,k,L,j){if(j&&j.global)D("event",k,L);else{const ue=yield I;D("event",k,Object.assign(Object.assign({},L),{send_to:ue}))}})).apply(this,arguments)}function Fn(){return ea.apply(this,arguments)}function ea(){return(ea=(0,P.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(D){return!1}})).apply(this,arguments)}const gu="@firebase/analytics";(0,oe._registerComponent)(new ge.wA(Ko,(I,{options:k})=>Gt(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,oe._registerComponent)(new ge.wA("analytics-internal",function(I){try{const k=I.getProvider(Ko).getImmediate();return{logEvent:(L,j,ue)=>function(D,I,k,L){D=(0,ae.m9)(D),function(D,I,k,L,j){return Jo.apply(this,arguments)}(xr,Ii[D.app.options.appId],I,k,L).catch(j=>jn.error(j))}(k,L,j,ue)}}catch(k){throw nt.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,oe.registerVersion)(gu,"0.7.4"),(0,oe.registerVersion)(gu,"0.7.4","esm2017");var Ln=N(2869),Ta=N(8843);const nc=new class extends Ta.v{}(class extends Ln.o{constructor(I,k){super(I,k),this.scheduler=I,this.work=k}schedule(I,k=0){return k>0?super.schedule(I,k):(this.delay=k,this.state=I,this.scheduler.flush(this),this)}execute(I,k){return k>0||this.closed?super.execute(I,k):this._execute(I,k)}requestAsyncId(I,k,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(I,k,L):I.flush(this)}});var Si=N(2210),fl=N(8305),Aa=N(7384),yo=N(5222),ta=N(4763);const kd=new d.GfV("7.2.0"),yu="__angularfire_symbol__analyticsIsSupported",Nt="__angularfire_symbol__remoteConfigIsSupported",Qi="__angularfire_symbol__messagingIsSupported";function Pd(D,I,k){if(I){if(1===I.length)return I[0];const ue=I.filter(Oe=>Oe.app===k);if(1===ue.length)return ue[0]}return k.container.getProvider(D).getImmediate({optional:!0})}globalThis[yu]||(globalThis[yu]=Fn().then(D=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=D)),globalThis[Qi]||(globalThis[Qi]=wa().then(D=>globalThis.__angularfire_symbol__messagingIsSupportedValue=D)),globalThis[Nt]||(globalThis[Nt]=Ul().then(D=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=D));const Xi=(D,I)=>{const k=I?[I]:(0,B.C6)(),L=[];return k.forEach(j=>{j.container.getProvider(D).instances.forEach(Oe=>{L.includes(Oe)||L.push(Oe)})}),L};function Es(){}class rc{constructor(I,k=nc){this.zone=I,this.delegate=k}now(){return this.delegate.now()}schedule(I,k,L){const j=this.zone;return this.delegate.schedule(function(Oe){j.runGuarded(()=>{I.apply(this,[Oe])})},k,L)}}class Sa{constructor(I){this.zone=I,this.task=null}call(I,k){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Es,{},Es,Es)),k.pipe((0,Aa.b)({next:L,complete:L,error:L})).subscribe(I).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let bu=(()=>{class D{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new rc(Zone.current)),this.insideAngular=k.run(()=>new rc(Zone.current,Si.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(k){return new(k||D)(d.LFG(d.R0b))},D.\u0275prov=d.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function gn(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function ws(D){return gn().ngZone.runOutsideAngular(()=>D())}function qr(D){return gn().ngZone.run(()=>D())}function ic(D){return gn(),function(D){return function(k){return(k=k.lift(new Sa(D.ngZone))).pipe((0,yo.R)(D.outsideAngular),(0,ta.Q)(D.insideAngular))}}(gn())(D)}const Eu=(D,I)=>{const k=void 0;return function(){return I&&setTimeout(()=>{"scheduled"===I.state&&I.invoke()},10),qr(()=>D.apply(k,arguments))}},Gs=(D,I)=>function(){let k;for(let j=0;j<arguments.length;j++)"function"==typeof arguments[j]&&(I&&(k||(k=qr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Es,{},Es,Es)))),arguments[j]=Eu(arguments[j],k));const L=ws(()=>D.apply(this,arguments));if(!I){if(L instanceof fl.y){const j=gn();return L.pipe((0,yo.R)(j.outsideAngular),(0,ta.Q)(j.insideAngular))}return qr(()=>L)}return L instanceof fl.y?L.pipe(ic):L instanceof Promise?qr(()=>new Promise((j,ue)=>L.then(Oe=>qr(()=>j(Oe)),Oe=>qr(()=>ue(Oe))))):"function"==typeof L&&k?function(){return setTimeout(()=>{k&&"scheduled"===k.state&&k.invoke()},10),L.apply(this,arguments)}:qr(()=>L)}},8224:(tt,ve,N)=>{"use strict";N.d(ve,{$:()=>Cd,A:()=>St,E:()=>Ls,G:()=>yr,I:()=>Ei,K:()=>no,L:()=>Bn,M:()=>Tr,N:()=>$l,P:()=>Eu,Q:()=>Bo,R:()=>Pd,T:()=>Wi,U:()=>Us,V:()=>Qa,W:()=>zl,X:()=>js,Y:()=>hu,Z:()=>$o,_:()=>zo,a:()=>Xo,a0:()=>nl,a1:()=>rl,a2:()=>Wl,a3:()=>Kl,a4:()=>Zl,a5:()=>Yl,a6:()=>If,a7:()=>Nn,a8:()=>Hs,a9:()=>hg,aA:()=>vo,aB:()=>gg,aC:()=>Mn,aG:()=>Yi,aJ:()=>Wt,aa:()=>fg,ab:()=>Ko,ae:()=>Dd,af:()=>jn,ag:()=>Ca,aj:()=>ql,ak:()=>uo,am:()=>fo,an:()=>zn,ao:()=>Ll,ap:()=>Yn,aq:()=>Fs,ar:()=>an,as:()=>On,at:()=>$f,au:()=>bo,av:()=>Xt,aw:()=>Fe,ax:()=>st,ay:()=>ri,az:()=>Cu,b:()=>_s,c:()=>Qe,d:()=>Wr,e:()=>Yt,f:()=>ia,g:()=>Pf,h:()=>kf,i:()=>Ln,j:()=>es,k:()=>Ig,l:()=>bu,m:()=>pc,o:()=>Tt,r:()=>ws,s:()=>rc,u:()=>ic,z:()=>vn});var d=N(8239),B=N(4213),P=N(1572);function ne(v,p){var g={};for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&p.indexOf(b)<0&&(g[b]=v[b]);if(null!=v&&"function"==typeof Object.getOwnPropertySymbols){var M=0;for(b=Object.getOwnPropertySymbols(v);M<b.length;M++)p.indexOf(b[M])<0&&Object.prototype.propertyIsEnumerable.call(v,b[M])&&(g[b[M]]=v[b[M]])}return g}var De=N(3855),Le=N(1177);const Tt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},St={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const vn=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},gr=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},_r=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ls=new De.Yd("@firebase/auth");function wn(v,...p){ls.logLevel<=De.in.ERROR&&ls.error(`Auth (${P.SDK_VERSION}): ${v}`,...p)}function On(v,...p){throw vi(v,...p)}function Xt(v,...p){return vi(v,...p)}function cs(v,p,g){const b=Object.assign(Object.assign({},gr()),{[p]:g});return new B.LL("auth","Firebase",b).create(p,{appName:v.name})}function ei(v,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&On(v,"argument-error"),cs(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vi(v,...p){if("string"!=typeof v){const g=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=v.name),v._errorFactory.create(g,...b)}return _r.create(v,...p)}function Fe(v,p,...g){if(!v)throw vi(p,...g)}function Cn(v){const p="INTERNAL ASSERTION FAILED: "+v;throw wn(p),new Error(p)}function Yn(v,p){v||Cn(p)}const ti=new Map;function st(v){Yn(v instanceof Function,"Expected a class definition");let p=ti.get(v);return p?(Yn(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,ti.set(v,p),p)}function Qn(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function mt(){return"http:"===ht()||"https:"===ht()}function ht(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Xn{constructor(p,g){this.shortDelay=p,this.longDelay=g,Yn(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(mt()||(0,B.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function en(v,p){Yn(v.emulator,"Emulator should always be set here");const{url:g}=v.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class Ke{static initialize(p,g,b){this.fetchImpl=p,g&&(this.headersImpl=g),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Cn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Cn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Cn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ut={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ma=new Xn(3e4,6e4);function hn(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function tn(v,p,g,b){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,d.Z)(function*(v,p,g,b,M={}){return fn(v,M,(0,d.Z)(function*(){let O={},Q={};b&&("GET"===p?Q=b:O={body:JSON.stringify(b)});const ye=(0,B.xO)(Object.assign({key:v.config.apiKey},Q)).slice(1),Je=yield v._getAdditionalHeaders();return Je["Content-Type"]="application/json",v.languageCode&&(Je["X-Firebase-Locale"]=v.languageCode),Ke.fetch()(W(v,v.config.apiHost,g,ye),Object.assign({method:p,headers:Je,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function fn(v,p,g){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,d.Z)(function*(v,p,g){v._canInitEmulator=!1;const b=Object.assign(Object.assign({},ut),p);try{const M=new Ce(v),O=yield Promise.race([g(),M.promise]);M.clearNetworkTimeout();const Q=yield O.json();if("needConfirmation"in Q)throw re(v,"account-exists-with-different-credential",Q);if(O.ok&&!("errorMessage"in Q))return Q;{const ye=O.ok?Q.errorMessage:Q.error.message,[Je,Ue]=ye.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Je)throw re(v,"credential-already-in-use",Q);if("EMAIL_EXISTS"===Je)throw re(v,"email-already-in-use",Q);const wt=b[Je]||Je.toLowerCase().replace(/[_\s]+/g,"-");if(Ue)throw cs(v,wt,Ue);On(v,wt)}}catch(M){if(M instanceof B.ZR)throw M;On(v,"network-request-failed")}})).apply(this,arguments)}function z(v,p,g,b){return U.apply(this,arguments)}function U(){return(U=(0,d.Z)(function*(v,p,g,b,M={}){const O=yield tn(v,p,g,b,M);return"mfaPendingCredential"in O&&On(v,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function W(v,p,g,b){const M=`${p}${g}?${b}`;return v.config.emulator?en(v.config,M):`${v.config.apiScheme}://${M}`}class Ce{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,b)=>{this.timer=setTimeout(()=>b(Xt(this.auth,"timeout")),ma.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function re(v,p,g){const b={appName:v.name};g.email&&(b.email=g.email),g.phoneNumber&&(b.phoneNumber=g.phoneNumber);const M=Xt(v,p,b);return M.customData._tokenResponse=g,M}function lt(){return(lt=(0,d.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function on(v,p){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,d.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function $n(v,p){return ur.apply(this,arguments)}function ur(){return(ur=(0,d.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function te(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function Ae(){return(Ae=(0,d.Z)(function*(v,p=!1){const g=(0,B.m9)(v),b=yield g.getIdToken(p),M=Ct(b);Fe(M&&M.exp&&M.auth_time&&M.iat,g.auth,"internal-error");const O="object"==typeof M.firebase?M.firebase:void 0,Q=null==O?void 0:O.sign_in_provider;return{claims:M,token:b,authTime:te(Ge(M.auth_time)),issuedAtTime:te(Ge(M.iat)),expirationTime:te(Ge(M.exp)),signInProvider:Q||null,signInSecondFactor:(null==O?void 0:O.sign_in_second_factor)||null}})).apply(this,arguments)}function Ge(v){return 1e3*Number(v)}function Ct(v){const[p,g,b]=v.split(".");if(void 0===p||void 0===g||void 0===b)return wn("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,B.tV)(g);return M?JSON.parse(M):(wn("Failed to decode base64 JWT payload"),null)}catch(M){return wn("Caught error parsing JWT payload as JSON",M),null}}function Pt(v,p){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,d.Z)(function*(v,p,g=!1){if(g)return p;try{return yield p}catch(b){throw b instanceof B.ZR&&qn(b)&&v.auth.currentUser===v&&(yield v.auth.signOut()),b}})).apply(this,arguments)}function qn({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Vn{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const M=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,d.Z)(function*(){yield g.iteration()}),b)}iteration(){var p=this;return(0,d.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&p.schedule(!0))}p.schedule()})()}}class Dt{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=te(this.lastLoginAt),this.creationTime=te(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Pn(v){return ze.apply(this,arguments)}function ze(){return(ze=(0,d.Z)(function*(v){var p;const g=v.auth,b=yield v.getIdToken(),M=yield Pt(v,$n(g,{idToken:b}));Fe(null==M?void 0:M.users.length,g,"internal-error");const O=M.users[0];v._notifyReloadListener(O);const Q=(null===(p=O.providerUserInfo)||void 0===p?void 0:p.length)?bi(O.providerUserInfo):[],ye=Hr(v.providerData,Q),wt=!!v.isAnonymous&&!(v.email&&O.passwordHash||(null==ye?void 0:ye.length)),un={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:ye,metadata:new Dt(O.createdAt,O.lastLoginAt),isAnonymous:wt};Object.assign(v,un)})).apply(this,arguments)}function Dn(){return(Dn=(0,d.Z)(function*(v){const p=(0,B.m9)(v);yield Pn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Hr(v,p){return[...v.filter(b=>!p.some(M=>M.providerId===b.providerId)),...p]}function bi(v){return v.map(p=>{var{providerId:g}=p,b=ne(p,["providerId"]);return{providerId:g,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function us(){return(us=(0,d.Z)(function*(v,p){const g=yield fn(v,{},(0,d.Z)(function*(){const b=(0,B.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:M,apiKey:O}=v.config,Q=W(v,M,"/v1/token",`key=${O}`),ye=yield v._getAdditionalHeaders();return ye["Content-Type"]="application/x-www-form-urlencoded",Ke.fetch()(Q,{method:"POST",headers:ye,body:b})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Sn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Fe(p.idToken,"internal-error"),Fe(void 0!==p.idToken,"internal-error"),Fe(void 0!==p.refreshToken,"internal-error");const g="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function(v){const p=Ct(v);return Fe(p,"internal-error"),Fe(void 0!==p.exp,"internal-error"),Fe(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var b=this;return(0,d.Z)(function*(){return Fe(!b.accessToken||b.refreshToken,p,"user-token-expired"),g||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var b=this;return(0,d.Z)(function*(){const{accessToken:M,refreshToken:O,expiresIn:Q}=yield function(v,p){return us.apply(this,arguments)}(p,g);b.updateTokensAndExpiration(M,O,Number(Q))})()}updateTokensAndExpiration(p,g,b){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,g){const{refreshToken:b,accessToken:M,expirationTime:O}=g,Q=new Sn;return b&&(Fe("string"==typeof b,"internal-error",{appName:p}),Q.refreshToken=b),M&&(Fe("string"==typeof M,"internal-error",{appName:p}),Q.accessToken=M),O&&(Fe("number"==typeof O,"internal-error",{appName:p}),Q.expirationTime=O),Q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Sn,this.toJSON())}_performRefresh(){return Cn("not implemented")}}function Sr(v,p){Fe("string"==typeof v||void 0===v,"internal-error",{appName:p})}class ni{constructor(p){var{uid:g,auth:b,stsTokenManager:M}=p,O=ne(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Vn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=b,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.metadata=new Dt(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,d.Z)(function*(){const b=yield Pt(g,g.stsTokenManager.getToken(g.auth,p));return Fe(b,g.auth,"internal-error"),g.accessToken!==b&&(g.accessToken=b,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),b})()}getIdTokenResult(p){return function(v){return Ae.apply(this,arguments)}(this,p)}reload(){return function(v){return Dn.apply(this,arguments)}(this)}_assign(p){this!==p&&(Fe(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new ni(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var b=this;return(0,d.Z)(function*(){let M=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),M=!0),g&&(yield Pn(b)),yield b.auth._persistUserIfCurrent(b),M&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,d.Z)(function*(){const g=yield p.getIdToken();return yield Pt(p,function(v,p){return lt.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var b,M,O,Q,ye,Je,Ue,wt;const un=null!==(b=g.displayName)&&void 0!==b?b:void 0,bn=null!==(M=g.email)&&void 0!==M?M:void 0,Zr=null!==(O=g.phoneNumber)&&void 0!==O?O:void 0,Mi=null!==(Q=g.photoURL)&&void 0!==Q?Q:void 0,tr=null!==(ye=g.tenantId)&&void 0!==ye?ye:void 0,El=null!==(Je=g._redirectEventId)&&void 0!==Je?Je:void 0,wl=null!==(Ue=g.createdAt)&&void 0!==Ue?Ue:void 0,Au=null!==(wt=g.lastLoginAt)&&void 0!==wt?wt:void 0,{uid:Er,emailVerified:Cl,isAnonymous:Su,providerData:jd,stsTokenManager:Wf}=g;Fe(Er&&Wf,p,"internal-error");const Mu=Sn.fromJSON(this.name,Wf);Fe("string"==typeof Er,p,"internal-error"),Sr(un,p.name),Sr(bn,p.name),Fe("boolean"==typeof Cl,p,"internal-error"),Fe("boolean"==typeof Su,p,"internal-error"),Sr(Zr,p.name),Sr(Mi,p.name),Sr(tr,p.name),Sr(El,p.name),Sr(wl,p.name),Sr(Au,p.name);const Hd=new ni({uid:Er,auth:p,email:bn,emailVerified:Cl,displayName:un,isAnonymous:Su,photoURL:Mi,phoneNumber:Zr,tenantId:tr,stsTokenManager:Mu,createdAt:wl,lastLoginAt:Au});return jd&&Array.isArray(jd)&&(Hd.providerData=jd.map($d=>Object.assign({},$d))),El&&(Hd._redirectEventId=El),Hd}static _fromIdTokenResponse(p,g,b=!1){return(0,d.Z)(function*(){const M=new Sn;M.updateFromServerResponse(g);const O=new ni({uid:g.localId,auth:p,stsTokenManager:M,isAnonymous:b});return yield Pn(O),O})()}}const no=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(g,b){var M=this;return(0,d.Z)(function*(){M.storage[g]=b})()}_get(g){var b=this;return(0,d.Z)(function*(){const M=b.storage[g];return void 0===M?null:M})()}_remove(g){var b=this;return(0,d.Z)(function*(){delete b.storage[g]})()}_addListener(g,b){}_removeListener(g,b){}}return v.type="NONE",v})();function ri(v,p,g){return`firebase:${v}:${p}:${g}`}class ii{constructor(p,g,b){this.persistence=p,this.auth=g,this.userKey=b;const{config:M,name:O}=this.auth;this.fullUserKey=ri(this.userKey,M.apiKey,O),this.fullPersistenceKey=ri("persistence",M.apiKey,O),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,d.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?ni._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,d.Z)(function*(){if(g.persistence===p)return;const b=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,b?g.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,b="authUser"){return(0,d.Z)(function*(){if(!g.length)return new ii(st(no),p,b);const M=(yield Promise.all(g.map(function(){var Ue=(0,d.Z)(function*(wt){if(yield wt._isAvailable())return wt});return function(wt){return Ue.apply(this,arguments)}}()))).filter(Ue=>Ue);let O=M[0]||st(no);const Q=ri(b,p.config.apiKey,p.name);let ye=null;for(const Ue of g)try{const wt=yield Ue._get(Q);if(wt){const un=ni._fromJSON(p,wt);Ue!==O&&(ye=un),O=Ue;break}}catch(wt){}const Je=M.filter(Ue=>Ue._shouldAllowMigration);return O._shouldAllowMigration&&Je.length?(O=Je[0],ye&&(yield O._set(Q,ye.toJSON())),yield Promise.all(g.map(function(){var Ue=(0,d.Z)(function*(wt){if(wt!==O)try{yield wt._remove(Q)}catch(un){}});return function(wt){return Ue.apply(this,arguments)}}())),new ii(O,p,b)):new ii(O,p,b)})()}}function Ns(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(si(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(pn(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Qc(p))return"Blackberry";if(Lo(p))return"Webos";if(Fo(p))return"Safari";if((p.includes("chrome/")||ro(p))&&!p.includes("edge/"))return"Chrome";if(an(p))return"Android";{const b=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function pn(v=(0,B.z$)()){return/firefox\//i.test(v)}function Fo(v=(0,B.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function ro(v=(0,B.z$)()){return/crios\//i.test(v)}function si(v=(0,B.z$)()){return/iemobile/i.test(v)}function an(v=(0,B.z$)()){return/android/i.test(v)}function Qc(v=(0,B.z$)()){return/blackberry/i.test(v)}function Lo(v=(0,B.z$)()){return/webos/i.test(v)}function Fs(v=(0,B.z$)()){return/iphone|ipad|ipod/i.test(v)}function Ll(v=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function hs(v=(0,B.z$)()){return Fs(v)||an(v)||Lo(v)||Qc(v)||/windows phone/i.test(v)||si(v)}function qa(v,p=[]){let g;switch(v){case"Browser":g=Ns((0,B.z$)());break;case"Worker":g=`${Ns((0,B.z$)())}-${v}`;break;default:g=v}const b=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${P.SDK_VERSION}/${b}`}class zi{constructor(p,g){this.app=p,this.config=g,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xc(this),this.idTokenSubscription=new Xc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_r,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=g.sdkClientVersion}_initializeWithPersistence(p,g){var b=this;return g&&(this._popupRedirectResolver=st(g)),this._initializationPromise=this.queue((0,d.Z)(function*(){var M,O;if(!b._deleted&&(b.persistenceManager=yield ii.create(b,p),!b._deleted)){if(null===(M=b._popupRedirectResolver)||void 0===M?void 0:M._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch(Q){}yield b.initializeCurrentUser(g),b.lastNotifiedUid=(null===(O=b.currentUser)||void 0===O?void 0:O.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,d.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g)}})()}initializeCurrentUser(p){var g=this;return(0,d.Z)(function*(){var b;let M=yield g.assertedPersistence.getCurrentUser();if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const O=null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId,Q=null==M?void 0:M._redirectEventId,ye=yield g.tryRedirectSignIn(p);(!O||O===Q)&&(null==ye?void 0:ye.user)&&(M=ye.user)}return M?M._redirectEventId?(Fe(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===M._redirectEventId?g.directlySetCurrentUser(M):g.reloadAndSetCurrentUserOrClear(M)):g.reloadAndSetCurrentUserOrClear(M):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var g=this;return(0,d.Z)(function*(){let b=null;try{b=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch(M){yield g._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,d.Z)(function*(){try{yield Pn(p)}catch(b){if("auth/network-request-failed"!==b.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,d.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,d.Z)(function*(){const b=p?(0,B.m9)(p):null;return b&&Fe(b.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(b&&b._clone(g))})()}_updateCurrentUser(p){var g=this;return(0,d.Z)(function*(){if(!g._deleted)return p&&Fe(g.tenantId===p.tenantId,g,"tenant-id-mismatch"),g.queue((0,d.Z)(function*(){yield g.directlySetCurrentUser(p),g.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,d.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var g=this;return this.queue((0,d.Z)(function*(){yield g.assertedPersistence.setPersistence(st(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new B.LL("auth","Firebase",p())}onAuthStateChanged(p,g,b){return this.registerStateListener(this.authStateSubscription,p,g,b)}onIdTokenChanged(p,g,b){return this.registerStateListener(this.idTokenSubscription,p,g,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var b=this;return(0,d.Z)(function*(){const M=yield b.getOrInitRedirectPersistenceManager(g);return null===p?M.removeCurrentUser():M.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,d.Z)(function*(){if(!g.redirectPersistenceManager){const b=p&&st(p)||g._popupRedirectResolver;Fe(b,g,"argument-error"),g.redirectPersistenceManager=yield ii.create(g,[st(b._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,d.Z)(function*(){var b,M;return g._isInitialized&&(yield g.queue((0,d.Z)(function*(){}))),(null===(b=g._currentUser)||void 0===b?void 0:b._redirectEventId)===p?g._currentUser:(null===(M=g.redirectUser)||void 0===M?void 0:M._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,d.Z)(function*(){if(p===g.currentUser)return g.queue((0,d.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,b,M){if(this._deleted)return()=>{};const O="function"==typeof g?g:g.next.bind(g),Q=this._isInitialized?Promise.resolve():this._initializationPromise;return Fe(Q,this,"internal-error"),Q.then(()=>O(this.currentUser)),"function"==typeof g?p.addObserver(g,b,M):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,d.Z)(function*(){g.currentUser&&g.currentUser!==p&&(g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh()),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=qa(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,d.Z)(function*(){const g={"X-Client-Version":p.clientVersion};return p.app.options.appId&&(g["X-Firebase-gmpid"]=p.app.options.appId),g})()}}function Mn(v){return(0,B.m9)(v)}class Xc{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,B.ne)(g=>this.observer=g)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ls(v,p,g){const b=Mn(v);Fe(b._canInitEmulator,b,"emulator-config-failed"),Fe(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const M=!!(null==g?void 0:g.disableWarnings),O=Wa(p),{host:Q,port:ye}=function(v){const p=Wa(v),g=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!g)return{host:"",port:null};const b=g[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(b);if(M){const O=M[1];return{host:O,port:Jc(b.substr(O.length+1))}}{const[O,Q]=b.split(":");return{host:O,port:Jc(Q)}}}(p);b.config.emulator={url:`${O}//${Q}${null===ye?"":`:${ye}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:Q,port:ye,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function(){function v(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function Wa(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function Jc(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class yr{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return Cn("not implemented")}_getIdTokenResponse(p){return Cn("not implemented")}_linkToIdToken(p,g){return Cn("not implemented")}_getReauthenticationResolver(p){return Cn("not implemented")}}function eu(v,p){return tu.apply(this,arguments)}function tu(){return(tu=(0,d.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:resetPassword",hn(v,p))})).apply(this,arguments)}function bd(v,p){return nu.apply(this,arguments)}function nu(){return(nu=(0,d.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ef(v,p){return ru.apply(this,arguments)}function ru(){return(ru=(0,d.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:update",hn(v,p))})).apply(this,arguments)}function Vs(){return(Vs=(0,d.Z)(function*(v,p){return z(v,"POST","/v1/accounts:signInWithPassword",hn(v,p))})).apply(this,arguments)}function Bl(v,p){return iu.apply(this,arguments)}function iu(){return(iu=(0,d.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:sendOobCode",hn(v,p))})).apply(this,arguments)}function wf(v,p){return su.apply(this,arguments)}function su(){return(su=(0,d.Z)(function*(v,p){return Bl(v,p)})).apply(this,arguments)}function Cf(v,p){return ou.apply(this,arguments)}function ou(){return(ou=(0,d.Z)(function*(v,p){return Bl(v,p)})).apply(this,arguments)}function dg(v,p){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,d.Z)(function*(v,p){return Bl(v,p)})).apply(this,arguments)}function Ul(v,p){return ga.apply(this,arguments)}function ga(){return(ga=(0,d.Z)(function*(v,p){return Bl(v,p)})).apply(this,arguments)}function au(){return(au=(0,d.Z)(function*(v,p){return z(v,"POST","/v1/accounts:signInWithEmailLink",hn(v,p))})).apply(this,arguments)}function _a(){return(_a=(0,d.Z)(function*(v,p){return z(v,"POST","/v1/accounts:signInWithEmailLink",hn(v,p))})).apply(this,arguments)}class Gi extends yr{constructor(p,g,b,M=null){super("password",b),this._email=p,this._password=g,this._tenantId=M}static _fromEmailAndPassword(p,g){return new Gi(p,g,"password")}static _fromEmailAndCode(p,g,b=null){return new Gi(p,g,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,d.Z)(function*(){switch(g.signInMethod){case"password":return function(v,p){return Vs.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function(v,p){return au.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:On(p,"internal-error")}})()}_linkToIdToken(p,g){var b=this;return(0,d.Z)(function*(){switch(b.signInMethod){case"password":return bd(p,{idToken:g,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function(v,p){return _a.apply(this,arguments)}(p,{idToken:g,email:b._email,oobCode:b._password});default:On(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function qi(v,p){return lu.apply(this,arguments)}function lu(){return(lu=(0,d.Z)(function*(v,p){return z(v,"POST","/v1/accounts:signInWithIdp",hn(v,p))})).apply(this,arguments)}class Ei extends yr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new Ei(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):On("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:M}=g,O=ne(g,["providerId","signInMethod"]);if(!b||!M)return null;const Q=new Ei(b,M);return Q.idToken=O.idToken||void 0,Q.accessToken=O.accessToken||void 0,Q.secret=O.secret,Q.nonce=O.nonce,Q.pendingToken=O.pendingToken||null,Q}_getIdTokenResponse(p){return qi(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,qi(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,qi(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,B.xO)(g)}return p}}function io(v,p){return wi.apply(this,arguments)}function wi(){return(wi=(0,d.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:sendVerificationCode",hn(v,p))})).apply(this,arguments)}function ya(){return(ya=(0,d.Z)(function*(v,p){return z(v,"POST","/v1/accounts:signInWithPhoneNumber",hn(v,p))})).apply(this,arguments)}function Ka(){return(Ka=(0,d.Z)(function*(v,p){const g=yield z(v,"POST","/v1/accounts:signInWithPhoneNumber",hn(v,p));if(g.temporaryProof)throw re(v,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Ed={USER_NOT_FOUND:"user-not-found"};function Hl(){return(Hl=(0,d.Z)(function*(v,p){return z(v,"POST","/v1/accounts:signInWithPhoneNumber",hn(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Ed)})).apply(this,arguments)}class fs extends yr{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new fs({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new fs({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function(v,p){return ya.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function(v,p){return Ka.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function(v,p){return Hl.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:b,verificationCode:M}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:b,code:M}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:b,phoneNumber:M,temporaryProof:O}=p;return b||g||M||O?new fs({verificationId:g,verificationCode:b,phoneNumber:M,temporaryProof:O}):null}}class so{constructor(p){var g,b,M,O,Q,ye;const Je=(0,B.zd)((0,B.pd)(p)),Ue=null!==(g=Je.apiKey)&&void 0!==g?g:null,wt=null!==(b=Je.oobCode)&&void 0!==b?b:null,un=function(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=Je.mode)&&void 0!==M?M:null);Fe(Ue&&wt&&un,"argument-error"),this.apiKey=Ue,this.operation=un,this.code=wt,this.continueUrl=null!==(O=Je.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(Q=Je.languageCode)&&void 0!==Q?Q:null,this.tenantId=null!==(ye=Je.tenantId)&&void 0!==ye?ye:null}static parseLink(p){const g=function(v){const p=(0,B.zd)((0,B.pd)(v)).link,g=p?(0,B.zd)((0,B.pd)(p)).deep_link_id:null,b=(0,B.zd)((0,B.pd)(v)).deep_link_id;return(b?(0,B.zd)((0,B.pd)(b)).link:null)||b||g||p||v}(p);try{return new so(g)}catch(b){return null}}}let Bn=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(g,b){return Gi._fromEmailAndPassword(g,b)}static credentialWithLink(g,b){const M=so.parseLink(b);return Fe(M,"argument-error"),Gi._fromEmailAndCode(g,M.code,M.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class zr{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Ci extends zr{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Wi extends Ci{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return Fe("providerId"in g&&"signInMethod"in g,"argument-error"),Ei._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Fe(p.idToken||p.accessToken,"argument-error"),Ei._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Wi.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Wi.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:b,oauthTokenSecret:M,pendingToken:O,nonce:Q,providerId:ye}=p;if(!b&&!M&&!g&&!O||!ye)return null;try{return new Wi(ye)._credential({idToken:g,accessToken:b,nonce:Q,pendingToken:O})}catch(Je){return null}}}let Tr=(()=>{class v extends Ci{constructor(){super("facebook.com")}static credential(g){return Ei._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch(b){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),$l=(()=>{class v extends Ci{constructor(){super("google.com"),this.addScope("profile")}static credential(g,b){return Ei._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:b})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:M}=g;if(!b&&!M)return null;try{return v.credential(b,M)}catch(O){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Bo=(()=>{class v extends Ci{constructor(){super("github.com")}static credential(g){return Ei._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch(b){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Wt extends yr{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return qi(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,qi(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,qi(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:M,pendingToken:O}=g;return b&&M&&O&&b===M?new Wt(b,O):null}static _create(p,g){return new Wt(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Us extends zr{constructor(p){Fe(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Us.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Us.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=Wt.fromJSON(p);return Fe(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:b}=p;if(!g||!b)return null;try{return Wt._create(b,g)}catch(M){return null}}}let Qa=(()=>{class v extends Ci{constructor(){super("twitter.com")}static credential(g,b){return Ei._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:b})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:b,oauthTokenSecret:M}=g;if(!b||!M)return null;try{return v.credential(b,M)}catch(O){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Mr(v,p){return jo.apply(this,arguments)}function jo(){return(jo=(0,d.Z)(function*(v,p){return z(v,"POST","/v1/accounts:signUp",hn(v,p))})).apply(this,arguments)}class dr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,b,M=!1){return(0,d.Z)(function*(){const O=yield ni._fromIdTokenResponse(p,b,M),Q=gt(b);return new dr({user:O,providerId:Q,_tokenResponse:b,operationType:g})})()}static _forOperation(p,g,b){return(0,d.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const M=gt(b);return new dr({user:p,providerId:M,_tokenResponse:b,operationType:g})})()}}function gt(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function zl(v){return oo.apply(this,arguments)}function oo(){return(oo=(0,d.Z)(function*(v){var p;const g=Mn(v);if(yield g._initializationPromise,null===(p=g.currentUser)||void 0===p?void 0:p.isAnonymous)return new dr({user:g.currentUser,providerId:null,operationType:"signIn"});const b=yield Mr(g,{returnSecureToken:!0}),M=yield dr._fromIdTokenResponse(g,"signIn",b,!0);return yield g._updateCurrentUser(M.user),M})).apply(this,arguments)}class ao extends B.ZR{constructor(p,g,b,M){var O;super(g.code,g.message),this.operationType=b,this.user=M,Object.setPrototypeOf(this,ao.prototype),this.customData={appName:p.name,tenantId:null!==(O=p.tenantId)&&void 0!==O?O:void 0,_serverResponse:g.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,g,b,M){return new ao(p,g,b,M)}}function Gl(v,p,g,b){return("reauthenticate"===p?g._getReauthenticationResolver(v):g._getIdTokenResponse(v)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?ao._fromErrorAndOperation(v,O,p,b):O})}function Xa(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function ql(v,p){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,d.Z)(function*(v,p){const g=(0,B.m9)(v);yield Ki(!0,g,p);const{providerUserInfo:b}=yield on(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),M=Xa(b||[]);return g.providerData=g.providerData.filter(O=>M.has(O.providerId)),M.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function xe(v,p){return $t.apply(this,arguments)}function $t(){return($t=(0,d.Z)(function*(v,p,g=!1){const b=yield Pt(v,p._linkToIdToken(v.auth,yield v.getIdToken()),g);return dr._forOperation(v,"link",b)})).apply(this,arguments)}function Ki(v,p,g){return Un.apply(this,arguments)}function Un(){return(Un=(0,d.Z)(function*(v,p,g){yield Pn(p);const M=!1===v?"provider-already-linked":"no-such-provider";Fe(Xa(p.providerData).has(g)===v,p.auth,M)})).apply(this,arguments)}function el(v,p){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,d.Z)(function*(v,p,g=!1){const{auth:b}=v,M="reauthenticate";try{const O=yield Pt(v,Gl(b,M,p,v),g);Fe(O.idToken,b,"internal-error");const Q=Ct(O.idToken);Fe(Q,b,"internal-error");const{sub:ye}=Q;return Fe(v.uid===ye,b,"user-mismatch"),dr._forOperation(v,M,O)}catch(O){throw"auth/user-not-found"===(null==O?void 0:O.code)&&On(b,"user-mismatch"),O}})).apply(this,arguments)}function Ar(v,p){return va.apply(this,arguments)}function va(){return(va=(0,d.Z)(function*(v,p,g=!1){const b="signIn",M=yield Gl(v,b,p),O=yield dr._fromIdTokenResponse(v,b,M);return g||(yield v._updateCurrentUser(O.user)),O})).apply(this,arguments)}function js(v,p){return du.apply(this,arguments)}function du(){return(du=(0,d.Z)(function*(v,p){return Ar(Mn(v),p)})).apply(this,arguments)}function hu(v,p){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,d.Z)(function*(v,p){const g=(0,B.m9)(v);return yield Ki(!1,g,p.providerId),xe(g,p)})).apply(this,arguments)}function $o(v,p){return or.apply(this,arguments)}function or(){return(or=(0,d.Z)(function*(v,p){return el((0,B.m9)(v),p)})).apply(this,arguments)}function ps(v,p){return lo.apply(this,arguments)}function lo(){return(lo=(0,d.Z)(function*(v,p){return z(v,"POST","/v1/accounts:signInWithCustomToken",hn(v,p))})).apply(this,arguments)}function zo(v,p){return ai.apply(this,arguments)}function ai(){return(ai=(0,d.Z)(function*(v,p){const g=Mn(v),b=yield ps(g,{token:p,returnSecureToken:!0}),M=yield dr._fromIdTokenResponse(g,"signIn",b);return yield g._updateCurrentUser(M.user),M})).apply(this,arguments)}class Go{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?tl._fromServerResponse(p,g):On(p,"internal-error")}}class tl extends Go{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new tl(g)}}function qo(v,p,g){var b;Fe((null===(b=g.url)||void 0===b?void 0:b.length)>0,v,"invalid-continue-uri"),Fe(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Fe(g.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(Fe(g.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function Cd(v,p,g){return co.apply(this,arguments)}function co(){return(co=(0,d.Z)(function*(v,p,g){const b=(0,B.m9)(v),M={requestType:"PASSWORD_RESET",email:p};g&&qo(b,M,g),yield Cf(b,M)})).apply(this,arguments)}function nl(v,p,g){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,d.Z)(function*(v,p,g){yield eu((0,B.m9)(v),{oobCode:p,newPassword:g})})).apply(this,arguments)}function rl(v,p){return il.apply(this,arguments)}function il(){return(il=(0,d.Z)(function*(v,p){yield Ef((0,B.m9)(v),{oobCode:p})})).apply(this,arguments)}function Wl(v,p){return ba.apply(this,arguments)}function ba(){return(ba=(0,d.Z)(function*(v,p){const g=(0,B.m9)(v),b=yield eu(g,{oobCode:p}),M=b.requestType;switch(Fe(M,g,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Fe(b.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Fe(b.mfaInfo,g,"internal-error");default:Fe(b.email,g,"internal-error")}let O=null;return b.mfaInfo&&(O=Go._fromServerResponse(Mn(g),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:O},operation:M}})).apply(this,arguments)}function Kl(v,p){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,d.Z)(function*(v,p){const{data:g}=yield Wl((0,B.m9)(v),p);return g.email})).apply(this,arguments)}function Zl(v,p,g){return sl.apply(this,arguments)}function sl(){return(sl=(0,d.Z)(function*(v,p,g){const b=Mn(v),M=yield Mr(b,{returnSecureToken:!0,email:p,password:g}),O=yield dr._fromIdTokenResponse(b,"signIn",M);return yield b._updateCurrentUser(O.user),O})).apply(this,arguments)}function Yl(v,p,g){return js((0,B.m9)(v),Bn.credential(p,g))}function If(v,p,g){return wa.apply(this,arguments)}function wa(){return(wa=(0,d.Z)(function*(v,p,g){const b=(0,B.m9)(v),M={requestType:"EMAIL_SIGNIN",email:p};Fe(g.handleCodeInApp,b,"argument-error"),g&&qo(b,M,g),yield dg(b,M)})).apply(this,arguments)}function Nn(v,p){const g=so.parseLink(p);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}function Hs(v,p,g){return In.apply(this,arguments)}function In(){return(In=(0,d.Z)(function*(v,p,g){const b=(0,B.m9)(v),M=Bn.credentialWithLink(p,g||Qn());return Fe(M._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),js(b,M)})).apply(this,arguments)}function Ql(v,p){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,d.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:createAuthUri",hn(v,p))})).apply(this,arguments)}function hg(v,p){return ol.apply(this,arguments)}function ol(){return(ol=(0,d.Z)(function*(v,p){const b={identifier:p,continueUri:mt()?Qn():"http://localhost"},{signinMethods:M}=yield Ql((0,B.m9)(v),b);return M||[]})).apply(this,arguments)}function fg(v,p){return fu.apply(this,arguments)}function fu(){return(fu=(0,d.Z)(function*(v,p){const g=(0,B.m9)(v),M={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&qo(g.auth,M,p);const{email:O}=yield wf(g.auth,M);O!==v.email&&(yield v.reload())})).apply(this,arguments)}function Ko(v,p,g){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,d.Z)(function*(v,p,g){const b=(0,B.m9)(v),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};g&&qo(b.auth,O,g);const{email:Q}=yield Ul(b.auth,O);Q!==v.email&&(yield v.reload())})).apply(this,arguments)}function Jl(v,p){return al.apply(this,arguments)}function al(){return(al=(0,d.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Dd(v,p){return ll.apply(this,arguments)}function ll(){return(ll=(0,d.Z)(function*(v,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const b=(0,B.m9)(v),O={idToken:yield b.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},Q=yield Pt(b,Jl(b.auth,O));b.displayName=Q.displayName||null,b.photoURL=Q.photoUrl||null;const ye=b.providerData.find(({providerId:Je})=>"password"===Je);ye&&(ye.displayName=b.displayName,ye.photoURL=b.photoURL),yield b._updateTokensIfNecessary(Q)})).apply(this,arguments)}function jn(v,p){return Id((0,B.m9)(v),p,null)}function Ca(v,p){return Id((0,B.m9)(v),null,p)}function Id(v,p,g){return pu.apply(this,arguments)}function pu(){return(pu=(0,d.Z)(function*(v,p,g){const{auth:b}=v,O={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(O.email=p),g&&(O.password=g);const Q=yield Pt(v,bd(b,O));yield v._updateTokensIfNecessary(Q,!0)})).apply(this,arguments)}class ms{constructor(p,g,b={}){this.isNewUser=p,this.providerId=g,this.profile=b}}class ul extends ms{constructor(p,g,b,M){super(p,g,b),this.username=M}}class ec extends ms{constructor(p,g){super(p,"facebook.com",g)}}class Td extends ul{constructor(p,g){super(p,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class pg extends ms{constructor(p,g){super(p,"google.com",g)}}class xn extends ul{constructor(p,g,b){super(p,"twitter.com",g,b)}}function uo(v){const{user:p,_tokenResponse:g}=v;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function(v){var p,g;if(!v)return null;const{providerId:b}=v,M=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},O=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!b&&(null==v?void 0:v.idToken)){const Q=null===(g=null===(p=Ct(v.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(Q)return new ms(O,"anonymous"!==Q&&"custom"!==Q?Q:null)}if(!b)return null;switch(b){case"facebook.com":return new ec(O,M);case"github.com":return new Td(O,M);case"google.com":return new pg(O,M);case"twitter.com":return new xn(O,M,v.screenName||null);case"custom":case"anonymous":return new ms(O,null);default:return new ms(O,b,M)}}(g)}class Di{constructor(p,g){this.type=p,this.credential=g}static _fromIdtoken(p){return new Di("enroll",p)}static _fromMfaPendingCredential(p){return new Di("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,b;if(null==p?void 0:p.multiFactorSession){if(null===(g=p.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return Di._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(b=p.multiFactorSession)||void 0===b?void 0:b.idToken)return Di._fromIdtoken(p.multiFactorSession.idToken)}return null}}class dl{constructor(p,g,b){this.session=p,this.hints=g,this.signInResolver=b}static _fromError(p,g){const b=Mn(p),M=g.customData._serverResponse,O=(M.mfaInfo||[]).map(ye=>Go._fromServerResponse(b,ye));Fe(M.mfaPendingCredential,b,"internal-error");const Q=Di._fromMfaPendingCredential(M.mfaPendingCredential);return new dl(Q,O,function(){var ye=(0,d.Z)(function*(Je){const Ue=yield Je._process(b,Q);delete M.mfaInfo,delete M.mfaPendingCredential;const wt=Object.assign(Object.assign({},M),{idToken:Ue.idToken,refreshToken:Ue.refreshToken});switch(g.operationType){case"signIn":const un=yield dr._fromIdTokenResponse(b,g.operationType,wt);return yield b._updateCurrentUser(un.user),un;case"reauthenticate":return Fe(g.user,b,"internal-error"),dr._forOperation(g.user,g.operationType,wt);default:On(b,"internal-error")}});return function(Je){return ye.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,d.Z)(function*(){return g.signInResolver(p)})()}}function fo(v,p){var g;const b=(0,B.m9)(v),M=p;return Fe(p.customData.operationType,b,"argument-error"),Fe(null===(g=M.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,b,"argument-error"),dl._fromError(b,M)}function bt(v,p){return tn(v,"POST","/v2/accounts/mfaEnrollment:start",hn(v,p))}class gs{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(b=>Go._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new gs(p)}getSession(){var p=this;return(0,d.Z)(function*(){return Di._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,g){var b=this;return(0,d.Z)(function*(){const M=p,O=yield b.getSession(),Q=yield Pt(b.user,M._process(b.user.auth,O,g));return yield b.user._updateTokensIfNecessary(Q),b.user.reload()})()}unenroll(p){var g=this;return(0,d.Z)(function*(){const b="string"==typeof p?p:p.uid,M=yield g.user.getIdToken(),O=yield Pt(g.user,function(v,p){return tn(v,"POST","/v2/accounts/mfaEnrollment:withdraw",hn(v,p))}(g.user.auth,{idToken:M,mfaEnrollmentId:b}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Q})=>Q!==b),yield g.user._updateTokensIfNecessary(O);try{yield g.user.reload()}catch(Q){if("auth/user-token-expired"!==Q.code)throw Q}})()}}const Qo=new WeakMap;function zn(v){const p=(0,B.m9)(v);return Qo.has(p)||Qo.set(p,gs._fromUser(p)),Qo.get(p)}const po="__sak";class mo{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(po,"1"),this.storage.removeItem(po),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const _s=(()=>{class v extends mo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,b)=>this.onStorageEvent(g,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const v=(0,B.z$)();return Fo(v)||Fs(v)}()&&function(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=hs(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const b of Object.keys(this.listeners)){const M=this.storage.getItem(b),O=this.localCache[b];M!==O&&g(b,O,M)}}onStorageEvent(g,b=!1){if(!g.key)return void this.forAllChangedKeys((ye,Je,Ue)=>{this.notifyListeners(ye,Ue)});const M=g.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ye=this.storage.getItem(M);if(g.newValue!==ye)null!==g.newValue?this.storage.setItem(M,g.newValue):this.storage.removeItem(M);else if(this.localCache[M]===g.newValue&&!b)return}const O=()=>{const ye=this.storage.getItem(M);!b&&this.localCache[M]===ye||this.notifyListeners(M,ye)},Q=this.storage.getItem(M);(0,B.w1)()&&10===document.documentMode&&Q!==g.newValue&&g.newValue!==g.oldValue?setTimeout(O,10):O()}notifyListeners(g,b){this.localCache[g]=b;const M=this.listeners[g];if(M)for(const O of Array.from(M))O(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,b,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:b,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,b){var M=()=>super._set,O=this;return(0,d.Z)(function*(){yield M().call(O,g,b),O.localCache[g]=JSON.stringify(b)})()}_get(g){var b=()=>super._get,M=this;return(0,d.Z)(function*(){const O=yield b().call(M,g);return M.localCache[g]=JSON.stringify(O),O})()}_remove(g){var b=()=>super._remove,M=this;return(0,d.Z)(function*(){yield b().call(M,g),delete M.localCache[g]})()}}return v.type="LOCAL",v})(),Xo=(()=>{class v extends mo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,b){}_removeListener(g,b){}}return v.type="SESSION",v})();let ys=(()=>{class v{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const b=this.receivers.find(O=>O.isListeningto(g));if(b)return b;const M=new v(g);return this.receivers.push(M),M}isListeningto(g){return this.eventTarget===g}handleEvent(g){var b=this;return(0,d.Z)(function*(){const M=g,{eventId:O,eventType:Q,data:ye}=M.data,Je=b.handlersMap[Q];if(!(null==Je?void 0:Je.size))return;M.ports[0].postMessage({status:"ack",eventId:O,eventType:Q});const Ue=Array.from(Je).map(function(){var un=(0,d.Z)(function*(bn){return bn(M.origin,ye)});return function(bn){return un.apply(this,arguments)}}()),wt=yield function(v){return Promise.all(v.map(function(){var p=(0,d.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(b){return{fulfilled:!1,reason:b}}});return function(g){return p.apply(this,arguments)}}()))}(Ue);M.ports[0].postMessage({status:"done",eventId:O,eventType:Q,response:wt})})()}_subscribe(g,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(b)}_unsubscribe(g,b){this.handlersMap[g]&&b&&this.handlersMap[g].delete(b),(!b||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Yi(v="",p=10){let g="";for(let b=0;b<p;b++)g+=Math.floor(10*Math.random());return v+g}class $s{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,b=50){var M=this;return(0,d.Z)(function*(){const O="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let Q,ye;return new Promise((Je,Ue)=>{const wt=Yi("",20);O.port1.start();const un=setTimeout(()=>{Ue(new Error("unsupported_event"))},b);ye={messageChannel:O,onMessage(bn){const Zr=bn;if(Zr.data.eventId===wt)switch(Zr.data.status){case"ack":clearTimeout(un),Q=setTimeout(()=>{Ue(new Error("timeout"))},3e3);break;case"done":clearTimeout(Q),Je(Zr.data.response);break;default:clearTimeout(un),clearTimeout(Q),Ue(new Error("invalid_response"))}}},M.handlers.add(ye),O.port1.addEventListener("message",ye.onMessage),M.target.postMessage({eventType:p,eventId:wt,data:g},[O.port2])}).finally(()=>{ye&&M.removeMessageHandler(ye)})})()}}function Gt(){return window}function Jo(){return void 0!==Gt().WorkerGlobalScope&&"function"==typeof Gt().importScripts}function vr(){return(vr=(0,d.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const Ti="firebaseLocalStorageDb",Rr="firebaseLocalStorage",Rn="fbase_key";class ci{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function vs(v,p){return v.transaction([Rr],p?"readwrite":"readonly").objectStore(Rr)}function ea(){const v=indexedDB.open(Ti,1);return new Promise((p,g)=>{v.addEventListener("error",()=>{g(v.error)}),v.addEventListener("upgradeneeded",()=>{const b=v.result;try{b.createObjectStore(Rr,{keyPath:Rn})}catch(M){g(M)}}),v.addEventListener("success",(0,d.Z)(function*(){const b=v.result;b.objectStoreNames.contains(Rr)?p(b):(b.close(),yield function(){const v=indexedDB.deleteDatabase(Ti);return new ci(v).toPromise()}(),p(yield ea()))}))})}function Af(v,p,g){return mu.apply(this,arguments)}function mu(){return(mu=(0,d.Z)(function*(v,p,g){const b=vs(v,!0).put({[Rn]:p,value:g});return new ci(b).toPromise()})).apply(this,arguments)}function _o(){return(_o=(0,d.Z)(function*(v,p){const g=vs(v,!1).get(p),b=yield new ci(g).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function br(v,p){const g=vs(v,!0).delete(p);return new ci(g).toPromise()}const Ln=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,d.Z)(function*(){return g.db||(g.db=yield ea()),g.db})()}_withRetries(g){var b=this;return(0,d.Z)(function*(){let M=0;for(;;)try{const O=yield b._openDb();return yield g(O)}catch(O){if(M++>3)throw O;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,d.Z)(function*(){return Jo()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,d.Z)(function*(){g.receiver=ys._getInstance(Jo()?self:null),g.receiver._subscribe("keyChanged",function(){var b=(0,d.Z)(function*(M,O){return{keyProcessed:(yield g._poll()).includes(O.key)}});return function(M,O){return b.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var b=(0,d.Z)(function*(M,O){return["keyChanged"]});return function(M,O){return b.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,d.Z)(function*(){var b,M;if(g.activeServiceWorker=yield function(){return vr.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new $s(g.activeServiceWorker);const O=yield g.sender._send("ping",{},800);!O||(null===(b=O[0])||void 0===b?void 0:b.fulfilled)&&(null===(M=O[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var b=this;return(0,d.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:g},b.serviceWorkerReceiverAvailable?800:50)}catch(M){}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const g=yield ea();return yield Af(g,po,"1"),yield br(g,po),!0}catch(g){}return!1})()}_withPendingWrite(g){var b=this;return(0,d.Z)(function*(){b.pendingWrites++;try{yield g()}finally{b.pendingWrites--}})()}_set(g,b){var M=this;return(0,d.Z)(function*(){return M._withPendingWrite((0,d.Z)(function*(){return yield M._withRetries(O=>Af(O,g,b)),M.localCache[g]=b,M.notifyServiceWorker(g)}))})()}_get(g){var b=this;return(0,d.Z)(function*(){const M=yield b._withRetries(O=>function(v,p){return _o.apply(this,arguments)}(O,g));return b.localCache[g]=M,M})()}_remove(g){var b=this;return(0,d.Z)(function*(){return b._withPendingWrite((0,d.Z)(function*(){return yield b._withRetries(M=>br(M,g)),delete b.localCache[g],b.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,d.Z)(function*(){const b=yield g._withRetries(Q=>{const ye=vs(Q,!1).getAll();return new ci(ye).toPromise()});if(!b)return[];if(0!==g.pendingWrites)return[];const M=[],O=new Set;for(const{fbase_key:Q,value:ye}of b)O.add(Q),JSON.stringify(g.localCache[Q])!==JSON.stringify(ye)&&(g.notifyListeners(Q,ye),M.push(Q));for(const Q of Object.keys(g.localCache))g.localCache[Q]&&!O.has(Q)&&(g.notifyListeners(Q,null),M.push(Q));return M})()}notifyListeners(g,b){this.localCache[g]=b;const M=this.listeners[g];if(M)for(const O of Array.from(M))O(b)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function hl(v,p){return tn(v,"POST","/v2/accounts/mfaSignIn:start",hn(v,p))}function nc(){return(nc=(0,d.Z)(function*(v){return(yield tn(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Si(v){return new Promise((p,g)=>{const b=document.createElement("script");b.setAttribute("src",v),b.onload=p,b.onerror=M=>{const O=Xt("internal-error");O.customData=M,g(O)},b.type="text/javascript",b.charset="UTF-8",function(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(b)})}function fl(v){return`__${v}${Math.floor(1e6*Math.random())}`}const ta=1e12;class kd{constructor(p){this.auth=p,this.counter=ta,this._widgets=new Map}render(p,g){const b=this.counter;return this._widgets.set(b,new _u(p,this.auth.name,g||{})),this.counter++,b}reset(p){var g;const b=p||ta;null===(g=this._widgets.get(b))||void 0===g||g.delete(),this._widgets.delete(b)}getResponse(p){var g;return(null===(g=this._widgets.get(p||ta))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,d.Z)(function*(){var b;return null===(b=g._widgets.get(p||ta))||void 0===b||b.execute(),""})()}}class _u{constructor(p,g,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof p?document.getElementById(p):p;Fe(M,"argument-error",{appName:g}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(v){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<50;b++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}();const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const pl=fl("rcb"),Nt=new Xn(3e4,6e4);class Qi{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Gt().grecaptcha}load(p,g=""){return Fe((v=g).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Gt().grecaptcha):new Promise((b,M)=>{const O=Gt().setTimeout(()=>{M(Xt(p,"network-request-failed"))},Nt.get());Gt()[pl]=()=>{Gt().clearTimeout(O),delete Gt()[pl];const ye=Gt().grecaptcha;if(!ye)return void M(Xt(p,"internal-error"));const Je=ye.render;ye.render=(Ue,wt)=>{const un=Je(Ue,wt);return this.counter++,un},this.hostLanguage=g,b(ye)},Si(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:pl,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(O),M(Xt(p,"internal-error"))})});var v}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!Gt().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Od{load(p){return(0,d.Z)(function*(){return new kd(p)})()}clearedOneInstance(){}}const vu="recaptcha",Mf={theme:"light",type:"image"};class Pd{constructor(p,g=Object.assign({},Mf),b){this.parameters=g,this.type=vu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Mn(b),this.isInvisible="invisible"===this.parameters.size,Fe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof p?document.getElementById(p):p;Fe(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Od:new Qi,this.validateStartingState()}verify(){var p=this;return(0,d.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(g)||new Promise(O=>{const Q=ye=>{!ye||(p.tokenChangeListeners.delete(Q),O(ye))};p.tokenChangeListeners.add(Q),p.isInvisible&&b.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Fe(!this.parameters.sitekey,this.auth,"argument-error"),Fe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Fe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(b=>b(g)),"function"==typeof p)p(g);else if("string"==typeof p){const b=Gt()[p];"function"==typeof b&&b(g)}}}assertNotDestroyed(){Fe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,d.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const b=document.createElement("div");g.appendChild(b),g=b}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,d.Z)(function*(){Fe(mt()&&!Jo(),p.auth,"internal-error"),yield function(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function(v){return nc.apply(this,arguments)}(p.auth);Fe(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return Fe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Es{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=fs._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function rc(v,p,g){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,d.Z)(function*(v,p,g){const b=Mn(v),M=yield Ma(b,p,(0,B.m9)(g));return new Es(M,O=>js(b,O))})).apply(this,arguments)}function bu(v,p,g){return gn.apply(this,arguments)}function gn(){return(gn=(0,d.Z)(function*(v,p,g){const b=(0,B.m9)(v);yield Ki(!1,b,"phone");const M=yield Ma(b.auth,p,(0,B.m9)(g));return new Es(M,O=>hu(b,O))})).apply(this,arguments)}function ws(v,p,g){return qr.apply(this,arguments)}function qr(){return(qr=(0,d.Z)(function*(v,p,g){const b=(0,B.m9)(v),M=yield Ma(b.auth,p,(0,B.m9)(g));return new Es(M,O=>$o(b,O))})).apply(this,arguments)}function Ma(v,p,g){return na.apply(this,arguments)}function na(){return(na=(0,d.Z)(function*(v,p,g){var b;const M=yield g.verify();try{let O;if(Fe("string"==typeof M,v,"argument-error"),Fe(g.type===vu,v,"argument-error"),O="string"==typeof p?{phoneNumber:p}:p,"session"in O){const Q=O.session;if("phoneNumber"in O)return Fe("enroll"===Q.type,v,"internal-error"),(yield bt(v,{idToken:Q.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{Fe("signin"===Q.type,v,"internal-error");const ye=(null===(b=O.multiFactorHint)||void 0===b?void 0:b.uid)||O.multiFactorUid;return Fe(ye,v,"missing-multi-factor-info"),(yield hl(v,{mfaPendingCredential:Q.credential,mfaEnrollmentId:ye,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Q}=yield io(v,{phoneNumber:O.phoneNumber,recaptchaToken:M});return Q}}finally{g._reset()}})).apply(this,arguments)}function ic(v,p){return sc.apply(this,arguments)}function sc(){return(sc=(0,d.Z)(function*(v,p){yield xe((0,B.m9)(v),p)})).apply(this,arguments)}let Eu=(()=>{class v{constructor(g){this.providerId=v.PROVIDER_ID,this.auth=Mn(g)}verifyPhoneNumber(g,b){return Ma(this.auth,g,(0,B.m9)(b))}static credential(g,b){return fs._fromVerification(g,b)}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:b,temporaryProof:M}=g;return b&&M?fs._fromTokenResponse(b,M):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Gs(v,p){return p?st(p):(Fe(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class D extends yr{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return qi(p,this._buildIdpRequest())}_linkToIdToken(p,g){return qi(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return qi(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function I(v){return Ar(v.auth,new D(v),v.bypassAuthState)}function k(v){const{auth:p,user:g}=v;return Fe(g,p,"internal-error"),el(g,new D(v),v.bypassAuthState)}function L(v){return j.apply(this,arguments)}function j(){return(j=(0,d.Z)(function*(v){const{auth:p,user:g}=v;return Fe(g,p,"internal-error"),xe(g,new D(v),v.bypassAuthState)})).apply(this,arguments)}class ue{constructor(p,g,b,M,O=!1){this.auth=p,this.resolver=b,this.user=M,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,d.Z)(function*(b,M){p.pendingPromise={resolve:b,reject:M};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(O){p.reject(O)}});return function(b,M){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,d.Z)(function*(){const{urlResponse:b,sessionId:M,postBody:O,tenantId:Q,error:ye,type:Je}=p;if(ye)return void g.reject(ye);const Ue={auth:g.auth,requestUri:b,sessionId:M,tenantId:Q||void 0,postBody:O||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Je)(Ue))}catch(wt){g.reject(wt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return I;case"linkViaPopup":case"linkViaRedirect":return L;case"reauthViaPopup":case"reauthViaRedirect":return k;default:On(this.auth,"internal-error")}}resolve(p){Yn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Yn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Oe=new Xn(2e3,1e4);function Qe(v,p,g){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,d.Z)(function*(v,p,g){const b=Mn(v);ei(v,p,zr);const M=Gs(b,g);return new cn(b,"signInViaPopup",p,M).executeNotNull()})).apply(this,arguments)}function Yt(v,p,g){return ln.apply(this,arguments)}function ln(){return(ln=(0,d.Z)(function*(v,p,g){const b=(0,B.m9)(v);ei(b.auth,p,zr);const M=Gs(b.auth,g);return new cn(b.auth,"reauthViaPopup",p,M,b).executeNotNull()})).apply(this,arguments)}function Wr(v,p,g){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,d.Z)(function*(v,p,g){const b=(0,B.m9)(v);ei(b.auth,p,zr);const M=Gs(b.auth,g);return new cn(b.auth,"linkViaPopup",p,M,b).executeNotNull()})).apply(this,arguments)}let cn=(()=>{class v extends ue{constructor(g,b,M,O,Q){super(g,b,O,Q),this.provider=M,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var g=this;return(0,d.Z)(function*(){const b=yield g.execute();return Fe(b,g.auth,"internal-error"),b})()}onExecution(){var g=this;return(0,d.Z)(function*(){Yn(1===g.filter.length,"Popup operations only handle one event");const b=Yi();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],b),g.authWindow.associatedEvent=b,g.resolver._originValidation(g.auth).catch(M=>{g.reject(M)}),g.resolver._isIframeWebStorageSupported(g.auth,M=>{M||g.reject(Xt(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Xt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const g=()=>{var b,M;this.pollId=(null===(M=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===M?void 0:M.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Xt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Oe.get())};g()}}return v.currentPopupAction=null,v})();const Pr=new Map;class xa extends ue{constructor(p,g,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,d.Z)(function*(){let b=Pr.get(g.auth._key());if(!b){try{const O=(yield function(v,p){return Kr.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;b=()=>Promise.resolve(O)}catch(M){b=()=>Promise.reject(M)}Pr.set(g.auth._key(),b)}return g.bypassAuthState||Pr.set(g.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,b=this;return(0,d.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(b,p);if("unknown"!==p.type){if(p.eventId){const M=yield b.auth._redirectUserForId(p.eventId);if(M)return b.user=M,g().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function Kr(){return(Kr=(0,d.Z)(function*(v,p){const g=Ra(p),b=xf(v);if(!(yield b._isAvailable()))return!1;const M="true"===(yield b._get(g));return yield b._remove(g),M})).apply(this,arguments)}function qs(v,p){return oc.apply(this,arguments)}function oc(){return(oc=(0,d.Z)(function*(v,p){return xf(v)._set(Ra(p),"true")})).apply(this,arguments)}function gg(){Pr.clear()}function xf(v){return st(v._redirectPersistence)}function Ra(v){return ri("pendingRedirect",v.config.apiKey,v.name)}function ia(v,p,g){return function(v,p,g){return Rf.apply(this,arguments)}(v,p,g)}function Rf(){return(Rf=(0,d.Z)(function*(v,p,g){const b=Mn(v);ei(v,p,zr);const M=Gs(b,g);return yield qs(M,b),M._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function kf(v,p,g){return function(v,p,g){return Of.apply(this,arguments)}(v,p,g)}function Of(){return(Of=(0,d.Z)(function*(v,p,g){const b=(0,B.m9)(v);ei(b.auth,p,zr);const M=Gs(b.auth,g);yield qs(M,b.auth);const O=yield Nf(b);return M._openRedirect(b.auth,p,"reauthViaRedirect",O)})).apply(this,arguments)}function Pf(v,p,g){return function(v,p,g){return ac.apply(this,arguments)}(v,p,g)}function ac(){return(ac=(0,d.Z)(function*(v,p,g){const b=(0,B.m9)(v);ei(b.auth,p,zr);const M=Gs(b.auth,g);yield Ki(!1,b,p.providerId),yield qs(M,b.auth);const O=yield Nf(b);return M._openRedirect(b.auth,p,"linkViaRedirect",O)})).apply(this,arguments)}function es(v,p){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,d.Z)(function*(v,p){return yield Mn(v)._initializationPromise,vo(v,p,!1)})).apply(this,arguments)}function vo(v,p){return wu.apply(this,arguments)}function wu(){return(wu=(0,d.Z)(function*(v,p,g=!1){const b=Mn(v),M=Gs(b,p),Q=yield new xa(b,M,g).execute();return Q&&!g&&(delete Q.user._redirectEventId,yield b._persistUserIfCurrent(Q.user),yield b._setRedirectUser(null,p)),Q})).apply(this,arguments)}function Nf(v){return sa.apply(this,arguments)}function sa(){return(sa=(0,d.Z)(function*(v){const p=Yi(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class Cu{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(g=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Du(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var b;if(p.error&&!Du(p)){const M=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";g.onError(Xt(this.auth,M))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const b=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ml(p))}saveEventToCache(p){this.cachedEventUids.add(ml(p)),this.lastProcessedEventTime=Date.now()}}function ml(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function Du({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===(null==p?void 0:p.code)}function bo(v){return cc.apply(this,arguments)}function cc(){return(cc=(0,d.Z)(function*(v,p={}){return tn(v,"GET","/v1/projects",p)})).apply(this,arguments)}const Fd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vg=/^https?/;function Ld(){return(Ld=(0,d.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield bo(v);for(const g of p)try{if(Eo(g))return}catch(b){}On(v,"unauthorized-domain")})).apply(this,arguments)}function Eo(v){const p=Qn(),{protocol:g,hostname:b}=new URL(p);if(v.startsWith("chrome-extension://")){const Q=new URL(v);return""===Q.hostname&&""===b?"chrome-extension:"===g&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&Q.hostname===b}if(!vg.test(g))return!1;if(Fd.test(v))return b===v;const M=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(b)}const gl=new Xn(3e4,6e4);function _l(){const v=Gt().___jsl;if(null==v?void 0:v.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let g=0;g<v.CP.length;g++)v.CP[g]=null}let yl=null;function Ff(v){return yl=yl||function(v){return new Promise((p,g)=>{var b,M,O;function Q(){_l(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{_l(),g(Xt(v,"network-request-failed"))},timeout:gl.get()})}if(null===(M=null===(b=Gt().gapi)||void 0===b?void 0:b.iframes)||void 0===M?void 0:M.Iframe)p(gapi.iframes.getContext());else{if(!(null===(O=Gt().gapi)||void 0===O?void 0:O.load)){const ye=fl("iframefcb");return Gt()[ye]=()=>{gapi.load?Q():g(Xt(v,"network-request-failed"))},Si(`https://apis.google.com/js/api.js?onload=${ye}`).catch(Je=>g(Je))}Q()}}).catch(p=>{throw yl=null,p})}(v),yl}const Lf=new Xn(5e3,15e3),Eg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cg(v){const p=v.config;Fe(p.authDomain,v,"auth-domain-config-required");const g=p.emulator?en(p,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,b={apiKey:p.apiKey,appName:v.name,v:P.SDK_VERSION},M=wg.get(v.config.apiHost);M&&(b.eid=M);const O=v._getFrameworks();return O.length&&(b.fw=O.join(",")),`${g}?${(0,B.xO)(b).slice(1)}`}function hc(){return hc=(0,d.Z)(function*(v){const p=yield Ff(v),g=Gt().gapi;return Fe(g,v,"internal-error"),p.open({where:document.body,url:Cg(v),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Eg,dontclear:!0},b=>new Promise(function(){var M=(0,d.Z)(function*(O,Q){yield b.restyle({setHideOnLeave:!1});const ye=Xt(v,"network-request-failed"),Je=Gt().setTimeout(()=>{Q(ye)},Lf.get());function Ue(){Gt().clearTimeout(Je),O(b)}b.ping(Ue).then(Ue,()=>{Q(ye)})});return function(O,Q){return M.apply(this,arguments)}}()))}),hc.apply(this,arguments)}const Dg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Vd{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function $f(v,p,g,b,M,O){Fe(v.config.authDomain,v,"auth-domain-config-required"),Fe(v.config.apiKey,v,"invalid-api-key");const Q={apiKey:v.config.apiKey,appName:v.name,authType:g,redirectUrl:b,v:P.SDK_VERSION,eventId:M};if(p instanceof zr){p.setDefaultLanguage(v.languageCode),Q.providerId=p.providerId||"",(0,B.xb)(p.getCustomParameters())||(Q.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Je,Ue]of Object.entries(O||{}))Q[Je]=Ue}if(p instanceof Ci){const Je=p.getScopes().filter(Ue=>""!==Ue);Je.length>0&&(Q.scopes=Je.join(","))}v.tenantId&&(Q.tid=v.tenantId);const ye=Q;for(const Je of Object.keys(ye))void 0===ye[Je]&&delete ye[Je];return`${function({config:v}){return v.emulator?en(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,B.xO)(ye).slice(1)}`}const fc="webStorageSupport",Ig=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xo,this._completeRedirectFn=vo}_openPopup(p,g,b,M){var O=this;return(0,d.Z)(function*(){var Q;Yn(null===(Q=O.eventManagers[p._key()])||void 0===Q?void 0:Q.manager,"_initialize() not called before _openPopup()");const ye=$f(p,g,b,Qn(),M);return function(v,p,g,b=500,M=600){const O=Math.max((window.screen.availHeight-M)/2,0).toString(),Q=Math.max((window.screen.availWidth-b)/2,0).toString();let ye="";const Je=Object.assign(Object.assign({},Dg),{width:b.toString(),height:M.toString(),top:O,left:Q}),Ue=(0,B.z$)().toLowerCase();g&&(ye=ro(Ue)?"_blank":g),pn(Ue)&&(p=p||"http://localhost",Je.scrollbars="yes");const wt=Object.entries(Je).reduce((bn,[Zr,Mi])=>`${bn}${Zr}=${Mi},`,"");if(function(v=(0,B.z$)()){var p;return Fs(v)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(Ue)&&"_self"!==ye)return function(v,p){const g=document.createElement("a");g.href=v,g.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(b)}(p||"",ye),new Vd(null);const un=window.open(p||"",ye,wt);Fe(un,v,"popup-blocked");try{un.focus()}catch(bn){}return new Vd(un)}(p,ye,Yi())})()}_openRedirect(p,g,b,M){var O=this;return(0,d.Z)(function*(){return yield O._originValidation(p),v=$f(p,g,b,Qn(),M),Gt().location.href=v,new Promise(()=>{});var v})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:M,promise:O}=this.eventManagers[g];return M?Promise.resolve(M):(Yn(O,"If manager is not set, promise should be"),O)}const b=this.initAndGetManager(p);return this.eventManagers[g]={promise:b},b.catch(()=>{delete this.eventManagers[g]}),b}initAndGetManager(p){var g=this;return(0,d.Z)(function*(){const b=yield function(v){return hc.apply(this,arguments)}(p),M=new Cu(p);return b.register("authEvent",O=>(Fe(null==O?void 0:O.authEvent,p,"invalid-auth-event"),{status:M.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:M},g.iframes[p._key()]=b,M})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(fc,{type:fc},M=>{var O;const Q=null===(O=null==M?void 0:M[0])||void 0===O?void 0:O[fc];void 0!==Q&&g(!!Q),On(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(v){return Ld.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return hs()||Fo()||Fs()}};class oa extends class{constructor(p){this.factorId=p}_process(p,g,b){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,b);case"signin":return this._finalizeSignIn(p,g.credential);default:return Cn("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new oa(p)}_finalizeEnroll(p,g,b){return function(v,p){return tn(v,"POST","/v2/accounts/mfaEnrollment:finalize",hn(v,p))}(p,{idToken:g,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function(v,p){return tn(v,"POST","/v2/accounts/mfaSignIn:finalize",hn(v,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let pc=(()=>{class v{constructor(){}static assertion(g){return oa._fromCredential(g)}}return v.FACTOR_ID="phone",v})();var v,zf="@firebase/auth";class Ud{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,d.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(b=>{var M;p((null===(M=b)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}v="Browser",(0,P._registerComponent)(new Le.wA("auth",(p,{options:g})=>{const b=p.getProvider("app").getImmediate(),{apiKey:M,authDomain:O}=b.options;return(Q=>{Fe(M&&!M.includes(":"),"invalid-api-key",{appName:Q.name}),Fe(!(null==O?void 0:O.includes(":")),"argument-error",{appName:Q.name});const ye={apiKey:M,authDomain:O,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qa(v)},Je=new zi(Q,ye);return function(v,p){const g=(null==p?void 0:p.persistence)||[],b=(Array.isArray(g)?g:[g]).map(st);(null==p?void 0:p.errorMap)&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(b,null==p?void 0:p.popupRedirectResolver)}(Je,g),Je})(b)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,b)=>{p.getProvider("auth-internal").initialize()})),(0,P._registerComponent)(new Le.wA("auth-internal",p=>{const g=Mn(p.getProvider("auth").getImmediate());return new Ud(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.registerVersion)(zf,"0.19.4",void 0),(0,P.registerVersion)(zf,"0.19.4","esm2017")},4213:(tt,ve,N)=>{"use strict";N.d(ve,{BH:()=>Be,LL:()=>me,ZR:()=>Le,zI:()=>fe,US:()=>ge,tV:()=>he,$s:()=>tn,r3:()=>sn,Sg:()=>Me,ne:()=>Yn,vZ:()=>Xt,ZB:()=>$,pd:()=>Fe,m9:()=>Ps,z$:()=>je,jU:()=>J,ru:()=>ce,d:()=>we,xb:()=>wn,w1:()=>We,hl:()=>dt,uI:()=>He,UG:()=>de,b$:()=>Te,G6:()=>Ye,Mn:()=>ke,xO:()=>ei,zd:()=>vi,eu:()=>se});const oe=function(z){const U=[];let W=0;for(let Ce=0;Ce<z.length;Ce++){let re=z.charCodeAt(Ce);re<128?U[W++]=re:re<2048?(U[W++]=re>>6|192,U[W++]=63&re|128):55296==(64512&re)&&Ce+1<z.length&&56320==(64512&z.charCodeAt(Ce+1))?(re=65536+((1023&re)<<10)+(1023&z.charCodeAt(++Ce)),U[W++]=re>>18|240,U[W++]=re>>12&63|128,U[W++]=re>>6&63|128,U[W++]=63&re|128):(U[W++]=re>>12|224,U[W++]=re>>6&63|128,U[W++]=63&re|128)}return U},ge={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(z,U){if(!Array.isArray(z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ce=[];for(let re=0;re<z.length;re+=3){const it=z[re],lt=re+1<z.length,on=lt?z[re+1]:0,Jn=re+2<z.length,$n=Jn?z[re+2]:0;let Y=(15&on)<<2|$n>>6,K=63&$n;Jn||(K=64,lt||(Y=64)),Ce.push(W[it>>2],W[(3&it)<<4|on>>4],W[Y],W[K])}return Ce.join("")},encodeString(z,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(z):this.encodeByteArray(oe(z),U)},decodeString(z,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(z):function(z){const U=[];let W=0,Ce=0;for(;W<z.length;){const re=z[W++];if(re<128)U[Ce++]=String.fromCharCode(re);else if(re>191&&re<224){const it=z[W++];U[Ce++]=String.fromCharCode((31&re)<<6|63&it)}else if(re>239&&re<365){const Jn=((7&re)<<18|(63&z[W++])<<12|(63&z[W++])<<6|63&z[W++])-65536;U[Ce++]=String.fromCharCode(55296+(Jn>>10)),U[Ce++]=String.fromCharCode(56320+(1023&Jn))}else{const it=z[W++],lt=z[W++];U[Ce++]=String.fromCharCode((15&re)<<12|(63&it)<<6|63&lt)}}return U.join("")}(this.decodeStringToByteArray(z,U))},decodeStringToByteArray(z,U){this.init_();const W=U?this.charToByteMapWebSafe_:this.charToByteMap_,Ce=[];for(let re=0;re<z.length;){const it=W[z.charAt(re++)],on=re<z.length?W[z.charAt(re)]:0;++re;const $n=re<z.length?W[z.charAt(re)]:64;++re;const te=re<z.length?W[z.charAt(re)]:64;if(++re,null==it||null==on||null==$n||null==te)throw Error();Ce.push(it<<2|on>>4),64!==$n&&(Ce.push(on<<4&240|$n>>2),64!==te&&Ce.push($n<<6&192|te))}return Ce},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let z=0;z<this.ENCODED_VALS.length;z++)this.byteToCharMap_[z]=this.ENCODED_VALS.charAt(z),this.charToByteMap_[this.byteToCharMap_[z]]=z,this.byteToCharMapWebSafe_[z]=this.ENCODED_VALS_WEBSAFE.charAt(z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[z]]=z,z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(z)]=z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(z)]=z)}}},le=function(z){return function(z){const U=oe(z);return ge.encodeByteArray(U,!0)}(z).replace(/\./g,"")},he=function(z){try{return ge.decodeString(z,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};function $(z,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===z&&(z={});break;case Array:z=[];break;default:return U}for(const W in U)!U.hasOwnProperty(W)||!ie(W)||(z[W]=$(z[W],U[W]));return z}function ie(z){return"__proto__"!==z}class Be{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,W)=>{this.resolve=U,this.reject=W})}wrapCallback(U){return(W,Ce)=>{W?this.reject(W):this.resolve(Ce),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(W):U(W,Ce))}}}function Me(z,U){if(z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ce=U||"demo-project",re=z.iat||0,it=z.sub||z.user_id;if(!it)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const lt=Object.assign({iss:`https://securetoken.google.com/${Ce}`,aud:Ce,iat:re,exp:re+3600,auth_time:re,sub:it,user_id:it,firebase:{sign_in_provider:"custom",identities:{}}},z);return[le(JSON.stringify({alg:"none",type:"JWT"})),le(JSON.stringify(lt)),""].join(".")}function je(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function He(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function de(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(z){return!1}}function J(){return"object"==typeof self&&self.self===self}function ce(){const z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof z&&void 0!==z.id}function Te(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function we(){return je().indexOf("Electron/")>=0}function We(){const z=je();return z.indexOf("MSIE ")>=0||z.indexOf("Trident/")>=0}function ke(){return je().indexOf("MSAppHost/")>=0}function Ye(){return!de()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dt(){return"object"==typeof indexedDB}function se(){return new Promise((z,U)=>{try{let W=!0;const Ce="validate-browser-context-for-indexeddb-analytics-module",re=self.indexedDB.open(Ce);re.onsuccess=()=>{re.result.close(),W||self.indexedDB.deleteDatabase(Ce),z(!0)},re.onupgradeneeded=()=>{W=!1},re.onerror=()=>{var it;U((null===(it=re.error)||void 0===it?void 0:it.message)||"")}}catch(W){U(W)}})}function fe(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Le extends Error{constructor(U,W,Ce){super(W),this.code=U,this.customData=Ce,this.name="FirebaseError",Object.setPrototypeOf(this,Le.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,me.prototype.create)}}class me{constructor(U,W,Ce){this.service=U,this.serviceName=W,this.errors=Ce}create(U,...W){const Ce=W[0]||{},re=`${this.service}/${U}`,it=this.errors[U],lt=it?function(z,U){return z.replace(dn,(W,Ce)=>{const re=U[Ce];return null!=re?String(re):`<${Ce}?>`})}(it,Ce):"Error";return new Le(re,`${this.serviceName}: ${lt} (${re}).`,Ce)}}const dn=/\{\$([^}]+)}/g;function sn(z,U){return Object.prototype.hasOwnProperty.call(z,U)}function wn(z){for(const U in z)if(Object.prototype.hasOwnProperty.call(z,U))return!1;return!0}function Xt(z,U){if(z===U)return!0;const W=Object.keys(z),Ce=Object.keys(U);for(const re of W){if(!Ce.includes(re))return!1;const it=z[re],lt=U[re];if(cs(it)&&cs(lt)){if(!Xt(it,lt))return!1}else if(it!==lt)return!1}for(const re of Ce)if(!W.includes(re))return!1;return!0}function cs(z){return null!==z&&"object"==typeof z}function ei(z){const U=[];for(const[W,Ce]of Object.entries(z))Array.isArray(Ce)?Ce.forEach(re=>{U.push(encodeURIComponent(W)+"="+encodeURIComponent(re))}):U.push(encodeURIComponent(W)+"="+encodeURIComponent(Ce));return U.length?"&"+U.join("&"):""}function vi(z){const U={};return z.replace(/^\?/,"").split("&").forEach(Ce=>{if(Ce){const[re,it]=Ce.split("=");U[decodeURIComponent(re)]=decodeURIComponent(it)}}),U}function Fe(z){const U=z.indexOf("?");if(!U)return"";const W=z.indexOf("#",U);return z.substring(U,W>0?W:void 0)}function Yn(z,U){const W=new ti(z,U);return W.subscribe.bind(W)}class ti{constructor(U,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{U(this)}).catch(Ce=>{this.error(Ce)})}next(U){this.forEachObserver(W=>{W.next(U)})}error(U){this.forEachObserver(W=>{W.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,W,Ce){let re;if(void 0===U&&void 0===W&&void 0===Ce)throw new Error("Missing Observer.");re=function(z,U){if("object"!=typeof z||null===z)return!1;for(const W of["next","error","complete"])if(W in z&&"function"==typeof z[W])return!0;return!1}(U)?U:{next:U,error:W,complete:Ce},void 0===re.next&&(re.next=cr),void 0===re.error&&(re.error=cr),void 0===re.complete&&(re.complete=cr);const it=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?re.error(this.finalError):re.complete()}catch(lt){}}),this.observers.push(re),it}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,U)}sendOne(U,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{W(this.observers[U])}catch(Ce){"undefined"!=typeof console&&console.error&&console.error(Ce)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cr(){}function tn(z,U=1e3,W=2){const Ce=U*Math.pow(W,z),re=Math.round(.5*Ce*(Math.random()-.5)*2);return Math.min(144e5,Ce+re)}function Ps(z){return z&&z._delegate?z._delegate:z}},7713:(tt,ve,N)=>{"use strict";N.d(ve,{Mq:()=>d.getApp,C6:()=>d.getApps,ZF:()=>d.initializeApp,KN:()=>d.registerVersion});var d=N(1572);(0,d.registerVersion)("firebase","9.6.1","app")},7892:(tt,ve,N)=>{"use strict";N.d(ve,{Z:()=>d.Z});var d=N(6293);d.Z.registerVersion("firebase","9.6.1","app-compat")},2115:(tt,ve,N)=>{"use strict";N.r(ve);var d=N(8239),B=N(6293),P=N(8224),oe=N(4213),ne=(N(1572),N(3855),N(1177));function le(){return window}function $(){return($=(0,d.Z)(function*(te,Y,K){var Ae;const{BuildInfo:Ge}=le();(0,P.ap)(Y.sessionId,"AuthEvent did not contain a session ID");const Ct=yield J(Y.sessionId),jt={};return(0,P.aq)()?jt.ibi=Ge.packageName:(0,P.ar)()?jt.apn=Ge.packageName:(0,P.as)(te,"operation-not-supported-in-this-environment"),Ge.displayName&&(jt.appDisplayName=Ge.displayName),jt.sessionId=Ct,(0,P.at)(te,K,Y.type,void 0,null!==(Ae=Y.eventId)&&void 0!==Ae?Ae:void 0,jt)})).apply(this,arguments)}function Be(){return(Be=(0,d.Z)(function*(te){const{BuildInfo:Y}=le(),K={};(0,P.aq)()?K.iosBundleId=Y.packageName:(0,P.ar)()?K.androidPackageName=Y.packageName:(0,P.as)(te,"operation-not-supported-in-this-environment"),yield(0,P.au)(te,K)})).apply(this,arguments)}function He(){return(He=(0,d.Z)(function*(te,Y,K){const{cordova:Ae}=le();let Ge=()=>{};try{yield new Promise((Ct,jt)=>{let Pt=null;function Ht(){var Dt;Ct();const Pn=null===(Dt=Ae.plugins.browsertab)||void 0===Dt?void 0:Dt.close;"function"==typeof Pn&&Pn(),"function"==typeof(null==K?void 0:K.close)&&K.close()}function qn(){Pt||(Pt=window.setTimeout(()=>{jt((0,P.av)(te,"redirect-cancelled-by-user"))},2e3))}function Vn(){"visible"===(null==document?void 0:document.visibilityState)&&qn()}Y.addPassiveListener(Ht),document.addEventListener("resume",qn,!1),(0,P.ar)()&&document.addEventListener("visibilitychange",Vn,!1),Ge=()=>{Y.removePassiveListener(Ht),document.removeEventListener("resume",qn,!1),document.removeEventListener("visibilitychange",Vn,!1),Pt&&window.clearTimeout(Pt)}})}finally{Ge()}})).apply(this,arguments)}function J(te){return ce.apply(this,arguments)}function ce(){return(ce=(0,d.Z)(function*(te){const Y=Te(te),K=yield crypto.subtle.digest("SHA-256",Y);return Array.from(new Uint8Array(K)).map(Ge=>Ge.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Te(te){if((0,P.ap)(/[0-9a-zA-Z]+/.test(te),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(te);const Y=new ArrayBuffer(te.length),K=new Uint8Array(Y);for(let Ae=0;Ae<te.length;Ae++)K[Ae]=te.charCodeAt(Ae);return K}class We extends P.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(Y=>{this.resolveInialized=Y})}addPassiveListener(Y){this.passiveListeners.add(Y)}removePassiveListener(Y){this.passiveListeners.delete(Y)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(Y){return this.resolveInialized(),this.passiveListeners.forEach(K=>K(Y)),super.onEvent(Y)}initialized(){var Y=this;return(0,d.Z)(function*(){yield Y.initPromise})()}}function Ye(te){return dt.apply(this,arguments)}function dt(){return(dt=(0,d.Z)(function*(te){const Y=yield be()._get(De(te));return Y&&(yield be()._remove(De(te))),Y})).apply(this,arguments)}function fe(){const te=[],Y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let K=0;K<20;K++){const Ae=Math.floor(Math.random()*Y.length);te.push(Y.charAt(Ae))}return te.join("")}function be(){return(0,P.ax)(P.b)}function De(te){return(0,P.ay)("authEvent",te.config.apiKey,te.name)}function Tt(te){if(!(null==te?void 0:te.includes("?")))return{};const[Y,...K]=te.split("?");return(0,oe.zd)(K.join("?"))}function Mt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,P.av)("no-auth-event")}}function sn(){var te;return(null===(te=null==self?void 0:self.location)||void 0===te?void 0:te.protocol)||null}function wn(te=(0,oe.z$)()){return!("file:"!==sn()&&"ionic:"!==sn()||!te.toLowerCase().match(/iphone|ipad|ipod|android/))}function vi(){try{const te=self.localStorage,Y=P.aG();if(te)return te.setItem(Y,"1"),te.removeItem(Y),!function(te=(0,oe.z$)()){return(0,oe.w1)()&&11===(null==document?void 0:document.documentMode)||function(te=(0,oe.z$)()){return/Edge\/\d+/.test(te)}(te)}()||(0,oe.hl)()}catch(te){return Fe()&&(0,oe.hl)()}return!1}function Fe(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Cn(){return("http:"===sn()||"https:"===sn()||(0,oe.ru)()||wn())&&!((0,oe.b$)()||(0,oe.UG)())&&vi()&&!Fe()}function Yn(){return wn()&&"undefined"!=typeof document}function st(){return(st=(0,d.Z)(function*(){return!!Yn()&&new Promise(te=>{const Y=setTimeout(()=>{te(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(Y),te(!0)})})})).apply(this,arguments)}const qt={LOCAL:"local",NONE:"none",SESSION:"session"},cr=P.aw,Qn="persistence";function ht(te){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,d.Z)(function*(te){yield te._initializationPromise;const Y=Xn(),K=P.ay(Qn,te.config.apiKey,te.name);(null==Y?void 0:Y.sessionStorage)&&Y.sessionStorage.setItem(K,te._getPersistence())})).apply(this,arguments)}function Xn(){return"undefined"!=typeof window?window:null}const en=P.aw;class Ke{constructor(){this.browserResolver=P.ax(P.k),this.cordovaResolver=P.ax(class{constructor(){this._redirectPersistence=P.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=P.aA}_initialize(Y){var K=this;return(0,d.Z)(function*(){const Ae=Y._key();let Ge=K.eventManagers.get(Ae);return Ge||(Ge=new We(Y),K.eventManagers.set(Ae,Ge),K.attachCallbackListeners(Y,Ge)),Ge})()}_openPopup(Y){(0,P.as)(Y,"operation-not-supported-in-this-environment")}_openRedirect(Y,K,Ae,Ge){var Ct=this;return(0,d.Z)(function*(){!function(te){var Y,K,Ae,Ge,Ct,jt,Pt,Ht,qn,Vn;const Dt=le();(0,P.aw)("function"==typeof(null===(Y=null==Dt?void 0:Dt.universalLinks)||void 0===Y?void 0:Y.subscribe),te,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,P.aw)(void 0!==(null===(K=null==Dt?void 0:Dt.BuildInfo)||void 0===K?void 0:K.packageName),te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,P.aw)("function"==typeof(null===(Ct=null===(Ge=null===(Ae=null==Dt?void 0:Dt.cordova)||void 0===Ae?void 0:Ae.plugins)||void 0===Ge?void 0:Ge.browsertab)||void 0===Ct?void 0:Ct.openUrl),te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.aw)("function"==typeof(null===(Ht=null===(Pt=null===(jt=null==Dt?void 0:Dt.cordova)||void 0===jt?void 0:jt.plugins)||void 0===Pt?void 0:Pt.browsertab)||void 0===Ht?void 0:Ht.isAvailable),te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.aw)("function"==typeof(null===(Vn=null===(qn=null==Dt?void 0:Dt.cordova)||void 0===qn?void 0:qn.InAppBrowser)||void 0===Vn?void 0:Vn.open),te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(Y);const jt=yield Ct._initialize(Y);yield jt.initialized(),jt.resetRedirect(),(0,P.aB)(),yield Ct._originValidation(Y);const Pt=function(te,Y,K=null){return{type:Y,eventId:K,urlResponse:null,sessionId:fe(),postBody:null,tenantId:te.tenantId,error:(0,P.av)(te,"no-auth-event")}}(Y,Ae,Ge);yield function(te,Y){return be()._set(De(te),Y)}(Y,Pt);const Ht=yield function(te,Y,K){return $.apply(this,arguments)}(Y,Pt,K),qn=yield function(te){const{cordova:Y}=le();return new Promise(K=>{Y.plugins.browsertab.isAvailable(Ae=>{let Ge=null;Ae?Y.plugins.browsertab.openUrl(te):Ge=Y.InAppBrowser.open(te,(0,P.ao)()?"_blank":"_system","location=yes"),K(Ge)})})}(Ht);return function(te,Y,K){return He.apply(this,arguments)}(Y,jt,qn)})()}_isIframeWebStorageSupported(Y,K){throw new Error("Method not implemented.")}_originValidation(Y){const K=Y._key();return this.originValidationPromises[K]||(this.originValidationPromises[K]=function(te){return Be.apply(this,arguments)}(Y)),this.originValidationPromises[K]}attachCallbackListeners(Y,K){const{universalLinks:Ae,handleOpenURL:Ge,BuildInfo:Ct}=le(),jt=setTimeout((0,d.Z)(function*(){yield Ye(Y),K.onEvent(Mt())}),500),Pt=function(){var Vn=(0,d.Z)(function*(Dt){clearTimeout(jt);const Pn=yield Ye(Y);let ze=null;Pn&&(null==Dt?void 0:Dt.url)&&(ze=function(te,Y){var K,Ae;const Ge=function(te){const Y=Tt(te),K=Y.link?decodeURIComponent(Y.link):void 0,Ae=Tt(K).link,Ge=Y.deep_link_id?decodeURIComponent(Y.deep_link_id):void 0;return Tt(Ge).link||Ge||Ae||K||te}(Y);if(Ge.includes("/__/auth/callback")){const Ct=Tt(Ge),jt=Ct.firebaseError?function(te){try{return JSON.parse(te)}catch(Y){return null}}(decodeURIComponent(Ct.firebaseError)):null,Pt=null===(Ae=null===(K=null==jt?void 0:jt.code)||void 0===K?void 0:K.split("auth/"))||void 0===Ae?void 0:Ae[1],Ht=Pt?(0,P.av)(Pt):null;return Ht?{type:te.type,eventId:te.eventId,tenantId:te.tenantId,error:Ht,urlResponse:null,sessionId:null,postBody:null}:{type:te.type,eventId:te.eventId,tenantId:te.tenantId,sessionId:te.sessionId,urlResponse:Ge,postBody:null}}return null}(Pn,Dt.url)),K.onEvent(ze||Mt())});return function(Pn){return Vn.apply(this,arguments)}}();void 0!==Ae&&"function"==typeof Ae.subscribe&&Ae.subscribe(null,Pt);const Ht=Ge,qn=`${Ct.packageName.toLowerCase()}://`;le().handleOpenURL=function(){var Vn=(0,d.Z)(function*(Dt){if(Dt.toLowerCase().startsWith(qn)&&Pt({url:Dt}),"function"==typeof Ht)try{Ht(Dt)}catch(Pn){console.error(Pn)}});return function(Dt){return Vn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=P.a,this._completeRedirectFn=P.aA}_initialize(Y){var K=this;return(0,d.Z)(function*(){return yield K.selectUnderlyingResolver(),K.assertedUnderlyingResolver._initialize(Y)})()}_openPopup(Y,K,Ae,Ge){var Ct=this;return(0,d.Z)(function*(){return yield Ct.selectUnderlyingResolver(),Ct.assertedUnderlyingResolver._openPopup(Y,K,Ae,Ge)})()}_openRedirect(Y,K,Ae,Ge){var Ct=this;return(0,d.Z)(function*(){return yield Ct.selectUnderlyingResolver(),Ct.assertedUnderlyingResolver._openRedirect(Y,K,Ae,Ge)})()}_isIframeWebStorageSupported(Y,K){this.assertedUnderlyingResolver._isIframeWebStorageSupported(Y,K)}_originValidation(Y){return this.assertedUnderlyingResolver._originValidation(Y)}get _shouldInitProactively(){return Yn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return en(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var Y=this;return(0,d.Z)(function*(){if(Y.underlyingResolver)return;const K=yield function(){return st.apply(this,arguments)}();Y.underlyingResolver=K?Y.cordovaResolver:Y.browserResolver})()}}function ut(te){return te.unwrap()}function hn(te){return Qt(te)}function Qt(te){const{_tokenResponse:Y}=te instanceof oe.ZR?te.customData:te;if(!Y)return null;if(!(te instanceof oe.ZR)&&"temporaryProof"in Y&&"phoneNumber"in Y)return P.P.credentialFromResult(te);const K=Y.providerId;if(!K||K===P.o.PASSWORD)return null;let Ae;switch(K){case P.o.GOOGLE:Ae=P.N;break;case P.o.FACEBOOK:Ae=P.M;break;case P.o.GITHUB:Ae=P.Q;break;case P.o.TWITTER:Ae=P.V;break;default:const{oauthIdToken:Ge,oauthAccessToken:Ct,oauthTokenSecret:jt,pendingToken:Pt,nonce:Ht}=Y;return Ct||jt||Ge||Pt?Pt?K.startsWith("saml.")?P.aJ._create(K,Pt):P.I._fromParams({providerId:K,signInMethod:K,pendingToken:Pt,idToken:Ge,accessToken:Ct}):new P.T(K).credential({idToken:Ge,accessToken:Ct,rawNonce:Ht}):null}return te instanceof oe.ZR?Ae.credentialFromError(te):Ae.credentialFromResult(te)}function fn(te,Y){return Y.catch(K=>{throw K instanceof oe.ZR&&function(te,Y){var K;const Ae=null===(K=Y.customData)||void 0===K?void 0:K._tokenResponse;if("auth/multi-factor-auth-required"===Y.code)Y.resolver=new U(te,P.am(te,Y));else if(Ae){const Ge=Qt(Y),Ct=Y;Ge&&(Ct.credential=Ge,Ct.tenantId=Ae.tenantId||void 0,Ct.email=Ae.email||void 0,Ct.phoneNumber=Ae.phoneNumber||void 0)}}(te,K),K}).then(K=>{const Ge=K.user;return{operationType:K.operationType,credential:hn(K),additionalUserInfo:P.ak(K),user:W.getOrCreate(Ge)}})}function Ps(te,Y){return z.apply(this,arguments)}function z(){return(z=(0,d.Z)(function*(te,Y){const K=yield Y;return{verificationId:K.verificationId,confirm:Ae=>fn(te,K.confirm(Ae))}})).apply(this,arguments)}class U{constructor(Y,K){this.resolver=K,this.auth=Y.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(Y){return fn(ut(this.auth),this.resolver.resolveSignIn(Y))}}class W{constructor(Y){this._delegate=Y,this.multiFactor=P.an(Y)}static getOrCreate(Y){return W.USER_MAP.has(Y)||W.USER_MAP.set(Y,new W(Y)),W.USER_MAP.get(Y)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(Y){return this._delegate.getIdTokenResult(Y)}getIdToken(Y){return this._delegate.getIdToken(Y)}linkAndRetrieveDataWithCredential(Y){return this.linkWithCredential(Y)}linkWithCredential(Y){var K=this;return(0,d.Z)(function*(){return fn(K.auth,P.Y(K._delegate,Y))})()}linkWithPhoneNumber(Y,K){var Ae=this;return(0,d.Z)(function*(){return Ps(Ae.auth,P.l(Ae._delegate,Y,K))})()}linkWithPopup(Y){var K=this;return(0,d.Z)(function*(){return fn(K.auth,P.d(K._delegate,Y,Ke))})()}linkWithRedirect(Y){var K=this;return(0,d.Z)(function*(){return yield ht(P.aC(K.auth)),P.g(K._delegate,Y,Ke)})()}reauthenticateAndRetrieveDataWithCredential(Y){return this.reauthenticateWithCredential(Y)}reauthenticateWithCredential(Y){var K=this;return(0,d.Z)(function*(){return fn(K.auth,P.Z(K._delegate,Y))})()}reauthenticateWithPhoneNumber(Y,K){return Ps(this.auth,P.r(this._delegate,Y,K))}reauthenticateWithPopup(Y){return fn(this.auth,P.e(this._delegate,Y,Ke))}reauthenticateWithRedirect(Y){var K=this;return(0,d.Z)(function*(){return yield ht(P.aC(K.auth)),P.h(K._delegate,Y,Ke)})()}sendEmailVerification(Y){return P.aa(this._delegate,Y)}unlink(Y){var K=this;return(0,d.Z)(function*(){return yield P.aj(K._delegate,Y),K})()}updateEmail(Y){return P.af(this._delegate,Y)}updatePassword(Y){return P.ag(this._delegate,Y)}updatePhoneNumber(Y){return P.u(this._delegate,Y)}updateProfile(Y){return P.ae(this._delegate,Y)}verifyBeforeUpdateEmail(Y,K){return P.ab(this._delegate,Y,K)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}W.USER_MAP=new WeakMap;const Ce=P.aw;let re=(()=>{class te{constructor(K,Ae){if(this.app=K,Ae.isInitialized())return this._delegate=Ae.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ge}=K.options;Ce(Ge,"invalid-api-key",{appName:K.name});let Ct=[P.K];if("undefined"!=typeof window){Ct=function(te,Y){const K=Xn();if(!(null==K?void 0:K.sessionStorage))return[];const Ae=P.ay(Qn,te,Y);switch(K.sessionStorage.getItem(Ae)){case qt.NONE:return[P.K];case qt.LOCAL:return[P.i,P.a];case qt.SESSION:return[P.a];default:return[]}}(Ge,K.name);for(const Pt of[P.i,P.b,P.a])Ct.includes(Pt)||Ct.push(Pt)}Ce(Ge,"invalid-api-key",{appName:K.name});const jt="undefined"!=typeof window?Ke:void 0;this._delegate=Ae.initialize({options:{persistence:Ct,popupRedirectResolver:jt}}),this._delegate._updateErrorMap(P.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?W.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(K){this._delegate.languageCode=K}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(K){this._delegate.tenantId=K}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(K,Ae){P.E(this._delegate,K,Ae)}applyActionCode(K){return P.a1(this._delegate,K)}checkActionCode(K){return P.a2(this._delegate,K)}confirmPasswordReset(K,Ae){return P.a0(this._delegate,K,Ae)}createUserWithEmailAndPassword(K,Ae){var Ge=this;return(0,d.Z)(function*(){return fn(Ge._delegate,P.a4(Ge._delegate,K,Ae))})()}fetchProvidersForEmail(K){return this.fetchSignInMethodsForEmail(K)}fetchSignInMethodsForEmail(K){return P.a9(this._delegate,K)}isSignInWithEmailLink(K){return P.a7(this._delegate,K)}getRedirectResult(){var K=this;return(0,d.Z)(function*(){Ce(Cn(),K._delegate,"operation-not-supported-in-this-environment");const Ae=yield P.j(K._delegate,Ke);return Ae?fn(K._delegate,Promise.resolve(Ae)):{credential:null,user:null}})()}addFrameworkForLogging(K){!function(te,Y){(0,P.aC)(te)._logFramework(Y)}(this._delegate,K)}onAuthStateChanged(K,Ae,Ge){const{next:Ct,error:jt,complete:Pt}=it(K,Ae,Ge);return this._delegate.onAuthStateChanged(Ct,jt,Pt)}onIdTokenChanged(K,Ae,Ge){const{next:Ct,error:jt,complete:Pt}=it(K,Ae,Ge);return this._delegate.onIdTokenChanged(Ct,jt,Pt)}sendSignInLinkToEmail(K,Ae){return P.a6(this._delegate,K,Ae)}sendPasswordResetEmail(K,Ae){return P.$(this._delegate,K,Ae||void 0)}setPersistence(K){var Ae=this;return(0,d.Z)(function*(){let Ge;switch(function(te,Y){cr(Object.values(qt).includes(Y),te,"invalid-persistence-type"),(0,oe.b$)()?cr(Y!==qt.SESSION,te,"unsupported-persistence-type"):(0,oe.UG)()?cr(Y===qt.NONE,te,"unsupported-persistence-type"):Fe()?cr(Y===qt.NONE||Y===qt.LOCAL&&(0,oe.hl)(),te,"unsupported-persistence-type"):cr(Y===qt.NONE||vi(),te,"unsupported-persistence-type")}(Ae._delegate,K),K){case qt.SESSION:Ge=P.a;break;case qt.LOCAL:Ge=(yield P.ax(P.i)._isAvailable())?P.i:P.b;break;case qt.NONE:Ge=P.K;break;default:return P.as("argument-error",{appName:Ae._delegate.name})}return Ae._delegate.setPersistence(Ge)})()}signInAndRetrieveDataWithCredential(K){return this.signInWithCredential(K)}signInAnonymously(){return fn(this._delegate,P.W(this._delegate))}signInWithCredential(K){return fn(this._delegate,P.X(this._delegate,K))}signInWithCustomToken(K){return fn(this._delegate,P._(this._delegate,K))}signInWithEmailAndPassword(K,Ae){return fn(this._delegate,P.a5(this._delegate,K,Ae))}signInWithEmailLink(K,Ae){return fn(this._delegate,P.a8(this._delegate,K,Ae))}signInWithPhoneNumber(K,Ae){return Ps(this._delegate,P.s(this._delegate,K,Ae))}signInWithPopup(K){var Ae=this;return(0,d.Z)(function*(){return Ce(Cn(),Ae._delegate,"operation-not-supported-in-this-environment"),fn(Ae._delegate,P.c(Ae._delegate,K,Ke))})()}signInWithRedirect(K){var Ae=this;return(0,d.Z)(function*(){return Ce(Cn(),Ae._delegate,"operation-not-supported-in-this-environment"),yield ht(Ae._delegate),P.f(Ae._delegate,K,Ke)})()}updateCurrentUser(K){return this._delegate.updateCurrentUser(K)}verifyPasswordResetCode(K){return P.a3(this._delegate,K)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return te.Persistence=qt,te})();function it(te,Y,K){let Ae=te;"function"!=typeof te&&({next:Ae,error:Y,complete:K}=te);const Ge=Ae;return{next:jt=>Ge(jt&&W.getOrCreate(jt)),error:Y,complete:K}}class lt{constructor(){this.providerId="phone",this._delegate=new P.P(ut(B.Z.auth()))}static credential(Y,K){return P.P.credential(Y,K)}verifyPhoneNumber(Y,K){return this._delegate.verifyPhoneNumber(Y,K)}unwrap(){return this._delegate}}lt.PHONE_SIGN_IN_METHOD=P.P.PHONE_SIGN_IN_METHOD,lt.PROVIDER_ID=P.P.PROVIDER_ID;const on=P.aw;var te;(te=B.Z).INTERNAL.registerComponent(new ne.wA("auth-compat",Y=>{const K=Y.getProvider("app-compat").getImmediate(),Ae=Y.getProvider("auth");return new re(K,Ae)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:P.A.EMAIL_SIGNIN,PASSWORD_RESET:P.A.PASSWORD_RESET,RECOVER_EMAIL:P.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:P.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:P.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:P.A.VERIFY_EMAIL}},EmailAuthProvider:P.L,FacebookAuthProvider:P.M,GithubAuthProvider:P.Q,GoogleAuthProvider:P.N,OAuthProvider:P.T,SAMLAuthProvider:P.U,PhoneAuthProvider:lt,PhoneMultiFactorGenerator:P.m,RecaptchaVerifier:class{constructor(Y,K,Ae=B.Z.app()){var Ge;on(null===(Ge=Ae.options)||void 0===Ge?void 0:Ge.apiKey,"invalid-api-key",{appName:Ae.name}),this._delegate=new P.R(Y,K,Ae.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:P.V,Auth:re,AuthCredential:P.G,Error:oe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),te.registerVersion("@firebase/auth-compat","0.2.4")},4995:function(tt,ve){!function(N){"use strict";function d(de){return Array.prototype.slice.call(de)}function B(de){return new Promise(function(J,ce){de.onsuccess=function(){J(de.result)},de.onerror=function(){ce(de.error)}})}function P(de,J,ce){var Te,we=new Promise(function(We,ke){B(Te=de[J].apply(de,ce)).then(We,ke)});return we.request=Te,we}function oe(de,J,ce){var Te=P(de,J,ce);return Te.then(function(we){if(we)return new G(we,Te.request)})}function ae(de,J,ce){ce.forEach(function(Te){Object.defineProperty(de.prototype,Te,{get:function(){return this[J][Te]},set:function(we){this[J][Te]=we}})})}function ge(de,J,ce,Te){Te.forEach(function(we){we in ce.prototype&&(de.prototype[we]=function(){return P(this[J],we,arguments)})})}function ne(de,J,ce,Te){Te.forEach(function(we){we in ce.prototype&&(de.prototype[we]=function(){return this[J][we].apply(this[J],arguments)})})}function le(de,J,ce,Te){Te.forEach(function(we){we in ce.prototype&&(de.prototype[we]=function(){return oe(this[J],we,arguments)})})}function he(de){this._index=de}function G(de,J){this._cursor=de,this._request=J}function $(de){this._store=de}function ie(de){this._tx=de,this.complete=new Promise(function(J,ce){de.oncomplete=function(){J()},de.onerror=function(){ce(de.error)},de.onabort=function(){ce(de.error)}})}function Be(de,J,ce){this._db=de,this.oldVersion=J,this.transaction=new ie(ce)}function Me(de){this._db=de}ae(he,"_index",["name","keyPath","multiEntry","unique"]),ge(he,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),le(he,"_index",IDBIndex,["openCursor","openKeyCursor"]),ae(G,"_cursor",["direction","key","primaryKey","value"]),ge(G,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(de){de in IDBCursor.prototype&&(G.prototype[de]=function(){var J=this,ce=arguments;return Promise.resolve().then(function(){return J._cursor[de].apply(J._cursor,ce),B(J._request).then(function(Te){if(Te)return new G(Te,J._request)})})})}),$.prototype.createIndex=function(){return new he(this._store.createIndex.apply(this._store,arguments))},$.prototype.index=function(){return new he(this._store.index.apply(this._store,arguments))},ae($,"_store",["name","keyPath","indexNames","autoIncrement"]),ge($,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),le($,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),ne($,"_store",IDBObjectStore,["deleteIndex"]),ie.prototype.objectStore=function(){return new $(this._tx.objectStore.apply(this._tx,arguments))},ae(ie,"_tx",["objectStoreNames","mode"]),ne(ie,"_tx",IDBTransaction,["abort"]),Be.prototype.createObjectStore=function(){return new $(this._db.createObjectStore.apply(this._db,arguments))},ae(Be,"_db",["name","version","objectStoreNames"]),ne(Be,"_db",IDBDatabase,["deleteObjectStore","close"]),Me.prototype.transaction=function(){return new ie(this._db.transaction.apply(this._db,arguments))},ae(Me,"_db",["name","version","objectStoreNames"]),ne(Me,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(de){[$,he].forEach(function(J){de in J.prototype&&(J.prototype[de.replace("open","iterate")]=function(){var ce=d(arguments),Te=ce[ce.length-1],we=this._store||this._index,We=we[de].apply(we,ce.slice(0,-1));We.onsuccess=function(){Te(We.result)}})})}),[he,$].forEach(function(de){de.prototype.getAll||(de.prototype.getAll=function(J,ce){var Te=this,we=[];return new Promise(function(We){Te.iterateCursor(J,function(ke){ke?(we.push(ke.value),void 0===ce||we.length!=ce?ke.continue():We(we)):We(we)})})})}),N.openDb=function(de,J,ce){var Te=P(indexedDB,"open",[de,J]),we=Te.request;return we&&(we.onupgradeneeded=function(We){ce&&ce(new Be(we.result,We.oldVersion,we.transaction))}),Te.then(function(We){return new Me(We)})},N.deleteDb=function(de){return P(indexedDB,"deleteDatabase",[de])},Object.defineProperty(N,"__esModule",{value:!0})}(ve)},8305:(tt,ve,N)=>{"use strict";N.d(ve,{y:()=>G});var d=N(584),B=N(7908),P=N(4816),oe=N(4623);var ne=N(5367),le=N(5044),he=N(8706);let G=(()=>{class Me{constructor(He){He&&(this._subscribe=He)}lift(He){const de=new Me;return de.source=this,de.operator=He,de}subscribe(He,de,J){const ce=function(Me){return Me&&Me instanceof d.Lv||function(Me){return Me&&(0,le.m)(Me.next)&&(0,le.m)(Me.error)&&(0,le.m)(Me.complete)}(Me)&&(0,B.Nn)(Me)}(He)?He:new d.Hp(He,de,J);return(0,he.x)(()=>{const{operator:Te,source:we}=this;ce.add(Te?Te.call(ce,we):we?this._subscribe(ce):this._trySubscribe(ce))}),ce}_trySubscribe(He){try{return this._subscribe(He)}catch(de){He.error(de)}}forEach(He,de){return new(de=$(de))((J,ce)=>{let Te;Te=this.subscribe(we=>{try{He(we)}catch(We){ce(We),null==Te||Te.unsubscribe()}},ce,J)})}_subscribe(He){var de;return null===(de=this.source)||void 0===de?void 0:de.subscribe(He)}[P.L](){return this}pipe(...He){return function(Me){return 0===Me.length?oe.y:1===Me.length?Me[0]:function(He){return Me.reduce((de,J)=>J(de),He)}}(He)(this)}toPromise(He){return new(He=$(He))((de,J)=>{let ce;this.subscribe(Te=>ce=Te,Te=>J(Te),()=>de(ce))})}}return Me.create=je=>new Me(je),Me})();function $(Me){var je;return null!==(je=null!=Me?Me:ne.v.Promise)&&void 0!==je?je:Promise}},273:(tt,ve,N)=>{"use strict";N.d(ve,{x:()=>ne});var d=N(8305),B=N(7908);const oe=(0,N(4893).d)(he=>function(){he(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=N(3980),ge=N(8706);let ne=(()=>{class he extends d.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const ie=new le(this,this);return ie.operator=$,ie}_throwIfClosed(){if(this.closed)throw new oe}next($){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const ie=this.observers.slice();for(const Be of ie)Be.next($)}})}error($){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:ie}=this;for(;ie.length;)ie.shift().error($)}})}complete(){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:ie,isStopped:Be,observers:Me}=this;return ie||Be?B.Lc:(Me.push($),new B.w0(()=>(0,ae.P)(Me,$)))}_checkFinalizedStatuses($){const{hasError:ie,thrownError:Be,isStopped:Me}=this;ie?$.error(Be):Me&&$.complete()}asObservable(){const $=new d.y;return $.source=this,$}}return he.create=(G,$)=>new le(G,$),he})();class le extends ne{constructor(G,$){super(),this.destination=G,this.source=$}next(G){var $,ie;null===(ie=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===ie||ie.call($,G)}error(G){var $,ie;null===(ie=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===ie||ie.call($,G)}complete(){var G,$;null===($=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===$||$.call(G)}_subscribe(G){var $,ie;return null!==(ie=null===($=this.source)||void 0===$?void 0:$.subscribe(G))&&void 0!==ie?ie:B.Lc}}},584:(tt,ve,N)=>{"use strict";N.d(ve,{Hp:()=>Be,Lv:()=>ie});var d=N(5044),B=N(7908),P=N(5367),oe=N(5160),ae=N(6921);const ge=he("C",void 0,void 0);function he(J,ce,Te){return{kind:J,value:ce,error:Te}}var G=N(2496),$=N(8706);class ie extends B.w0{constructor(ce){super(),this.isStopped=!1,ce?(this.destination=ce,(0,B.Nn)(ce)&&ce.add(this)):this.destination=de}static create(ce,Te,we){return new Be(ce,Te,we)}next(ce){this.isStopped?He(he("N",ce,void 0),this):this._next(ce)}error(ce){this.isStopped?He(he("E",void 0,ce),this):(this.isStopped=!0,this._error(ce))}complete(){this.isStopped?He(ge,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ce){this.destination.next(ce)}_error(ce){try{this.destination.error(ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Be extends ie{constructor(ce,Te,we){let We;if(super(),(0,d.m)(ce))We=ce;else if(ce){let ke;({next:We,error:Te,complete:we}=ce),this&&P.v.useDeprecatedNextContext?(ke=Object.create(ce),ke.unsubscribe=()=>this.unsubscribe()):ke=ce,We=null==We?void 0:We.bind(ke),Te=null==Te?void 0:Te.bind(ke),we=null==we?void 0:we.bind(ke)}this.destination={next:We?Me(We):ae.Z,error:Me(null!=Te?Te:je),complete:we?Me(we):ae.Z}}}function Me(J,ce){return(...Te)=>{try{J(...Te)}catch(we){P.v.useDeprecatedSynchronousErrorHandling?(0,$.O)(we):(0,oe.h)(we)}}}function je(J){throw J}function He(J,ce){const{onStoppedNotification:Te}=P.v;Te&&G.z.setTimeout(()=>Te(J,ce))}const de={closed:!0,next:ae.Z,error:je,complete:ae.Z}},7908:(tt,ve,N)=>{"use strict";N.d(ve,{Lc:()=>ge,w0:()=>ae,Nn:()=>ne});var d=N(5044);const P=(0,N(4893).d)(he=>function($){he(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((ie,Be)=>`${Be+1}) ${ie.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var oe=N(3980);class ae{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const Me of $)Me.remove(this);else $.remove(this);const{initialTeardown:ie}=this;if((0,d.m)(ie))try{ie()}catch(Me){G=Me instanceof P?Me.errors:[Me]}const{_teardowns:Be}=this;if(Be){this._teardowns=null;for(const Me of Be)try{le(Me)}catch(je){G=null!=G?G:[],je instanceof P?G=[...G,...je.errors]:G.push(je)}}if(G)throw new P(G)}}add(G){var $;if(G&&G!==this)if(this.closed)le(G);else{if(G instanceof ae){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._teardowns=null!==($=this._teardowns)&&void 0!==$?$:[]).push(G)}}_hasParent(G){const{_parentage:$}=this;return $===G||Array.isArray($)&&$.includes(G)}_addParent(G){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(G),$):$?[$,G]:G}_removeParent(G){const{_parentage:$}=this;$===G?this._parentage=null:Array.isArray($)&&(0,oe.P)($,G)}remove(G){const{_teardowns:$}=this;$&&(0,oe.P)($,G),G instanceof ae&&G._removeParent(this)}}ae.EMPTY=(()=>{const he=new ae;return he.closed=!0,he})();const ge=ae.EMPTY;function ne(he){return he instanceof ae||he&&"closed"in he&&(0,d.m)(he.remove)&&(0,d.m)(he.add)&&(0,d.m)(he.unsubscribe)}function le(he){(0,d.m)(he)?he():he.unsubscribe()}},5367:(tt,ve,N)=>{"use strict";N.d(ve,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5583:(tt,ve,N)=>{"use strict";N.d(ve,{E:()=>B});const B=new(N(8305).y)(ae=>ae.complete())},5947:(tt,ve,N)=>{"use strict";N.d(ve,{D:()=>We});var d=N(9985),B=N(4763),P=N(5222),ge=N(8305),le=N(5497),he=N(5044),G=N(8395);function ie(ke,Ze){if(!ke)throw new Error("Iterable cannot be null");return new ge.y(Ye=>{(0,G.f)(Ye,Ze,()=>{const dt=ke[Symbol.asyncIterator]();(0,G.f)(Ye,Ze,()=>{dt.next().then(se=>{se.done?Ye.complete():Ye.next(se.value)})},0,!0)})})}var Be=N(1073),Me=N(2442),je=N(1537),He=N(2317),de=N(9908),J=N(3754),ce=N(7751);function We(ke,Ze){return Ze?function(ke,Ze){if(null!=ke){if((0,Be.c)(ke))return function(ke,Ze){return(0,d.Xf)(ke).pipe((0,P.R)(Ze),(0,B.Q)(Ze))}(ke,Ze);if((0,je.z)(ke))return function(ke,Ze){return new ge.y(Ye=>{let dt=0;return Ze.schedule(function(){dt===ke.length?Ye.complete():(Ye.next(ke[dt++]),Ye.closed||this.schedule())})})}(ke,Ze);if((0,Me.t)(ke))return function(ke,Ze){return(0,d.Xf)(ke).pipe((0,P.R)(Ze),(0,B.Q)(Ze))}(ke,Ze);if((0,de.D)(ke))return ie(ke,Ze);if((0,He.T)(ke))return function(ke,Ze){return new ge.y(Ye=>{let dt;return(0,G.f)(Ye,Ze,()=>{dt=ke[le.h](),(0,G.f)(Ye,Ze,()=>{let se,fe;try{({value:se,done:fe}=dt.next())}catch(be){return void Ye.error(be)}fe?Ye.complete():Ye.next(se)},0,!0)}),()=>(0,he.m)(null==dt?void 0:dt.return)&&dt.return()})}(ke,Ze);if((0,ce.L)(ke))return function(ke,Ze){return ie((0,ce.Q)(ke),Ze)}(ke,Ze)}throw(0,J.z)(ke)}(ke,Ze):(0,d.Xf)(ke)}},9985:(tt,ve,N)=>{"use strict";N.d(ve,{Xf:()=>Be});var d=N(9162),B=N(1537),P=N(2442),oe=N(8305),ae=N(1073),ge=N(9908),ne=N(3754),le=N(2317),he=N(7751),G=N(5044),$=N(5160),ie=N(4816);function Be(we){if(we instanceof oe.y)return we;if(null!=we){if((0,ae.c)(we))return function(we){return new oe.y(We=>{const ke=we[ie.L]();if((0,G.m)(ke.subscribe))return ke.subscribe(We);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(we);if((0,B.z)(we))return function(we){return new oe.y(We=>{for(let ke=0;ke<we.length&&!We.closed;ke++)We.next(we[ke]);We.complete()})}(we);if((0,P.t)(we))return function(we){return new oe.y(We=>{we.then(ke=>{We.closed||(We.next(ke),We.complete())},ke=>We.error(ke)).then(null,$.h)})}(we);if((0,ge.D)(we))return J(we);if((0,le.T)(we))return function(we){return new oe.y(We=>{for(const ke of we)if(We.next(ke),We.closed)return;We.complete()})}(we);if((0,he.L)(we))return function(we){return J((0,he.Q)(we))}(we)}throw(0,ne.z)(we)}function J(we){return new oe.y(We=>{(function(we,We){var ke,Ze,Ye,dt;return(0,d.mG)(this,void 0,void 0,function*(){try{for(ke=(0,d.KL)(we);!(Ze=yield ke.next()).done;)if(We.next(Ze.value),We.closed)return}catch(se){Ye={error:se}}finally{try{Ze&&!Ze.done&&(dt=ke.return)&&(yield dt.call(ke))}finally{if(Ye)throw Ye.error}}We.complete()})})(we,We).catch(ke=>We.error(ke))})}},3719:(tt,ve,N)=>{"use strict";N.d(ve,{T:()=>ge});var d=N(5373),B=N(9985),P=N(5583),oe=N(7613),ae=N(5947);function ge(...ne){const le=(0,oe.yG)(ne),he=(0,oe._6)(ne,1/0),G=ne;return G.length?1===G.length?(0,B.Xf)(G[0]):(0,d.J)(he)((0,ae.D)(G,le)):P.E}},8889:(tt,ve,N)=>{"use strict";N.d(ve,{Q:()=>B});var d=N(584);class B extends d.Lv{constructor(oe,ae,ge,ne,le){super(oe),this.onFinalize=le,this._next=ae?function(he){try{ae(he)}catch(G){oe.error(G)}}:super._next,this._error=ne?function(he){try{ne(he)}catch(G){oe.error(G)}finally{this.unsubscribe()}}:super._error,this._complete=ge?function(){try{ge()}catch(he){oe.error(he)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;const{closed:ae}=this;super.unsubscribe(),!ae&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}},4753:(tt,ve,N)=>{"use strict";N.d(ve,{U:()=>P});var d=N(9947),B=N(8889);function P(oe,ae){return(0,d.e)((ge,ne)=>{let le=0;ge.subscribe(new B.Q(ne,he=>{ne.next(oe.call(ae,he,le++))}))})}},5373:(tt,ve,N)=>{"use strict";N.d(ve,{J:()=>P});var d=N(5724),B=N(4623);function P(oe=1/0){return(0,d.z)(B.y,oe)}},5724:(tt,ve,N)=>{"use strict";N.d(ve,{z:()=>le});var d=N(4753),B=N(9985),P=N(9947),ae=(N(8395),N(8889)),ne=N(5044);function le(he,G,$=1/0){return(0,ne.m)(G)?le((ie,Be)=>(0,d.U)((Me,je)=>G(ie,Me,Be,je))((0,B.Xf)(he(ie,Be))),$):("number"==typeof G&&($=G),(0,P.e)((ie,Be)=>function(he,G,$,ie,Be,Me,je,He){const de=[];let J=0,ce=0,Te=!1;const we=()=>{Te&&!de.length&&!J&&G.complete()},We=Ze=>J<ie?ke(Ze):de.push(Ze),ke=Ze=>{J++;let Ye=!1;(0,B.Xf)($(Ze,ce++)).subscribe(new ae.Q(G,dt=>{G.next(dt)},()=>{Ye=!0},void 0,()=>{if(Ye)try{for(J--;de.length&&J<ie;){const dt=de.shift();ke(dt)}we()}catch(dt){G.error(dt)}}))};return he.subscribe(new ae.Q(G,We,()=>{Te=!0,we()})),()=>{}}(ie,Be,he,$)))}},4763:(tt,ve,N)=>{"use strict";N.d(ve,{Q:()=>oe});var d=N(8395),B=N(9947),P=N(8889);function oe(ae,ge=0){return(0,B.e)((ne,le)=>{ne.subscribe(new P.Q(le,he=>(0,d.f)(le,ae,()=>le.next(he),ge),()=>(0,d.f)(le,ae,()=>le.complete(),ge),he=>(0,d.f)(le,ae,()=>le.error(he),ge)))})}},3174:(tt,ve,N)=>{"use strict";N.d(ve,{B:()=>ge});var d=N(5947),B=N(9468),P=N(273),oe=N(584),ae=N(9947);function ge(le={}){const{connector:he=(()=>new P.x),resetOnError:G=!0,resetOnComplete:$=!0,resetOnRefCountZero:ie=!0}=le;return Be=>{let Me=null,je=null,He=null,de=0,J=!1,ce=!1;const Te=()=>{null==je||je.unsubscribe(),je=null},we=()=>{Te(),Me=He=null,J=ce=!1},We=()=>{const ke=Me;we(),null==ke||ke.unsubscribe()};return(0,ae.e)((ke,Ze)=>{de++,!ce&&!J&&Te();const Ye=He=null!=He?He:he();Ze.add(()=>{de--,0===de&&!ce&&!J&&(je=ne(We,ie))}),Ye.subscribe(Ze),Me||(Me=new oe.Hp({next:dt=>Ye.next(dt),error:dt=>{ce=!0,Te(),je=ne(we,G,dt),Ye.error(dt)},complete:()=>{J=!0,Te(),je=ne(we,$),Ye.complete()}}),(0,d.D)(ke).subscribe(Me))})(Be)}}function ne(le,he,...G){return!0===he?(le(),null):!1===he?null:he(...G).pipe((0,B.q)(1)).subscribe(()=>le())}},5222:(tt,ve,N)=>{"use strict";N.d(ve,{R:()=>B});var d=N(9947);function B(P,oe=0){return(0,d.e)((ae,ge)=>{ge.add(P.schedule(()=>ae.subscribe(ge),oe))})}},9468:(tt,ve,N)=>{"use strict";N.d(ve,{q:()=>oe});var d=N(5583),B=N(9947),P=N(8889);function oe(ae){return ae<=0?()=>d.E:(0,B.e)((ge,ne)=>{let le=0;ge.subscribe(new P.Q(ne,he=>{++le<=ae&&(ne.next(he),ae<=le&&ne.complete())}))})}},7384:(tt,ve,N)=>{"use strict";N.d(ve,{b:()=>ae});var d=N(5044),B=N(9947),P=N(8889),oe=N(4623);function ae(ge,ne,le){const he=(0,d.m)(ge)||ne||le?{next:ge,error:ne,complete:le}:ge;return he?(0,B.e)((G,$)=>{var ie;null===(ie=he.subscribe)||void 0===ie||ie.call(he);let Be=!0;G.subscribe(new P.Q($,Me=>{var je;null===(je=he.next)||void 0===je||je.call(he,Me),$.next(Me)},()=>{var Me;Be=!1,null===(Me=he.complete)||void 0===Me||Me.call(he),$.complete()},Me=>{var je;Be=!1,null===(je=he.error)||void 0===je||je.call(he,Me),$.error(Me)},()=>{var Me,je;Be&&(null===(Me=he.unsubscribe)||void 0===Me||Me.call(he)),null===(je=he.finalize)||void 0===je||je.call(he)}))}):oe.y}},2869:(tt,ve,N)=>{"use strict";N.d(ve,{o:()=>ae});var d=N(7908);class B extends d.w0{constructor(ne,le){super()}schedule(ne,le=0){return this}}const P={setInterval(...ge){const{delegate:ne}=P;return((null==ne?void 0:ne.setInterval)||setInterval)(...ge)},clearInterval(ge){const{delegate:ne}=P;return((null==ne?void 0:ne.clearInterval)||clearInterval)(ge)},delegate:void 0};var oe=N(3980);class ae extends B{constructor(ne,le){super(ne,le),this.scheduler=ne,this.work=le,this.pending=!1}schedule(ne,le=0){if(this.closed)return this;this.state=ne;const he=this.id,G=this.scheduler;return null!=he&&(this.id=this.recycleAsyncId(G,he,le)),this.pending=!0,this.delay=le,this.id=this.id||this.requestAsyncId(G,this.id,le),this}requestAsyncId(ne,le,he=0){return P.setInterval(ne.flush.bind(ne,this),he)}recycleAsyncId(ne,le,he=0){if(null!=he&&this.delay===he&&!1===this.pending)return le;P.clearInterval(le)}execute(ne,le){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const he=this._execute(ne,le);if(he)return he;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ne,le){let G,he=!1;try{this.work(ne)}catch($){he=!0,G=$||new Error("Scheduled action threw falsy error")}if(he)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:ne,scheduler:le}=this,{actions:he}=le;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(he,this),null!=ne&&(this.id=this.recycleAsyncId(le,ne,null)),this.delay=null,super.unsubscribe()}}}},8843:(tt,ve,N)=>{"use strict";N.d(ve,{v:()=>P});var d=N(1733);class B{constructor(ae,ge=B.now){this.schedulerActionCtor=ae,this.now=ge}schedule(ae,ge=0,ne){return new this.schedulerActionCtor(this,ae).schedule(ne,ge)}}B.now=d.l.now;class P extends B{constructor(ae,ge=B.now){super(ae,ge),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ae){const{actions:ge}=this;if(this._active)return void ge.push(ae);let ne;this._active=!0;do{if(ne=ae.execute(ae.state,ae.delay))break}while(ae=ge.shift());if(this._active=!1,ne){for(;ae=ge.shift();)ae.unsubscribe();throw ne}}}},2210:(tt,ve,N)=>{"use strict";N.d(ve,{z:()=>P,P:()=>oe});var d=N(2869);const P=new(N(8843).v)(d.o),oe=P},1733:(tt,ve,N)=>{"use strict";N.d(ve,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},2496:(tt,ve,N)=>{"use strict";N.d(ve,{z:()=>d});const d={setTimeout(...B){const{delegate:P}=d;return((null==P?void 0:P.setTimeout)||setTimeout)(...B)},clearTimeout(B){const{delegate:P}=d;return((null==P?void 0:P.clearTimeout)||clearTimeout)(B)},delegate:void 0}},5497:(tt,ve,N)=>{"use strict";N.d(ve,{h:()=>B});const B="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},4816:(tt,ve,N)=>{"use strict";N.d(ve,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},7613:(tt,ve,N)=>{"use strict";N.d(ve,{jO:()=>oe,yG:()=>ae,_6:()=>ge});var d=N(5044),B=N(7398);function P(ne){return ne[ne.length-1]}function oe(ne){return(0,d.m)(P(ne))?ne.pop():void 0}function ae(ne){return(0,B.K)(P(ne))?ne.pop():void 0}function ge(ne,le){return"number"==typeof P(ne)?ne.pop():le}},3980:(tt,ve,N)=>{"use strict";function d(B,P){if(B){const oe=B.indexOf(P);0<=oe&&B.splice(oe,1)}}N.d(ve,{P:()=>d})},4893:(tt,ve,N)=>{"use strict";function d(B){const oe=B(ae=>{Error.call(ae),ae.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}N.d(ve,{d:()=>d})},8706:(tt,ve,N)=>{"use strict";N.d(ve,{x:()=>P,O:()=>oe});var d=N(5367);let B=null;function P(ae){if(d.v.useDeprecatedSynchronousErrorHandling){const ge=!B;if(ge&&(B={errorThrown:!1,error:null}),ae(),ge){const{errorThrown:ne,error:le}=B;if(B=null,ne)throw le}}else ae()}function oe(ae){d.v.useDeprecatedSynchronousErrorHandling&&B&&(B.errorThrown=!0,B.error=ae)}},8395:(tt,ve,N)=>{"use strict";function d(B,P,oe,ae=0,ge=!1){const ne=P.schedule(function(){oe(),ge?B.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(B.add(ne),!ge)return ne}N.d(ve,{f:()=>d})},4623:(tt,ve,N)=>{"use strict";function d(B){return B}N.d(ve,{y:()=>d})},1537:(tt,ve,N)=>{"use strict";N.d(ve,{z:()=>d});const d=B=>B&&"number"==typeof B.length&&"function"!=typeof B},9908:(tt,ve,N)=>{"use strict";N.d(ve,{D:()=>B});var d=N(5044);function B(P){return Symbol.asyncIterator&&(0,d.m)(null==P?void 0:P[Symbol.asyncIterator])}},5044:(tt,ve,N)=>{"use strict";function d(B){return"function"==typeof B}N.d(ve,{m:()=>d})},1073:(tt,ve,N)=>{"use strict";N.d(ve,{c:()=>P});var d=N(4816),B=N(5044);function P(oe){return(0,B.m)(oe[d.L])}},2317:(tt,ve,N)=>{"use strict";N.d(ve,{T:()=>P});var d=N(5497),B=N(5044);function P(oe){return(0,B.m)(null==oe?void 0:oe[d.h])}},2442:(tt,ve,N)=>{"use strict";N.d(ve,{t:()=>B});var d=N(5044);function B(P){return(0,d.m)(null==P?void 0:P.then)}},7751:(tt,ve,N)=>{"use strict";N.d(ve,{Q:()=>P,L:()=>oe});var d=N(9162),B=N(5044);function P(ae){return(0,d.FC)(this,arguments,function*(){const ne=ae.getReader();try{for(;;){const{value:le,done:he}=yield(0,d.qq)(ne.read());if(he)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(le)}}finally{ne.releaseLock()}})}function oe(ae){return(0,B.m)(null==ae?void 0:ae.getReader)}},7398:(tt,ve,N)=>{"use strict";N.d(ve,{K:()=>B});var d=N(5044);function B(P){return P&&(0,d.m)(P.schedule)}},9947:(tt,ve,N)=>{"use strict";N.d(ve,{A:()=>B,e:()=>P});var d=N(5044);function B(oe){return(0,d.m)(null==oe?void 0:oe.lift)}function P(oe){return ae=>{if(B(ae))return ae.lift(function(ge){try{return oe(ge,this)}catch(ne){this.error(ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},6921:(tt,ve,N)=>{"use strict";function d(){}N.d(ve,{Z:()=>d})},5160:(tt,ve,N)=>{"use strict";N.d(ve,{h:()=>P});var d=N(5367),B=N(2496);function P(oe){B.z.setTimeout(()=>{const{onUnhandledError:ae}=d.v;if(!ae)throw oe;ae(oe)})}},3754:(tt,ve,N)=>{"use strict";function d(B){return new TypeError(`You provided ${null!==B&&"object"==typeof B?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(ve,{z:()=>d})},7308:(tt,ve,N)=>{"use strict";var d=N(3668);let B=null;function P(){return B}const ne=new d.OlP("DocumentToken");let le=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.LFG)($)},providedIn:"platform"}),n})();const G=new d.OlP("Location Initialized");let $=(()=>{class n extends le{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){ie()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){ie()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:function(){return new $((0,d.LFG)(ne))},providedIn:"platform"}),n})();function ie(){return!!window.history.pushState}function Me(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function je(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function He(n){return n&&"?"!==n[0]?"?"+n:n}let de=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function(n){const e=(0,d.LFG)(ne).location;return new Te((0,d.LFG)(le),e&&e.origin||"")}()},providedIn:"root"}),n})();const ce=new d.OlP("appBaseHref");let Te=(()=>{class n extends de{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Me(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+He(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,l){const u=this.prepareExternalUrl(i+He(l));this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,l){const u=this.prepareExternalUrl(i+He(l));this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null==(i=(r=this._platformLocation).historyGo)||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(le),d.LFG(ce,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),we=(()=>{class n extends de{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Me(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,l){let u=this.prepareExternalUrl(i+He(l));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,l){let u=this.prepareExternalUrl(i+He(l));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null==(i=(r=this._platformLocation).historyGo)||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(le),d.LFG(ce,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),We=(()=>{class n{constructor(t,r){this._subject=new d.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=je(Ye(i)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+He(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ye(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+He(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+He(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null==(i=(r=this._platformStrategy).historyGo)||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=He,n.joinWithSlash=Me,n.stripTrailingSlash=je,n.\u0275fac=function(t){return new(t||n)(d.LFG(de),d.LFG(le))},n.\u0275prov=d.Yz7({token:n,factory:function(){return new We((0,d.LFG)(de),(0,d.LFG)(le))},providedIn:"root"}),n})();function Ye(n){return n.replace(/\/index.html$/,"")}var fe=(()=>((fe=fe||{})[fe.Zero=0]="Zero",fe[fe.One=1]="One",fe[fe.Two=2]="Two",fe[fe.Few=3]="Few",fe[fe.Many=4]="Many",fe[fe.Other=5]="Other",fe))();const Fe=d.kL8;class ii{}let pn=(()=>{class n extends ii{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(Fe(r||this.locale)(t)){case fe.Zero:return"zero";case fe.One:return"one";case fe.Two:return"two";case fe.Few:return"few";case fe.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.soG))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Qc{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Lo=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=[];t.forEachOperation((i,l,u)=>{if(null==i.previousIndex){const f=this._viewContainer.createEmbeddedView(this._template,new Qc(null,this._ngForOf,-1,-1),null===u?void 0:u),_=new Fs(i,f);r.push(_)}else if(null==u)this._viewContainer.remove(null===l?void 0:l);else if(null!==l){const f=this._viewContainer.get(l);this._viewContainer.move(f,u);const _=new Fs(i,f);r.push(_)}});for(let i=0;i<r.length;i++)this._perViewChange(r[i].view,r[i].record);for(let i=0,l=this._viewContainer.length;i<l;i++){const u=this._viewContainer.get(i);u.context.index=i,u.context.count=l,u.context.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{this._viewContainer.get(i.currentIndex).context.$implicit=i.item})}_perViewChange(t,r){t.context.$implicit=r.item}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class Fs{constructor(e,t){this.record=e,this.view=t}}let ds=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Ga,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){hs("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){hs("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Ga{constructor(){this.$implicit=null,this.ngIf=null}}function hs(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(e)}'.`)}class er{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let qa=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),zi=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new er(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(qa,9))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),oi=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,l]=t.split(".");null!=(r=null!=r&&l?`${r}${l}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,i,r):this._renderer.removeStyle(this._ngEl.nativeElement,i)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.aQg),d.Y36(d.Qsj))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),cu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[{provide:ii,useClass:pn}]}),n})();const Ei="browser";function $r(n){return"server"===n}let Hl=(()=>{class n{}return n.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new fs((0,d.LFG)(ne),window)}),n})();class fs{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const l=i.shadowRoot;if(l){const u=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(u)return u}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],i-l[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=wd(this.window.history)||wd(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function wd(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class zr extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new zr,B||(B=n)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(Ci=Ci||document.querySelector("base"),Ci?Ci.getAttribute("href"):null);return null==t?null:function(n){Tr=Tr||document.createElement("a"),Tr.setAttribute("href",n);const e=Tr.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ci=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let Tr,Ci=null;const Bo=new d.OlP("TRANSITION_ID"),Wt=[{provide:d.ip1,useFactory:function(n,e,t){return()=>{t.get(d.CZH).donePromise.then(()=>{const r=P(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<i.length;l++)r.remove(i[l])})}},deps:[Bo,ne,d.zs3],multi:!0}];class Ya{static init(){(0,d.VLi)(new Ya)}addToWindow(e){d.dqk.getAngularTestability=(r,i=!0)=>{const l=e.findTestabilityInTree(r,i);if(null==l)throw new Error("Could not find testability for element.");return l},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(r=>{const i=d.dqk.getAllAngularTestabilities();let l=i.length,u=!1;const f=function(_){u=u||_,l--,0==l&&r(u)};i.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?P().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Us=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Qa=new d.OlP("EventManagerPlugins");let Mr=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let l=0;l<i.length;l++){const u=i[l];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Qa),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class jo{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=P().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let dr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),gt=(()=>{class n extends dr{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(l=>{const u=this._doc.createElement("style");u.textContent=l,i.push(r.appendChild(u))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(zl),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(zl))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function zl(n){P().remove(n)}const oo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ao=/%COMP%/g;function Ki(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Ki(n,i,t):(i=i.replace(ao,n),t.push(i))}return t}function Un(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Zi=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Ar(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case d.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new du(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case d.ifc.ShadowDom:return new hu(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Ki(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Mr),d.LFG(gt),d.LFG(d.AFp))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Ar{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(oo[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const l=oo[i];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=oo[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,r,i&d.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Un(r)):this.eventManager.addEventListener(e,t,Un(r))}}class du extends Ar{constructor(e,t,r,i){super(e),this.component=r;const l=Ki(i+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr="_ngcontent-%COMP%".replace(ao,i+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(ao,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class hu extends Ar{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Ki(i.id,i.styles,[]);for(let u=0;u<l.length;u++){const f=document.createElement("style");f.textContent=l[u],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Ho=(()=>{class n extends jo{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const $o=["alt","control","meta","shift"],ps={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},lo={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},zo={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ai=(()=>{class n extends jo{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const l=n.parseEventName(r),u=n.eventCallback(l.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(t,l.domEventName,u))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const l=n._normalizeKey(r.pop());let u="";if($o.forEach(_=>{const w=r.indexOf(_);w>-1&&(r.splice(w,1),u+=_+".")}),u+=l,0!=r.length||0===l.length)return null;const f={};return f.domEventName=i,f.fullKey=u,f}static getEventFullKey(t){let r="",i=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&lo.hasOwnProperty(e)&&(e=lo[e]))}return ps[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),$o.forEach(l=>{l!=i&&zo[l](t)&&(r+=l+".")}),r+=i,r}static eventCallback(t,r,i){return l=>{n.getEventFullKey(l)===t&&i.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const nl=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:Ei},{provide:d.g9A,useValue:function(){zr.makeCurrent(),Ya.init()},multi:!0},{provide:ne,useFactory:function(){return(0,d.RDi)(document),document},deps:[]}]),Wo=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function(){return new d.qLn},deps:[]},{provide:Qa,useClass:Ho,multi:!0,deps:[ne,d.R0b,d.Lbi]},{provide:Qa,useClass:ai,multi:!0,deps:[ne]},{provide:Zi,useClass:Zi,deps:[Mr,gt,d.AFp]},{provide:d.FYo,useExisting:Zi},{provide:dr,useExisting:gt},{provide:gt,useClass:gt,deps:[ne]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b]},{provide:Mr,useClass:Mr,deps:[Qa,d.R0b]},{provide:class{},useClass:Us,deps:[]}];let rl=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId},{provide:Bo,useExisting:d.AFp},Wt]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(n,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:Wo,imports:[cu,d.hGG]}),n})();"undefined"!=typeof window&&window;let ul=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):d.LFG(Td),r},providedIn:"root"}),n})(),Td=(()=>{class n extends ul{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case d.q3G.NONE:return r;case d.q3G.HTML:return(0,d.qzn)(r,"HTML")?(0,d.z3N)(r):(0,d.EiD)(this._doc,String(r)).toString();case d.q3G.STYLE:return(0,d.qzn)(r,"Style")?(0,d.z3N)(r):r;case d.q3G.SCRIPT:if((0,d.qzn)(r,"Script"))return(0,d.z3N)(r);throw new Error("unsafe value used in a script context");case d.q3G.URL:return(0,d.yhl)(r),(0,d.qzn)(r,"URL")?(0,d.z3N)(r):(0,d.mCW)(String(r));case d.q3G.RESOURCE_URL:if((0,d.qzn)(r,"ResourceURL"))return(0,d.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,d.JVY)(t)}bypassSecurityTrustStyle(t){return(0,d.L6k)(t)}bypassSecurityTrustScript(t){return(0,d.eBb)(t)}bypassSecurityTrustUrl(t){return(0,d.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,d.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function(n){return new Td(n.get(ne))}(d.LFG(d.zs3)),r},providedIn:"root"}),n})();var xn=N(5947),uo=N(7613);function nt(...n){const e=(0,uo.yG)(n);return(0,xn.D)(n,e)}var nn=N(273);class li extends nn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var hr=N(8305);const{isArray:Yo}=Array,{getPrototypeOf:Tf,prototype:Da,keys:ho}=Object;function Di(n){if(1===n.length){const e=n[0];if(Yo(e))return{args:e,keys:null};if(function(n){return n&&"object"==typeof n&&Tf(n)===Da}(e)){const t=ho(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var fo=N(4623),bt=N(4753);const{isArray:Ad}=Array;function gs(n){return(0,bt.U)(e=>function(n,e){return Ad(e)?n(...e):n(e)}(n,e))}function Qo(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var zn=N(8889),po=N(8395);function Ii(n,e,t){n?(0,po.f)(t,n,e):e()}const Ia=(0,N(4893).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var _s=N(5373);function Xo(...n){return(0,_s.J)(1)((0,xn.D)(n,(0,uo.yG)(n)))}var xr=N(9985);function ys(n){return new hr.y(e=>{(0,xr.Xf)(n()).subscribe(e)})}var Yi=N(5583),$s=N(7908),Gt=N(9947);function go(){return(0,Gt.e)((n,e)=>{let t=null;n._refCount++;const r=new zn.Q(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,l=t;t=null,i&&(!l||i===l)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Jo extends hr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Gt.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new $s.w0;const t=this.getSubject();e.add(this.source.subscribe(new zn.Q(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=$s.w0.EMPTY)}return e}refCount(){return go()(this)}}function fr(n,e){return(0,Gt.e)((t,r)=>{let i=null,l=0,u=!1;const f=()=>u&&!i&&r.complete();t.subscribe(new zn.Q(r,_=>{null==i||i.unsubscribe();let w=0;const T=l++;(0,xr.Xf)(n(_,T)).subscribe(i=new zn.Q(r,R=>r.next(e?e(_,R,T,w++):R),()=>{i=null,f()}))},()=>{u=!0,f()}))})}var vr=N(9468);function Gr(...n){const e=(0,uo.yG)(n);return(0,Gt.e)((t,r)=>{(e?Xo(n,t,e):Xo(n,t)).subscribe(r)})}function zs(n,e,t,r,i){return(l,u)=>{let f=t,_=e,w=0;l.subscribe(new zn.Q(u,T=>{const R=w++;_=f?n(_,T,R):(f=!0,T),r&&u.next(_)},i&&(()=>{f&&u.next(_),u.complete()})))}}function Ti(n,e){return(0,Gt.e)(zs(n,e,arguments.length>=2,!0))}function Gn(n,e){return(0,Gt.e)((t,r)=>{let i=0;t.subscribe(new zn.Q(r,l=>n.call(e,l,i++)&&r.next(l)))})}function Rr(n){return(0,Gt.e)((e,t)=>{let l,r=null,i=!1;r=e.subscribe(new zn.Q(t,void 0,void 0,u=>{l=(0,xr.Xf)(n(u,Rr(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,l.subscribe(t))})}var Rn=N(5724),ci=N(5044);function vs(n,e){return(0,ci.m)(e)?(0,Rn.z)(n,e,1):(0,Rn.z)(n,1)}function Fn(n){return n<=0?()=>Yi.E:(0,Gt.e)((e,t)=>{let r=[];e.subscribe(new zn.Q(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function ea(n=Af){return(0,Gt.e)((e,t)=>{let r=!1;e.subscribe(new zn.Q(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Af(){return new Ia}function mu(n){return(0,Gt.e)((e,t)=>{let r=!1;e.subscribe(new zn.Q(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function _o(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Gn((i,l)=>n(i,l,r)):fo.y,(0,vr.q)(1),t?mu(e):ea(()=>new Ia))}var br=N(7384);function gu(n){return(0,Gt.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}class kr{constructor(e,t){this.id=e,this.url=t}}class Rd extends kr{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ln extends kr{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class hl extends kr{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ta extends kr{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Sf extends kr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nc extends kr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ai extends kr{constructor(e,t,r,i,l){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Si extends kr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fl extends kr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Aa{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class yo{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ta{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kd{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _u{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yu{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pl{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Nt="primary";class Or{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Qi(n){return new Or(n)}const bs="ngNavigationCancelingError";function Od(n){const e=Error("NavigationCancelingError: "+n);return e[bs]=!0,e}function Mf(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let l=0;l<r.length;l++){const u=r[l],f=n[l];if(u.startsWith(":"))i[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Xi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let l=0;l<t.length;l++)if(i=t[l],!Es(n[i],e[i]))return!1;return!0}function Es(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,l)=>r[l]===i)}return n===e}function rc(n){return Array.prototype.concat.apply([],n)}function Sa(n){return n.length>0?n[n.length-1]:null}function gn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ws(n){return(0,d.CqO)(n)?n:(0,d.QGY)(n)?(0,xn.D)(Promise.resolve(n)):nt(n)}const Ma={exact:function Eu(n,e,t){if(!Qe(n.segments,e.segments)||!k(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Eu(n.children[r],e.children[r],t))return!1;return!0},subset:D},na={exact:function(n,e){return Xi(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Es(n[t],e[t]))},ignored:()=>!0};function ic(n,e,t){return Ma[t.paths](n.root,e.root,t.matrixParams)&&na[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function D(n,e,t){return I(n,e,e.segments,t)}function I(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Qe(i,t)||e.hasChildren()||!k(i,t,r))}if(n.segments.length===t.length){if(!Qe(n.segments,t)||!k(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!D(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(Qe(n.segments,i)&&k(n.segments,i,r)&&n.children[Nt])&&I(n.children[Nt],e,l,r)}}function k(n,e,t){return e.every((r,i)=>na[t](n[i].parameters,r.parameters))}class L{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qi(this.queryParams)),this._queryParamMap}toString(){return Wr.serialize(this)}}class j{constructor(e,t){this.segments=e,this.children=t,this.parent=null,gn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wn(this)}}class ue{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Qi(this.parameters)),this._parameterMap}toString(){return oc(this)}}function Qe(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Yt{}class ln{parse(e){const t=new Of(e);return new L(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${cn(e.root,!0)}`,r=function(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Pr(t)}=${Pr(i)}`).join("&"):`${Pr(t)}=${Pr(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);var n;return`${t}${r}${"string"==typeof e.fragment?`#${n=e.fragment,encodeURI(n)}`:""}`}}const Wr=new ln;function Wn(n){return n.segments.map(e=>oc(e)).join("/")}function cn(n,e){if(!n.hasChildren())return Wn(n);if(e){const t=n.children[Nt]?cn(n.children[Nt],!1):"",r=[];return gn(n.children,(i,l)=>{l!==Nt&&r.push(`${l}:${cn(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(n,e){let t=[];return gn(n.children,(r,i)=>{i===Nt&&(t=t.concat(e(r,i)))}),gn(n.children,(r,i)=>{i!==Nt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Nt?[cn(n.children[Nt],!1)]:[`${i}:${cn(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Nt]?`${Wn(n)}/${t[0]}`:`${Wn(n)}/(${t.join("//")})`}}function ra(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pr(n){return ra(n).replace(/%3B/gi,";")}function Ji(n){return ra(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Kr(n){return decodeURIComponent(n)}function qs(n){return Kr(n.replace(/\+/g,"%20"))}function oc(n){return`${Ji(n.path)}${function(n){return Object.keys(n).map(e=>`;${Ji(e)}=${Ji(n[e])}`).join("")}(n.parameters)}`}const Ra=/^[^\/()?;=#]+/;function ia(n){const e=n.match(Ra);return e?e[0]:""}const _g=/^[^=?&#]+/,kf=/^[^&#]+/;class Of{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new j([],{}):new j([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Nt]=new j(e,t)),r}parseSegment(){const e=ia(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new ue(Kr(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=ia(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=ia(this.remaining);i&&(r=i,this.capture(r))}e[Kr(t)]=Kr(r)}parseQueryParam(e){const t=function(n){const e=n.match(_g);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const u=function(n){const e=n.match(kf);return e?e[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const i=qs(t),l=qs(r);if(e.hasOwnProperty(i)){let u=e[i];Array.isArray(u)||(u=[u],e[i]=u),u.push(l)}else e[i]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ia(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Nt);const u=this.parseChildren();t[l]=1===Object.keys(u).length?u[Nt]:new j([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Pf{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Nd(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Nd(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ac(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ac(e,this._root).map(t=>t.value)}}function Nd(n,e){if(n===e.value)return e;for(const t of e.children){const r=Nd(n,t);if(r)return r}return null}function ac(n,e){if(n===e.value)return[e];for(const t of e.children){const r=ac(n,t);if(r.length)return r.unshift(e),r}return[]}class es{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ws(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class vo extends Pf{constructor(e,t){super(e),this.snapshot=t,Iu(this,e)}toString(){return this.snapshot.toString()}}function wu(n,e){const t=function(n,e){const u=new ml([],{},{},"",{},Nt,e,null,n.root,-1,{});return new Du("",new es(u,[]))}(n,e),r=new li([new ue("",{})]),i=new li({}),l=new li({}),u=new li({}),f=new li(""),_=new sa(r,i,u,f,l,Nt,e,t.root);return _.snapshot=t.root,new vo(new es(_,[]),t)}class sa{constructor(e,t,r,i,l,u,f,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=u,this.component=f,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,bt.U)(e=>Qi(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,bt.U)(e=>Qi(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function lc(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],l=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(l.component)break;r--}}return function(n){return n.reduce((e,t)=>({params:rt(rt({},e.params),t.params),data:rt(rt({},e.data),t.data),resolve:rt(rt({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class ml{constructor(e,t,r,i,l,u,f,_,w,T,R){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=u,this.component=f,this.routeConfig=_,this._urlSegment=w,this._lastPathIndex=T,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Qi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Du extends Pf{constructor(e,t){super(t),this.url=e,Iu(this,t)}toString(){return bo(this._root)}}function Iu(n,e){e.value._routerState=n,e.children.forEach(t=>Iu(n,t))}function bo(n){const e=n.children.length>0?` { ${n.children.map(bo).join(", ")} } `:"";return`${n.value}${e}`}function cc(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Xi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Xi(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Xi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Xi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Fd(n,e){const t=Xi(n.params,e.params)&&function(n,e){return Qe(n,e)&&n.every((t,r)=>Xi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Fd(n.parent,e.parent))}function uc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return uc(n,r,i);return uc(n,r)})}(n,e,t);return new es(r,i)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const u=l.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(f=>uc(n,f)),u}}const r=function(n){return new sa(new li(n.url),new li(n.params),new li(n.queryParams),new li(n.fragment),new li(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(l=>uc(n,l));return new es(r,i)}}function _l(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function dc(n){return"object"==typeof n&&null!=n&&n.outlets}function yl(n,e,t,r,i){let l={};return r&&gn(r,(u,f)=>{l[f]=Array.isArray(u)?u.map(_=>`${_}`):`${u}`}),new L(t.root===n?e:Ff(t.root,n,e),l,i)}function Ff(n,e,t){const r={};return gn(n.children,(i,l)=>{r[l]=i===e?t:Ff(i,e,t)}),new j(n.segments,r)}class Lf{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&_l(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(dc);if(i&&i!==Sa(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Tu{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Vf(n,e,t){if(n||(n=new j([],{})),0===n.segments.length&&n.hasChildren())return hc(n,e,t);const r=function(n,e,t){let r=0,i=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return l;const u=n.segments[i],f=t[r];if(dc(f))break;const _=`${f}`,w=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&w&&"object"==typeof w&&void 0===w.outlets){if(!vl(_,w,u))return l;r+=2}else{if(!vl(_,{},u))return l;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new j(n.segments.slice(0,r.pathIndex),{});return l.children[Nt]=new j(n.segments.slice(r.pathIndex),n.children),hc(l,0,i)}return r.match&&0===i.length?new j(n.segments,{}):r.match&&!n.hasChildren()?ka(n,e,t):r.match?hc(n,0,i):ka(n,e,t)}function hc(n,e,t){if(0===t.length)return new j(n.segments,{});{const r=function(n){return dc(n[0])?n[0].outlets:{[Nt]:n}}(t),i={};return gn(r,(l,u)=>{"string"==typeof l&&(l=[l]),null!==l&&(i[u]=Vf(n.children[u],e,l))}),gn(n.children,(l,u)=>{void 0===r[u]&&(i[u]=l)}),new j(n.segments,i)}}function ka(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const l=t[i];if(dc(l)){const _=Bf(l.outlets);return new j(r,_)}if(0===i&&_l(t[0])){r.push(new ue(n.segments[e].path,Cs(t[0]))),i++;continue}const u=dc(l)?l.outlets[Nt]:`${l}`,f=i<t.length-1?t[i+1]:null;u&&f&&_l(f)?(r.push(new ue(u,Cs(f))),i+=2):(r.push(new ue(u,{})),i++)}return new j(r,{})}function Bf(n){const e={};return gn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=ka(new j([],{}),0,t))}),e}function Cs(n){const e={};return gn(n,(t,r)=>e[r]=`${t}`),e}function vl(n,e,t){return n==t.path&&Xi(e,t.parameters)}class Uf{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),cc(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Ws(t);e.children.forEach(l=>{const u=l.value.outlet;this.deactivateRoutes(l,i[u],r),delete i[u]}),gn(i,(l,u)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(i===l)if(i.component){const u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=Ws(e);for(const u of Object.keys(l))this.deactivateRouteAndItsChildren(l[u],i);if(r&&r.outlet){const u=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=Ws(e);for(const u of Object.keys(l))this.deactivateRouteAndItsChildren(l[u],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Ws(t);e.children.forEach(l=>{this.activateRoutes(l,i[l.value.outlet],r),this.forwardEvent(new yu(l.value.snapshot))}),e.children.length&&this.forwardEvent(new kd(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(cc(i),i===l)if(i.component){const u=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const u=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),cc(f.route.value),this.activateChildRoutes(e,null,u.children)}else{const f=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),_=f?f.module.componentFactoryResolver:null;u.attachRef=null,u.route=i,u.resolver=_,u.outlet&&u.outlet.activateWith(i,_),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,r)}}class Hf{constructor(e,t){this.routes=e,this.module=t}}function Oa(n){return"function"==typeof n}function wo(n){return n instanceof L}const oa=Symbol("INITIAL_VALUE");function pc(){return fr(n=>function(...n){const e=(0,uo.yG)(n),t=(0,uo.jO)(n),{args:r,keys:i}=Di(n);if(0===r.length)return(0,xn.D)([],e);const l=new hr.y(function(n,e,t=fo.y){return r=>{Ii(e,()=>{const{length:i}=n,l=new Array(i);let u=i,f=i;for(let _=0;_<i;_++)Ii(e,()=>{const w=(0,xn.D)(n[_],e);let T=!1;w.subscribe(new zn.Q(r,R=>{l[_]=R,T||(T=!0,f--),f||r.next(t(l.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,e,i?u=>Qo(i,u):fo.y));return t?l.pipe(gs(t)):l}(n.map(e=>e.pipe((0,vr.q)(1),Gr(oa)))).pipe(Ti((e,t)=>{let r=!1;return t.reduce((i,l,u)=>i!==oa?i:(l===oa&&(r=!0),r||!1!==l&&u!==t.length-1&&!wo(l)?i:l),e)},oa),Gn(e=>e!==oa),(0,bt.U)(e=>wo(e)?e:!0===e),(0,vr.q)(1)))}class zf{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new bl,this.attachRef=null}}class bl{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new zf,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Ud=(()=>{class n{constructor(t,r,i,l,u){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.name=l||Nt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const u=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,_=new Gf(t,f,this.location.injector);this.activated=this.location.createComponent(u,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(bl),d.Y36(d.s_b),d.Y36(d._Vd),d.$8M("name"),d.Y36(d.sBO))},n.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Gf{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===sa?this.route:e===bl?this.childContexts:this.parent.get(e,t)}}let mc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&d._UZ(0,"router-outlet")},directives:[Ud],encapsulation:2}),n})();function qf(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];v(r,p(e,r))}}function v(n,e){n.children&&qf(n.children,e)}function p(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function g(n){const e=n.children&&n.children.map(g),t=e?Jr(rt({},n),{children:e}):rt({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Nt&&(t.component=mc),t}function b(n){return n.outlet||Nt}function M(n,e){const t=n.filter(r=>b(r)===e);return t.push(...n.filter(r=>b(r)!==e)),t}const O={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Q(n,e,t){var f;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?rt({},O):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Mf)(t,n,e);if(!i)return rt({},O);const l={};gn(i.posParams,(_,w)=>{l[w]=_.path});const u=i.consumed.length>0?rt(rt({},l),i.consumed[i.consumed.length-1].parameters):l;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:u,positionalParamSegments:null!=(f=i.posParams)?f:{}}}function ye(n,e,t,r,i="corrected"){if(t.length>0&&function(n,e,t){return t.some(r=>bn(n,e,r)&&b(r)!==Nt)}(n,t,r)){const u=new j(e,function(n,e,t,r){const i={};i[Nt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&b(l)!==Nt){const u=new j([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,i[b(l)]=u}return i}(n,e,r,new j(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(r=>bn(n,e,r))}(n,t,r)){const u=new j(n.segments,function(n,e,t,r,i,l){const u={};for(const f of r)if(bn(n,t,f)&&!i[b(f)]){const _=new j([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===l?n.segments.length:e.length,u[b(f)]=_}return rt(rt({},i),u)}(n,e,t,r,n.children,i));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const l=new j(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function bn(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Zr(n,e,t,r){return!!(b(n)===r||r!==Nt&&bn(e,t,n))&&("**"===n.path||Q(e,n,t).matched)}function Mi(n,e,t){return 0===e.length&&!n.children[t]}class tr{constructor(e){this.segmentGroup=e||null}}class El{constructor(e){this.urlTree=e}}function wl(n){return new hr.y(e=>e.error(new tr(n)))}function Au(n){return new hr.y(e=>e.error(new El(n)))}function Er(n){return new hr.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class jd{constructor(e,t,r,i,l){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(d.h0i)}apply(){const e=ye(this.urlTree.root,[],[],this.config).segmentGroup,t=new j(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Nt).pipe((0,bt.U)(l=>this.createUrlTree(Mu(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Rr(l=>{if(l instanceof El)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof tr?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Nt).pipe((0,bt.U)(i=>this.createUrlTree(Mu(i),e.queryParams,e.fragment))).pipe(Rr(i=>{throw i instanceof tr?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new j([],{[Nt]:e}):e;return new L(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,bt.U)(l=>new j([],l))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const l of Object.keys(r.children))"primary"===l?i.unshift(l):i.push(l);return(0,xn.D)(i).pipe(vs(l=>{const u=r.children[l],f=M(t,l);return this.expandSegmentGroup(e,f,u,l).pipe((0,bt.U)(_=>({segment:_,outlet:l})))}),Ti((l,u)=>(l[u.outlet]=u.segment,l),{}),function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Gn((i,l)=>n(i,l,r)):fo.y,Fn(1),t?mu(e):ea(()=>new Ia))}())}expandSegment(e,t,r,i,l,u){return(0,xn.D)(r).pipe(vs(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,l,u).pipe(Rr(w=>{if(w instanceof tr)return nt(null);throw w}))),_o(f=>!!f),Rr((f,_)=>{if(f instanceof Ia||"EmptyError"===f.name){if(Mi(t,i,l))return nt(new j([],{}));throw new tr(t)}throw f}))}expandSegmentAgainstRoute(e,t,r,i,l,u,f){return Zr(i,t,l,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,l,u):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,u):wl(t):wl(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,u){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Au(l):this.lineralizeSegments(r,l).pipe((0,Rn.z)(u=>{const f=new j(u,{});return this.expandSegment(e,f,t,u,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,u){const{matched:f,consumedSegments:_,lastChild:w,positionalParamSegments:T}=Q(t,i,l);if(!f)return wl(t);const R=this.applyRedirectCommands(_,i.redirectTo,T);return i.redirectTo.startsWith("/")?Au(R):this.lineralizeSegments(i,R).pipe((0,Rn.z)(V=>this.expandSegment(e,t,r,V.concat(l.slice(w)),u,!1)))}matchSegmentAgainstRoute(e,t,r,i,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?nt(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,bt.U)(V=>(r._loadedConfig=V,new j(i,{})))):nt(new j(i,{}));const{matched:u,consumedSegments:f,lastChild:_}=Q(t,r,i);if(!u)return wl(t);const w=i.slice(_);return this.getChildConfig(e,r,i).pipe((0,Rn.z)(R=>{const V=R.module,H=R.routes,{segmentGroup:X,slicedSegments:_e}=ye(t,f,w,H),Re=new j(X.segments,X.children);if(0===_e.length&&Re.hasChildren())return this.expandChildren(V,H,Re).pipe((0,bt.U)(_t=>new j(f,_t)));if(0===H.length&&0===_e.length)return nt(new j(f,{}));const pt=b(r)===l;return this.expandSegment(V,Re,H,_e,pt?Nt:l,!0).pipe((0,bt.U)(Zt=>new j(f.concat(Zt.segments),Zt.children)))}))}getChildConfig(e,t,r){return t.children?nt(new Hf(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?nt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Rn.z)(i=>{return i?this.configLoader.load(e.injector,t).pipe((0,bt.U)(l=>(t._loadedConfig=l,l))):(n=t,new hr.y(e=>e.error(Od(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):nt(new Hf([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?nt(i.map(u=>{const f=e.get(u);let _;if((n=f)&&Oa(n.canLoad))_=f.canLoad(t,r);else{if(!Oa(f))throw new Error("Invalid CanLoad guard");_=f(t,r)}var n;return ws(_)})).pipe(pc(),(0,br.b)(u=>{if(!wo(u))return;const f=Od(`Redirecting to "${this.urlSerializer.serialize(u)}"`);throw f.url=u,f}),(0,bt.U)(u=>!0===u)):nt(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return nt(r);if(i.numberOfChildren>1||!i.children[Nt])return Er(e.redirectTo);i=i.children[Nt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const l=this.createSegmentGroup(e,t.root,r,i);return new L(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return gn(e,(i,l)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[l]=t[f]}else r[l]=i}),r}createSegmentGroup(e,t,r,i){const l=this.createSegments(e,t.segments,r,i);let u={};return gn(t.children,(f,_)=>{u[_]=this.createSegmentGroup(e,f,r,i)}),new j(l,u)}createSegments(e,t,r,i){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,i):this.findOrReturn(l,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function Mu(n){const e={};for(const r of Object.keys(n.children)){const l=Mu(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function(n){if(1===n.numberOfChildren&&n.children[Nt]){const e=n.children[Nt];return new j(n.segments.concat(e.segments),e.children)}return n}(new j(n.segments,e))}class $d{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Kf{constructor(e,t){this.component=e,this.route=t}}function $v(n,e,t){const r=n._root;return gc(r,e?e._root:null,t,[r.value])}function Zf(n,e,t){const r=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function gc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=Ws(e);return n.children.forEach(u=>{(function(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,u=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(u&&l.routeConfig===u.routeConfig){const _=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Qe(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Qe(n.url,e.url)||!Xi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fd(n,e)||!Xi(n.queryParams,e.queryParams);default:return!Fd(n,e)}}(u,l,l.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new $d(r)):(l.data=u.data,l._resolvedData=u._resolvedData),gc(n,e,l.component?f?f.children:null:t,r,i),_&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new Kf(f.outlet.component,u))}else u&&Yf(e,f,i),i.canActivateChecks.push(new $d(r)),gc(n,null,l.component?f?f.children:null:t,r,i)})(u,l[u.value.outlet],t,r.concat([u.value]),i),delete l[u.value.outlet]}),gn(l,(u,f)=>Yf(u,t.getContext(f),i)),i}function Yf(n,e,t){const r=Ws(n),i=n.value;gn(r,(l,u)=>{Yf(l,i.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new Kf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class tD{}function Ag(n){return new hr.y(e=>e.error(n))}class rD{constructor(e,t,r,i,l,u){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=u}recognize(){const e=ye(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Nt);if(null===t)return null;const r=new ml([],Object.freeze({}),Object.freeze(rt({},this.urlTree.queryParams)),this.urlTree.fragment,{},Nt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new es(r,t),l=new Du(this.url,i);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,r=lc(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const l of Object.keys(t.children)){const u=t.children[l],f=M(e,l),_=this.processSegmentGroup(f,u,l);if(null===_)return null;r.push(..._)}const i=Gv(r);return i.sort((e,t)=>e.value.outlet===Nt?-1:t.value.outlet===Nt?1:e.value.outlet.localeCompare(t.value.outlet)),i}processSegment(e,t,r,i){for(const l of e){const u=this.processSegmentAgainstRoute(l,t,r,i);if(null!==u)return u}return Mi(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!Zr(e,t,r,i))return null;let l,u=[],f=[];if("**"===e.path){const H=r.length>0?Sa(r).parameters:{};l=new ml(r,H,Object.freeze(rt({},this.urlTree.queryParams)),this.urlTree.fragment,Co(e),b(e),e.component,e,qv(t),_c(t)+r.length,oD(e))}else{const H=Q(t,e,r);if(!H.matched)return null;u=H.consumedSegments,f=r.slice(H.lastChild),l=new ml(u,H.parameters,Object.freeze(rt({},this.urlTree.queryParams)),this.urlTree.fragment,Co(e),b(e),e.component,e,qv(t),_c(t)+u.length,oD(e))}const _=(n=e).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:w,slicedSegments:T}=ye(t,u,f,_.filter(H=>void 0===H.redirectTo),this.relativeLinkResolution);var n;if(0===T.length&&w.hasChildren()){const H=this.processChildren(_,w);return null===H?null:[new es(l,H)]}if(0===_.length&&0===T.length)return[new es(l,[])];const R=b(e)===i,V=this.processSegment(_,w,T,R?Nt:i);return null===V?null:[new es(l,V)]}}function zv(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Gv(n){const e=[],t=new Set;for(const r of n){if(!zv(r)){e.push(r);continue}const i=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Gv(r.children);e.push(new es(r.value,i))}return e.filter(r=>!t.has(r))}function qv(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function _c(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function Co(n){return n.data||{}}function oD(n){return n.resolve||{}}function Gd(n){return fr(e=>{const t=n(e);return t?(0,xn.D)(t).pipe((0,bt.U)(()=>e)):nt(e)})}class qd extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Qf=new d.OlP("ROUTES");class Mg{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,bt.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const u=l.create(e);return new Hf(rc(u.injector.get(Qf,void 0,d.XFs.Self|d.XFs.Optional)).map(g),u)}),Rr(l=>{throw t._loader$=void 0,l}));return t._loader$=new Jo(i,()=>new nn.x).pipe(go()),t._loader$}loadModuleFactory(e){return ws(e()).pipe((0,Rn.z)(t=>t instanceof d.YKP?nt(t):(0,xn.D)(this.compiler.compileModuleAsync(t))))}}class Rg{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Zv(n){throw n}function IR(n,e,t){return e.parse("/")}function yc(n,e){return nt(null)}const kg={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Yv={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ts=(()=>{class n{constructor(t,r,i,l,u,f,_){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=l,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new nn.x,this.errorHandler=Zv,this.malformedUriErrorHandler=IR,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:yc,afterPreactivation:yc},this.urlHandlingStrategy=new Rg,this.routeReuseStrategy=new qd,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=u.get(d.h0i),this.console=u.get(d.c2e);const R=u.get(d.R0b);this.isNgZoneEnabled=R instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=new L(new j([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Mg(u,f,V=>this.triggerEvent(new Aa(V)),V=>this.triggerEvent(new yo(V))),this.routerState=wu(this.currentUrlTree,this.rootComponentType),this.transitions=new li({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null==(t=this.location.getState())?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Gn(i=>0!==i.id),(0,bt.U)(i=>Jr(rt({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),fr(i=>{let l=!1,u=!1;return nt(i).pipe((0,br.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Jr(rt({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),fr(f=>{const _=this.browserUrlTree.toString(),w=!this.navigated||f.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return Xf(f.source)&&(this.browserUrlTree=f.extractedUrl),nt(f).pipe(fr(R=>{const V=this.transitions.getValue();return r.next(new Rd(R.id,this.serializeUrl(R.extractedUrl),R.source,R.restoredState)),V!==this.transitions.getValue()?Yi.E:Promise.resolve(R)}),function(n,e,t,r){return fr(i=>function(n,e,t,r,i){return new jd(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,bt.U)(l=>Jr(rt({},i),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,br.b)(R=>{this.currentNavigation=Jr(rt({},this.currentNavigation),{finalUrl:R.urlAfterRedirects})}),function(n,e,t,r,i){return(0,Rn.z)(l=>function(n,e,t,r,i="emptyOnly",l="legacy"){try{const u=new rD(n,e,t,r,i,l).recognize();return null===u?Ag(new tD):nt(u)}catch(u){return Ag(u)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),r,i).pipe((0,bt.U)(u=>Jr(rt({},l),{targetSnapshot:u}))))}(this.rootComponentType,this.config,R=>this.serializeUrl(R),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,br.b)(R=>{if("eager"===this.urlUpdateStrategy){if(!R.extras.skipLocationChange){const H=this.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl);this.setBrowserUrl(H,R)}this.browserUrlTree=R.urlAfterRedirects}const V=new Sf(R.id,this.serializeUrl(R.extractedUrl),this.serializeUrl(R.urlAfterRedirects),R.targetSnapshot);r.next(V)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:V,extractedUrl:H,source:X,restoredState:_e,extras:Re}=f,pt=new Rd(V,this.serializeUrl(H),X,_e);r.next(pt);const Et=wu(H,this.rootComponentType).snapshot;return nt(Jr(rt({},f),{targetSnapshot:Et,urlAfterRedirects:H,extras:Jr(rt({},Re),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),Yi.E}),Gd(f=>{const{targetSnapshot:_,id:w,extractedUrl:T,rawUrl:R,extras:{skipLocationChange:V,replaceUrl:H}}=f;return this.hooks.beforePreactivation(_,{navigationId:w,appliedUrlTree:T,rawUrlTree:R,skipLocationChange:!!V,replaceUrl:!!H})}),(0,br.b)(f=>{const _=new nc(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}),(0,bt.U)(f=>Jr(rt({},f),{guards:$v(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function(n,e){return(0,Rn.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:l,canDeactivateChecks:u}}=t;return 0===u.length&&0===l.length?nt(Jr(rt({},t),{guardsResult:!0})):function(n,e,t,r){return(0,xn.D)(n).pipe((0,Rn.z)(i=>function(n,e,t,r,i){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?nt(l.map(f=>{const _=Zf(f,e,i);let w;if(function(n){return n&&Oa(n.canDeactivate)}(_))w=ws(_.canDeactivate(n,e,t,r));else{if(!Oa(_))throw new Error("Invalid CanDeactivate guard");w=ws(_(n,e,t,r))}return w.pipe(_o())})).pipe(pc()):nt(!0)}(i.component,i.route,t,e,r)),_o(i=>!0!==i,!0))}(u,r,i,n).pipe((0,Rn.z)(f=>f&&function(n){return"boolean"==typeof n}(f)?function(n,e,t,r){return(0,xn.D)(e).pipe(vs(i=>Xo(function(n,e){return null!==n&&e&&e(new ta(n)),nt(!0)}(i.route.parent,r),function(n,e){return null!==n&&e&&e(new _u(n)),nt(!0)}(i.route,r),function(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(u=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>ys(()=>nt(u.guards.map(_=>{const w=Zf(_,u.node,t);let T;if(function(n){return n&&Oa(n.canActivateChild)}(w))T=ws(w.canActivateChild(r,n));else{if(!Oa(w))throw new Error("Invalid CanActivateChild guard");T=ws(w(r,n))}return T.pipe(_o())})).pipe(pc())));return nt(l).pipe(pc())}(n,i.path,t),function(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return nt(!0);const i=r.map(l=>ys(()=>{const u=Zf(l,e,t);let f;if(function(n){return n&&Oa(n.canActivate)}(u))f=ws(u.canActivate(e,n));else{if(!Oa(u))throw new Error("Invalid CanActivate guard");f=ws(u(e,n))}return f.pipe(_o())}));return nt(i).pipe(pc())}(n,i.route,t))),_o(i=>!0!==i,!0))}(r,l,n,e):nt(f)),(0,bt.U)(f=>Jr(rt({},t),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,br.b)(f=>{if(wo(f.guardsResult)){const w=Od(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw w.url=f.guardsResult,w}const _=new Ai(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(_)}),Gn(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),Gd(f=>{if(f.guards.canActivateChecks.length)return nt(f).pipe((0,br.b)(_=>{const w=new Si(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}),fr(_=>{let w=!1;return nt(_).pipe(function(n,e){return(0,Rn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return nt(t);let l=0;return(0,xn.D)(i).pipe(vs(u=>function(n,e,t,r){return function(n,e,t,r){const i=Object.keys(n);if(0===i.length)return nt({});const l={};return(0,xn.D)(i).pipe((0,Rn.z)(u=>function(n,e,t,r){const i=Zf(n,e,r);return ws(i.resolve?i.resolve(e,t):i(e,t))}(n[u],e,t,r).pipe((0,br.b)(f=>{l[u]=f}))),Fn(1),(0,Rn.z)(()=>Object.keys(l).length===i.length?nt(l):Yi.E))}(n._resolve,n,e,r).pipe((0,bt.U)(l=>(n._resolvedData=l,n.data=rt(rt({},n.data),lc(n,t).resolve),null)))}(u.route,r,n,e)),(0,br.b)(()=>l++),Fn(1),(0,Rn.z)(u=>l===i.length?nt(t):Yi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,br.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),(0,br.b)(_=>{const w=new fl(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}))}),Gd(f=>{const{targetSnapshot:_,id:w,extractedUrl:T,rawUrl:R,extras:{skipLocationChange:V,replaceUrl:H}}=f;return this.hooks.afterPreactivation(_,{navigationId:w,appliedUrlTree:T,rawUrlTree:R,skipLocationChange:!!V,replaceUrl:!!H})}),(0,bt.U)(f=>{const _=function(n,e,t){const r=uc(n,e._root,t?t._root:void 0);return new vo(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Jr(rt({},f),{targetRouterState:_})}),(0,br.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,bt.U)(r=>(new Uf(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,br.b)({next(){l=!0},complete(){l=!0}}),gu(()=>{var f;l||u||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null==(f=this.currentNavigation)?void 0:f.id)===i.id&&(this.currentNavigation=null)}),Rr(f=>{if(u=!0,function(n){return n&&n[bs]}(f)){const _=wo(f.url);_||(this.navigated=!0,this.restoreHistory(i,!0));const w=new hl(i.id,this.serializeUrl(i.extractedUrl),f.message);r.next(w),_?setTimeout(()=>{const T=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),R={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Xf(i.source)};this.scheduleNavigation(T,"imperative",null,R,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const _=new Ta(i.id,this.serializeUrl(i.extractedUrl),f);r.next(_);try{i.resolve(this.errorHandler(f))}catch(w){i.reject(w)}}return Yi.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(rt(rt({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var f;const i={replaceUrl:!0},l=(null==(f=t.state)?void 0:f.navigationId)?t.state:null;if(l){const _=rt({},l);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(i.state=_)}const u=this.parseUrl(t.url);this.scheduleNavigation(u,r,l,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){qf(t),this.config=t.map(g),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:l,fragment:u,queryParamsHandling:f,preserveFragment:_}=r,w=i||this.routerState.root,T=_?this.currentUrlTree.fragment:u;let R=null;switch(f){case"merge":R=rt(rt({},this.currentUrlTree.queryParams),l);break;case"preserve":R=this.currentUrlTree.queryParams;break;default:R=l||null}return null!==R&&(R=this.removeEmptyProps(R)),function(n,e,t,r,i){if(0===t.length)return yl(e.root,e.root,e,r,i);const l=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Lf(!0,0,n);let e=0,t=!1;const r=n.reduce((i,l,u)=>{if("object"==typeof l&&null!=l){if(l.outlets){const f={};return gn(l.outlets,(_,w)=>{f[w]="string"==typeof _?_.split("/"):_}),[...i,{outlets:f}]}if(l.segmentPath)return[...i,l.segmentPath]}return"string"!=typeof l?[...i,l]:0===u?(l.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,l]},[]);return new Lf(t,e,r)}(t);if(l.toRoot())return yl(e.root,new j([],{}),e,r,i);const u=function(n,e,t){if(n.isAbsolute)return new Tu(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new Tu(l,l===e.root,0)}const r=_l(n.commands[0])?0:1;return function(n,e,t){let r=n,i=e,l=t;for(;l>i;){if(l-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Tu(r,!1,i-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,e,n),f=u.processChildren?hc(u.segmentGroup,u.index,l.commands):Vf(u.segmentGroup,u.index,l.commands);return yl(u.segmentGroup,f,e,r,i)}(w,this.currentUrlTree,t,R,null!=T?T:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=wo(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?rt({},kg):!1===r?rt({},Yv):r,wo(t))return ic(this.currentUrlTree,t,i);const l=this.parseUrl(t);return ic(this.currentUrlTree,l,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const l=t[i];return null!=l&&(r[i]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Ln(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,l,u){var pt,Et,Zt;if(this.disposed)return Promise.resolve(!1);const f=this.transitions.value,_=Xf(r)&&f&&!Xf(f.source),w=f.rawUrl.toString()===t.toString(),T=f.id===(null==(pt=this.currentNavigation)?void 0:pt.id);if(_&&w&&T)return Promise.resolve(!0);let V,H,X;u?(V=u.resolve,H=u.reject,X=u.promise):X=new Promise((_t,An)=>{V=_t,H=An});const _e=++this.navigationId;let Re;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),Re=i&&i.\u0275routerPageId?i.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!=(Et=this.browserPageId)?Et:0:(null!=(Zt=this.browserPageId)?Zt:0)+1):Re=0,this.setTransition({id:_e,targetPageId:Re,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:V,reject:H,promise:X,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),X.catch(_t=>Promise.reject(_t))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),l=rt(rt({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",l):this.location.go(i,"",l)}restoreHistory(t,r=!1){var i,l;if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null==(i=this.currentNavigation)?void 0:i.finalUrl)||0===u?this.currentUrlTree===(null==(l=this.currentNavigation)?void 0:l.finalUrl)&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(u)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new hl(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Xf(n){return"imperative"!==n}class Fg{}class Vg{preload(e,t){return nt(null)}}let Jf=(()=>{class n{constructor(t,r,i,l){this.router=t,this.injector=i,this.preloadingStrategy=l,this.loader=new Mg(i,r,_=>t.triggerEvent(new Aa(_)),_=>t.triggerEvent(new yo(_)))}setUpPreloading(){this.subscription=this.router.events.pipe(Gn(t=>t instanceof Ln),vs(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(d.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const u=l._loadedConfig;i.push(this.processRoutes(u.module,u.routes))}else l.loadChildren&&!l.canLoad?i.push(this.preloadConfig(t,l)):l.children&&i.push(this.processRoutes(t,l.children));return(0,xn.D)(i).pipe((0,_s.J)(),(0,bt.U)(l=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?nt(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Rn.z)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ts),d.LFG(d.Sil),d.LFG(d.zs3),d.LFG(Fg))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Bg=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Rd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ln&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof pl&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new pl(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Dl=new d.OlP("ROUTER_CONFIGURATION"),Ug=new d.OlP("ROUTER_FORROOT_GUARD"),vc=[We,{provide:Yt,useClass:ln},{provide:ts,useFactory:function(n,e,t,r,i,l,u={},f,_){const w=new ts(null,n,e,t,r,i,rc(l));return f&&(w.urlHandlingStrategy=f),_&&(w.routeReuseStrategy=_),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,w),u.enableTracing&&w.events.subscribe(T=>{var R,V;null==(R=console.group)||R.call(console,`Router Event: ${T.constructor.name}`),console.log(T.toString()),console.log(T),null==(V=console.groupEnd)||V.call(console)}),w},deps:[Yt,bl,We,d.zs3,d.Sil,Qf,Dl,[class{},new d.FiY],[class{},new d.FiY]]},bl,{provide:sa,useFactory:function(n){return n.routerState.root},deps:[ts]},Jf,Vg,class{preload(e,t){return t().pipe(Rr(()=>nt(null)))}},{provide:Dl,useValue:{enableTracing:!1}}];function Qv(){return new d.PXZ("Router",ts)}let jg=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[vc,Hg(t),{provide:Ug,useFactory:dD,deps:[[ts,new d.FiY,new d.tp0]]},{provide:Dl,useValue:r||{}},{provide:de,useFactory:ep,deps:[le,[new d.tBr(ce),new d.FiY],Dl]},{provide:Bg,useFactory:uD,deps:[ts,Hl,Dl]},{provide:Fg,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Vg},{provide:d.PXZ,multi:!0,useFactory:Qv},[tp,{provide:d.ip1,multi:!0,useFactory:np,deps:[tp]},{provide:zg,useFactory:rp,deps:[tp]},{provide:d.tb,multi:!0,useExisting:zg}]]}}static forChild(t){return{ngModule:n,providers:[Hg(t)]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ug,8),d.LFG(ts,8))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();function uD(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Bg(n,e,t)}function ep(n,e,t={}){return t.useHash?new we(n,e):new Te(n,e)}function dD(n){return"guarded"}function Hg(n){return[{provide:d.deG,multi:!0,useValue:n},{provide:Qf,multi:!0,useValue:n}]}let tp=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new nn.x}appInitializer(){return this.injector.get(G,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(f=>r=f),l=this.injector.get(ts),u=this.injector.get(Dl);return"disabled"===u.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?nt(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Dl),i=this.injector.get(Jf),l=this.injector.get(Bg),u=this.injector.get(ts),f=this.injector.get(d.z2F);t===f.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&u.initialNavigation(),i.setUpPreloading(),l.init(),u.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.zs3))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function np(n){return n.appInitializer.bind(n)}function rp(n){return n.bootstrapListener.bind(n)}const zg=new d.OlP("Router Initializer");class ip{constructor(){this.players=[],this.player_images=[],this.stack=[],this.playedCards=[],this.currentPlayer=0,this.pickCardAnimation=!1,this.currentCard="";for(let e=1;e<14;e++)this.stack.push("spade_"+e),this.stack.push("hearts_"+e),this.stack.push("clubs_"+e),this.stack.push("diamonds_"+e);!function(n){let t,e=n.length;for(;0!=e;)t=Math.floor(Math.random()*e),e--,[n[e],n[t]]=[n[t],n[e]]}(this.stack)}toJSON(){return{players:this.players,player_images:this.player_images,stack:this.stack,playedCards:this.playedCards,currentPlayer:this.currentPlayer,pickCardAnimation:this.pickCardAnimation,currentCard:this.currentCard}}}function Il(n){return null!=n&&"false"!=`${n}`}function tb(n){return Array.isArray(n)?n:[n]}function pr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Do(n){return n instanceof d.SBq?n.nativeElement:n}var AR=N(1537);const nb=["addListener","removeListener"],mD=["addEventListener","removeEventListener"],rb=["on","off"];function sp(n,e,t,r){if((0,ci.m)(t)&&(r=t,t=void 0),r)return sp(n,e,t).pipe(gs(r));const[i,l]=function(n){return(0,ci.m)(n.addEventListener)&&(0,ci.m)(n.removeEventListener)}(n)?mD.map(u=>f=>n[u](e,f,t)):function(n){return(0,ci.m)(n.addListener)&&(0,ci.m)(n.removeListener)}(n)?nb.map(ib(n,e)):function(n){return(0,ci.m)(n.on)&&(0,ci.m)(n.off)}(n)?rb.map(ib(n,e)):[];if(!i&&(0,AR.z)(n))return(0,Rn.z)(u=>sp(u,e,t))((0,xr.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new hr.y(u=>{const f=(..._)=>u.next(1<_.length?_:_[0]);return i(f),()=>l(f)})}function ib(n,e){return t=>r=>n[t](e,r)}var ob=N(2869);const Kd={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=Kd;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(l=>{t=void 0,n(l)});return new $s.w0(()=>null==t?void 0:t(i))},requestAnimationFrame(...n){const{delegate:e}=Kd;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Kd;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var ab=N(8843);new class extends ab.v{flush(e){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let r,i=-1;e=e||t.shift();const l=t.length;do{if(r=e.execute(e.state,e.delay))break}while(++i<l&&(e=t.shift()));if(this._active=!1,r){for(;++i<l&&(e=t.shift());)e.unsubscribe();throw r}}}(class extends ob.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Kd.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);0===e.actions.length&&(Kd.cancelAnimationFrame(t),e._scheduled=void 0)}});let Ot,vD=1;const Zd={};function qg(n){return n in Zd&&(delete Zd[n],!0)}const cb={setImmediate(n){const e=vD++;return Zd[e]=!0,Ot||(Ot=Promise.resolve()),Ot.then(()=>qg(e)&&n()),e},clearImmediate(n){qg(n)}},{setImmediate:To,clearImmediate:ub}=cb,op={setImmediate(...n){const{delegate:e}=op;return((null==e?void 0:e.setImmediate)||To)(...n)},clearImmediate(n){const{delegate:e}=op;return((null==e?void 0:e.clearImmediate)||ub)(n)},delegate:void 0};new class extends ab.v{flush(e){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let r,i=-1;e=e||t.shift();const l=t.length;do{if(r=e.execute(e.state,e.delay))break}while(++i<l&&(e=t.shift()));if(this._active=!1,r){for(;++i<l&&(e=t.shift());)e.unsubscribe();throw r}}}(class extends ob.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=op.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);0===e.actions.length&&(op.clearImmediate(t),e._scheduled=void 0)}});var Ru=N(2210),db=N(7398);function Yd(n,e=Ru.P){return function(n){return(0,Gt.e)((e,t)=>{let r=!1,i=null,l=null,u=!1;const f=()=>{if(null==l||l.unsubscribe(),l=null,r){r=!1;const w=i;i=null,t.next(w)}u&&t.complete()},_=()=>{l=null,u&&t.complete()};e.subscribe(new zn.Q(t,w=>{r=!0,i=w,l||(0,xr.Xf)(n()).subscribe(l=new zn.Q(t,f,_))},()=>{u=!0,(!r||!l||l.closed)&&t.complete()}))})}(()=>function(n=0,e,t=Ru.P){let r=-1;return null!=e&&((0,db.K)(e)?t=e:r=e),new hr.y(i=>{let l=function(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;l<0&&(l=0);let u=0;return t.schedule(function(){i.closed||(i.next(u++),0<=r?this.schedule(void 0,r):i.complete())},l)})}(n,e))}let Qd;try{Qd="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Qd=!1}let Jd,xi=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function(n){return n===Ei}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Qd)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.Lbi))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const hb=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function fb(){if(Jd)return Jd;if("object"!=typeof document||!document)return Jd=new Set(hb),Jd;let n=document.createElement("input");return Jd=new Set(hb.filter(e=>(n.setAttribute("type",e),n.type===e))),Jd}let eh,bc,lp;function th(n){return function(){if(null==eh&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>eh=!0}))}finally{eh=eh||!1}return eh}()?n:!!n.capture}function RR(){if(null==bc){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return bc=!1,bc;if("scrollBehavior"in document.documentElement.style)bc=!0;else{const n=Element.prototype.scrollTo;bc=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return bc}function pb(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function ku(n){return n.composedPath?n.composedPath()[0]:n.target}function mb(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}const kR=new d.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,d.f3M)(ne)}}),PR=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Xg=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new d.vpe,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?PR.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(kR,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),TD=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new nn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new hr.y(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(Yd(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):nt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Gn(l=>!l||i.indexOf(l)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,l)=>{this._scrollableContainsElement(l,t)&&r.push(l)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=Do(r),l=t.getElementRef().nativeElement;do{if(i==l)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>sp(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.R0b),d.LFG(xi),d.LFG(ne,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vb=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new nn.x,this._changeListener=l=>{this._change.next(l)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const l=this._getWindow();l.addEventListener("resize",this._changeListener),l.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,l=i.getBoundingClientRect();return{top:-l.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-l.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Yd(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(xi),d.LFG(d.R0b),d.LFG(ne,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ou=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),Cc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[cp,Xd,Ou],cp,Ou]}),n})();class dp{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class ih extends dp{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class hp extends dp{constructor(e,t,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class wb extends dp{constructor(e){super(),this.element=e instanceof d.SBq?e.nativeElement:e}}class Pu{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof ih?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof hp?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof wb?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Cb extends Pu{constructor(e,t,r,i,l){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=u=>{const f=u.element,_=this._document.createComment("dom-portal");f.parentNode.insertBefore(_,f),this.outletElement.appendChild(f),this._attachedPortal=u,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(f,_)})},this._document=l}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Db=(()=>{class n extends Pu{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new d.vpe,this.attachDomPortal=l=>{const u=l.element,f=this._document.createComment("dom-portal");l.setAttachedHost(this),u.parentNode.insertBefore(f,u),this._getRootNode().appendChild(u),this._attachedPortal=l,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(u,f)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,l=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),u=r.createComponent(l,r.length,t.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=t,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d._Vd),d.Y36(d.s_b),d.Y36(ne))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[d.qOj]}),n})(),Ib=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();var Ri=N(3719),kD=N(6921);function sh(n){return(0,Gt.e)((e,t)=>{(0,xr.Xf)(n).subscribe(new zn.Q(t,()=>t.complete(),kD.Z)),!t.closed&&e.subscribe(t)})}const OD=RR();class $R{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=pr(-this._previousScrollPosition.left),e.style.top=pr(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,l=r.scrollBehavior||"",u=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),OD&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),OD&&(r.scrollBehavior=l,i.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class zR{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Tb{enable(){}disable(){}attach(){}}function oh(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function e_(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class ND{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();oh(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let FD=(()=>{class n{constructor(t,r,i,l){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new Tb,this.close=u=>new zR(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new $R(this._viewportRuler,this._document),this.reposition=u=>new ND(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=l}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(TD),d.LFG(vb),d.LFG(d.R0b),d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Ab{constructor(e){if(this.scrollStrategy=new Tb,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class Sb{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let t_=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Mb=(()=>{class n extends t_{constructor(t){super(t),this._keydownListener=r=>{const i=this._attachedOverlays;for(let l=i.length-1;l>-1;l--)if(i[l]._keydownEvents.observers.length>0){i[l]._keydownEvents.next(r);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VD=(()=>{class n extends t_{constructor(t,r){super(t),this._platform=r,this._cursorStyleIsSet=!1,this._pointerDownListener=i=>{this._pointerDownEventTarget=ku(i)},this._clickListener=i=>{const l=ku(i),u="click"===i.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;const f=this._attachedOverlays.slice();for(let _=f.length-1;_>-1;_--){const w=f[_];if(!(w._outsidePointerEvents.observers.length<1)&&w.hasAttached()){if(w.overlayElement.contains(l)||w.overlayElement.contains(u))break;w._outsidePointerEvents.next(i)}}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;r.addEventListener("pointerdown",this._pointerDownListener,!0),r.addEventListener("click",this._clickListener,!0),r.addEventListener("auxclick",this._clickListener,!0),r.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ne),d.LFG(xi))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ks=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){var t;null==(t=this._containerElement)||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||mb()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let l=0;l<i.length;l++)i[l].remove()}const r=this._document.createElement("div");r.classList.add(t),mb()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ne),d.LFG(xi))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class n_{constructor(e,t,r,i,l,u,f,_,w){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=l,this._keyboardDispatcher=u,this._document=f,this._location=_,this._outsideClickDispatcher=w,this._backdropElement=null,this._backdropClick=new nn.x,this._attachments=new nn.x,this._detachments=new nn.x,this._locationChanges=$s.w0.EMPTY,this._backdropClickHandler=T=>this._backdropClick.next(T),this._keydownEvents=new nn.x,this._outsidePointerEvents=new nn.x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,vr.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null==(t=this._host)||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=rt(rt({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Jr(rt({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=pr(this._config.width),e.height=pr(this._config.height),e.minWidth=pr(this._config.minWidth),e.minHeight=pr(this._config.minHeight),e.maxWidth=pr(this._config.maxWidth),e.maxHeight=pr(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(!e)return;let t;const r=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",r),this._disposeBackdrop(e)),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",r)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(r,500))}_toggleClasses(e,t,r){const i=tb(t||[]).filter(l=>!!l);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(sh((0,Ri.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.remove(),this._backdropElement===e&&(this._backdropElement=null))}}const xb="cdk-overlay-connected-position-bounding-box",BD=/([A-Za-z%]+)$/;class KR{constructor(e,t,r,i,l){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=l,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new nn.x,this._resizeSubscription=$s.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(xb),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=[];let l;for(let u of this._preferredPositions){let f=this._getOriginPoint(e,u),_=this._getOverlayPoint(f,t,u),w=this._getOverlayFit(_,t,r,u);if(w.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(u,f);this._canFitWithFlexibleDimensions(w,_,r)?i.push({position:u,origin:f,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(f,u)}):(!l||l.overlayFit.visibleArea<w.visibleArea)&&(l={overlayFit:w,overlayPoint:_,originPoint:f,position:u,overlayRect:t})}if(i.length){let u=null,f=-1;for(const _ of i){const w=_.boundingBoxRect.width*_.boundingBoxRect.height*(_.position.weight||1);w>f&&(f=w,u=_)}return this._isPushed=!1,void this._applyPosition(u.position,u.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Tl(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(xb),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let r,i;if("center"==t.originX)r=e.left+e.width/2;else{const l=this._isRtl()?e.right:e.left,u=this._isRtl()?e.left:e.right;r="start"==t.originX?l:u}return i="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:r,y:i}}_getOverlayPoint(e,t,r){let i,l;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,l="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+l}}_getOverlayFit(e,t,r,i){const l=kb(t);let{x:u,y:f}=e,_=this._getOffset(i,"x"),w=this._getOffset(i,"y");_&&(u+=_),w&&(f+=w);let V=0-f,H=f+l.height-r.height,X=this._subtractOverflows(l.width,0-u,u+l.width-r.width),_e=this._subtractOverflows(l.height,V,H),Re=X*_e;return{visibleArea:Re,isCompletelyWithinViewport:l.width*l.height===Re,fitsInViewportVertically:_e===l.height,fitsInViewportHorizontally:X==l.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,l=r.right-t.x,u=Rb(this._overlayRef.getConfig().minHeight),f=Rb(this._overlayRef.getConfig().minWidth),w=e.fitsInViewportHorizontally||null!=f&&f<=l;return(e.fitsInViewportVertically||null!=u&&u<=i)&&w}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=kb(t),l=this._viewportRect,u=Math.max(e.x+i.width-l.width,0),f=Math.max(e.y+i.height-l.height,0),_=Math.max(l.top-r.top-e.y,0),w=Math.max(l.left-r.left-e.x,0);let T=0,R=0;return T=i.width<=l.width?w||-u:e.x<this._viewportMargin?l.left-r.left-e.x:0,R=i.height<=l.height?_||-f:e.y<this._viewportMargin?l.top-r.top-e.y:0,this._previousPushAmount={x:T,y:R},{x:e.x+T,y:e.y+R}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new Sb(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let l=0;l<t.length;l++)t[l].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let l,u,f,T,R,V;if("top"===t.overlayY)u=e.y,l=r.height-u+this._viewportMargin;else if("bottom"===t.overlayY)f=r.height-e.y+2*this._viewportMargin,l=r.height-f+this._viewportMargin;else{const H=Math.min(r.bottom-e.y+r.top,e.y),X=this._lastBoundingBoxSize.height;l=2*H,u=e.y-H,l>X&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-X/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)V=r.width-e.x+this._viewportMargin,T=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)R=e.x,T=r.right-e.x;else{const H=Math.min(r.right-e.x+r.left,e.x),X=this._lastBoundingBoxSize.width;T=2*H,R=e.x-H,T>X&&!this._isInitialRender&&!this._growAfterOpen&&(R=e.x-X/2)}return{top:u,left:R,bottom:f,right:V,width:T,height:l}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const l=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;i.height=pr(r.height),i.top=pr(r.top),i.bottom=pr(r.bottom),i.width=pr(r.width),i.left=pr(r.left),i.right=pr(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",l&&(i.maxHeight=pr(l)),u&&(i.maxWidth=pr(u))}this._lastBoundingBoxSize=r,Tl(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Tl(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Tl(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),l=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(i){const T=this._viewportRuler.getViewportScrollPosition();Tl(r,this._getExactOverlayY(t,e,T)),Tl(r,this._getExactOverlayX(t,e,T))}else r.position="static";let f="",_=this._getOffset(t,"x"),w=this._getOffset(t,"y");_&&(f+=`translateX(${_}px) `),w&&(f+=`translateY(${w}px)`),r.transform=f.trim(),u.maxHeight&&(i?r.maxHeight=pr(u.maxHeight):l&&(r.maxHeight="")),u.maxWidth&&(i?r.maxWidth=pr(u.maxWidth):l&&(r.maxWidth="")),Tl(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},l=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,r));let u=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return l.y-=u,"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(l.y+this._overlayRect.height)+"px":i.top=pr(l.y),i}_getExactOverlayX(e,t,r){let u,i={left:"",right:""},l=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,r)),u=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===u?i.right=this._document.documentElement.clientWidth-(l.x+this._overlayRect.width)+"px":i.left=pr(l.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:e_(e,r),isOriginOutsideView:oh(e,r),isOverlayClipped:e_(t,r),isOverlayOutsideView:oh(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&tb(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof d.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function Tl(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Rb(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(BD);return t&&"px"!==t?null:parseFloat(e)}return n||null}function kb(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const Ob="cdk-global-overlay-wrapper";class r_{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Ob),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:l,maxWidth:u,maxHeight:f}=r,_=!("100%"!==i&&"100vw"!==i||u&&"100%"!==u&&"100vw"!==u),w=!("100%"!==l&&"100vh"!==l||f&&"100%"!==f&&"100vh"!==f);e.position=this._cssPosition,e.marginLeft=_?"0":this._leftOffset,e.marginTop=w?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,_?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=w?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(Ob),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let UD=(()=>{class n{constructor(t,r,i,l){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=l}global(){return new r_}flexibleConnectedTo(t){return new KR(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(vb),d.LFG(ne),d.LFG(xi),d.LFG(Ks))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jD=0,Dc=(()=>{class n{constructor(t,r,i,l,u,f,_,w,T,R,V){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=l,this._keyboardDispatcher=u,this._injector=f,this._ngZone=_,this._document=w,this._directionality=T,this._location=R,this._outsideClickDispatcher=V}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),l=this._createPortalOutlet(i),u=new Ab(t);return u.direction=u.direction||this._directionality.value,new n_(l,r,i,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+jD++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(d.z2F)),new Cb(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(FD),d.LFG(Ks),d.LFG(d._Vd),d.LFG(UD),d.LFG(Mb),d.LFG(d.zs3),d.LFG(d.R0b),d.LFG(ne),d.LFG(Xg),d.LFG(We),d.LFG(VD))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const $D={provide:new d.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Dc],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let zD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Dc,$D],imports:[[cp,Ib,Cc],Cc]}),n})();function gp(n,e=fo.y){return n=null!=n?n:a_,(0,Gt.e)((t,r)=>{let i,l=!0;t.subscribe(new zn.Q(r,u=>{const f=e(u);(l||!n(i,f))&&(l=!1,i=f,r.next(u))}))})}function a_(n,e){return n===e}let Jb=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function(n){try{return n.frameElement}catch(e){return null}}(function(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===LI(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),l=LI(t);return t.hasAttribute("contenteditable")?-1!==l:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==l:"video"===i?-1!==l&&(null!==l||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function(n){return!function(n){return function(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function(n){return function(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||_p(n))}(t)&&!this.isDisabled(t)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(xi))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _p(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function LI(n){if(!_p(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class bh{constructor(e,t,r,i,l=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,l||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return null==r||r.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe((0,vr.q)(1)).subscribe(e)}}let rE=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new bh(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Jb),d.LFG(d.R0b),d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function UI(n){return 0===n.offsetX&&0===n.offsetY}function lE(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const u_=new d.OlP("cdk-input-modality-detector-options"),d_={ignoreKeys:[18,17,224,91,16]},Ic=th({passive:!0,capture:!0});let h_=(()=>{class n{constructor(t,r,i,l){this._platform=t,this._mostRecentTarget=null,this._modality=new li(null),this._lastTouchMs=0,this._onKeydown=u=>{var f,_;(null==(_=null==(f=this._options)?void 0:f.ignoreKeys)?void 0:_.some(w=>w===u.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=ku(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(UI(u)?"keyboard":"mouse"),this._mostRecentTarget=ku(u))},this._onTouchstart=u=>{lE(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ku(u))},this._options=rt(rt({},d_),l),this.modalityDetected=this._modality.pipe(Gn((e,t)=>1<=t)),this.modalityChanged=this.modalityDetected.pipe(gp()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Ic),i.addEventListener("mousedown",this._onMousedown,Ic),i.addEventListener("touchstart",this._onTouchstart,Ic)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ic),document.removeEventListener("mousedown",this._onMousedown,Ic),document.removeEventListener("touchstart",this._onTouchstart,Ic))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(xi),d.LFG(d.R0b),d.LFG(ne),d.LFG(u_,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fE=new d.OlP("cdk-focus-monitor-default-options"),Eh=th({passive:!0,capture:!0});let yp=(()=>{class n{constructor(t,r,i,l,u){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new nn.x,this._rootNodeFocusAndBlurListener=f=>{const _=ku(f),w="focus"===f.type?this._onFocus:this._onBlur;for(let T=_;T;T=T.parentElement)w.call(this,f,T)},this._document=l,this._detectionMode=(null==u?void 0:u.detectionMode)||0}monitor(t,r=!1){const i=Do(t);if(!this._platform.isBrowser||1!==i.nodeType)return nt(null);const l=function(n){if(function(){if(null==lp){const n="undefined"!=typeof document?document.head:null;lp=!(!n||!n.createShadowRoot&&!n.attachShadow)}return lp}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),u=this._elementInfo.get(i);if(u)return r&&(u.checkChildren=!0),u.subject;const f={checkChildren:r,subject:new nn.x,rootNode:l};return this._elementInfo.set(i,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const r=Do(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const l=Do(t);l===this._getDocument().activeElement?this._getClosestElementsInfo(l).forEach(([f,_])=>this._originChanged(f,r,_)):(this._setOrigin(r),"function"==typeof l.focus&&l.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),l=ku(t);!i||!i.checkChildren&&r!==l||this._originChanged(r,this._getFocusOrigin(l),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Eh),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Eh)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(sh(this._stopInputModalityDetector)).subscribe(l=>{this._setOrigin(l,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Eh),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Eh),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,l)=>{(l===t||i.checkChildren&&l.contains(t))&&r.push([l,i])}),r}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.R0b),d.LFG(xi),d.LFG(h_),d.LFG(ne,8),d.LFG(fE,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const pE="cdk-high-contrast-black-on-white",f_="cdk-high-contrast-white-on-black",vp="cdk-high-contrast-active";let mE=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,l=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),l){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(vp),t.remove(pE),t.remove(f_),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(vp),t.add(pE)):2===r&&(t.add(vp),t.add(f_))}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(xi),d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class g_{}const ca="*";function __(n,e){return{type:7,name:n,definitions:e,options:{}}}function bp(n,e=null){return{type:4,styles:e,timings:n}}function y_(n,e=null){return{type:2,steps:n,options:e}}function Tc(n){return{type:6,styles:n,offset:null}}function v_(n,e,t){return{type:0,name:n,styles:e,options:t}}function Ep(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function b_(n){Promise.resolve(null).then(n)}class Fu{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){b_(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class E_{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const l=this.players.length;0==l?b_(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==l&&this._onFinish()}),u.onDestroy(()=>{++r==l&&this._onDestroy()}),u.onStart(()=>{++i==l&&this._onStart()})}),this.totalTime=this.players.reduce((u,f)=>Math.max(u,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function Ac(){return"undefined"!=typeof window&&void 0!==window.document}function w_(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Al(n){switch(n.length){case 0:return new Fu;case 1:return n[0];default:return new E_(n)}}function C_(n,e,t,r,i={},l={}){const u=[],f=[];let _=-1,w=null;if(r.forEach(T=>{const R=T.offset,V=R==_,H=V&&w||{};Object.keys(T).forEach(X=>{let _e=X,Re=T[X];if("offset"!==X)switch(_e=e.normalizePropertyName(_e,u),Re){case"!":Re=i[X];break;case ca:Re=l[X];break;default:Re=e.normalizeStyleValue(X,_e,Re,u)}H[_e]=Re}),V||f.push(H),w=H,_=R}),u.length){const T="\n - ";throw new Error(`Unable to animate due to the following errors:${T}${u.join(T)}`)}return f}function D_(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Cp(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Cp(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Cp(t,"destroy",n)))}}function Cp(n,e,t){const r=t.totalTime,l=_E(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),u=n._data;return null!=u&&(l._data=u),l}function _E(n,e,t,r,i="",l=0,u){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:l,disabled:!!u}}function ns(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function Dp(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let Zs=(n,e)=>!1,I_=(n,e)=>!1,yE=(n,e,t)=>[];const Mo=w_();(Mo||"undefined"!=typeof Element)&&(Zs=Ac()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),I_=(()=>{if(Mo||Element.prototype.matches)return(n,e)=>n.matches(e);{const n=Element.prototype,e=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return e?(t,r)=>e.apply(t,[r]):I_}})(),yE=(n,e,t)=>{let r=[];if(t){const i=n.querySelectorAll(e);for(let l=0;l<i.length;l++)r.push(i[l])}else{const i=n.querySelector(e);i&&r.push(i)}return r});let Yr=null,T_=!1;function Ip(n){Yr||(Yr=("undefined"!=typeof document?document.body:null)||{},T_=!!Yr.style&&"WebkitAppearance"in Yr.style);let e=!0;return Yr.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Yr.style,!e&&T_&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Yr.style)),e}const A_=I_,S_=Zs,M_=yE;function Tp(n){const e={};return Object.keys(n).forEach(t=>{const r=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=n[t]}),e}let Lu=(()=>{class n{validateStyleProperty(t){return Ip(t)}matchesElement(t,r){return A_(t,r)}containsElement(t,r){return S_(t,r)}query(t,r,i){return M_(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,l,u,f=[],_){return new Fu(i,l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),x_=(()=>{class n{}return n.NOOP=new Lu,n})();const Ap="ng-enter",Sc="ng-leave",wh="ng-trigger",Vu=".ng-trigger",Ch="ng-animating",Sp=".ng-animating";function Sl(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Mp(parseFloat(e[1]),e[2])}function Mp(n,e){return"s"===e?1e3*n:n}function Dh(n,e,t){return n.hasOwnProperty("duration")?n:function(n,e,t){let i,l=0,u="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};i=Mp(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(l=Mp(parseFloat(_),f[4]));const w=f[5];w&&(u=w)}else i=n;if(!t){let f=!1,_=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),f=!0),l<0&&(e.push("Delay values below 0 are not allowed for this animation step."),f=!0),f&&e.splice(_,0,`The provided timing value "${n}" is invalid.`)}return{duration:i,delay:l,easing:u}}(n,e,t)}function Mc(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function La(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else Mc(n,t);return t}function CE(n,e,t){return t?e+":"+t+";":""}function DE(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=CE(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=CE(0,ZI(t),n.style[t]));n.setAttribute("style",e)}function ua(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=O_(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),w_()&&DE(n))}function xc(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=O_(t);n.style[r]=""}),w_()&&DE(n))}function Ih(n){return Array.isArray(n)?1==n.length?n[0]:y_(n):n}const k_=new RegExp("{{\\s*(.+?)\\s*}}","g");function IE(n){let e=[];if("string"==typeof n){let t;for(;t=k_.exec(n);)e.push(t[1]);k_.lastIndex=0}return e}function xp(n,e,t){const r=n.toString(),i=r.replace(k_,(l,u)=>{let f=e[u];return e.hasOwnProperty(u)||(t.push(`Please provide a value for the animation param ${u}`),f=""),f.toString()});return i==r?n:i}function Rp(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const KI=/-+([a-z0-9])/g;function O_(n){return n.replace(KI,(...e)=>e[1].toUpperCase())}function ZI(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function TE(n,e){return 0===n||0===e}function AE(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let l=e[0],u=[];if(r.forEach(f=>{l.hasOwnProperty(f)||u.push(f),l[f]=t[f]}),u.length)for(var i=1;i<e.length;i++){let f=e[i];u.forEach(function(_){f[_]=P_(n,_)})}}return e}function Ds(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function P_(n,e){return window.getComputedStyle(n)[e]}function SE(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function(n,e,t){if(":"==n[0]){const _=function(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const i=r[1],l=r[2],u=r[3];e.push(N_(i,u));"<"==l[0]&&!("*"==i&&"*"==u)&&e.push(N_(u,i))}(r,t,e)):t.push(n),t}const Th=new Set(["true","1"]),Ah=new Set(["false","0"]);function N_(n,e){const t=Th.has(n)||Ah.has(n),r=Th.has(e)||Ah.has(e);return(i,l)=>{let u="*"==n||n==i,f="*"==e||e==l;return!u&&t&&"boolean"==typeof i&&(u=i?Th.has(n):Ah.has(n)),!f&&r&&"boolean"==typeof l&&(f=l?Th.has(e):Ah.has(e)),u&&f}}const RE=new RegExp("s*:selfs*,?","g");function Op(n,e,t){return new L_(n).build(e,t)}class L_{constructor(e){this._driver=e}build(e,t){const r=new QI(t);return this._resetContextStyleTimingState(r),Ds(this,Ih(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const l=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,w=_.name;w.toString().split(/\s*,\s*/).forEach(T=>{_.name=T,l.push(this.visitState(_,t))}),_.name=w}else if(1==f.type){const _=this.visitTransition(f,t);r+=_.queryCount,i+=_.depCount,u.push(_)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:l,transitions:u,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const l=new Set,u=i||{};if(r.styles.forEach(f=>{if(V_(f)){const _=f;Object.keys(_).forEach(w=>{IE(_[w]).forEach(T=>{u.hasOwnProperty(T)||l.add(T)})})}}),l.size){const f=Rp(l.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${f.join(", ")}`)}}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Ds(this,Ih(e.animation),t);return{type:1,matchers:SE(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Uu(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Ds(this,r,t)),options:Uu(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const l=e.steps.map(u=>{t.currentTime=r;const f=Ds(this,u,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:l,options:Uu(e.options)}}visitAnimate(e,t){const r=function(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return Np(Dh(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=Np(0,0,"");return l.dynamic=!0,l.strValue=r,l}return t=t||Dh(r,e),Np(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,l=e.styles?e.styles:Tc({});if(5==l.type)i=this.visitKeyframes(l,t);else{let u=e.styles,f=!1;if(!u){f=!0;const w={};r.easing&&(w.easing=r.easing),u=Tc(w)}t.currentTime+=r.duration+r.delay;const _=this.visitStyle(u,t);_.isEmptyStep=f,i=_}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(u=>{"string"==typeof u?u==ca?r.push(u):t.errors.push(`The provided style string value ${u} is not allowed.`):r.push(u)}):r.push(e.styles);let i=!1,l=null;return r.forEach(u=>{if(V_(u)){const f=u,_=f.easing;if(_&&(l=_,delete f.easing),!i)for(let w in f)if(f[w].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,l=t.currentTime;r&&l>0&&(l-=r.duration+r.delay),e.styles.forEach(u=>{"string"!=typeof u&&Object.keys(u).forEach(f=>{if(!this._driver.validateStyleProperty(f))return void t.errors.push(`The provided animation property "${f}" is not a supported CSS property for animations`);const _=t.collectedStyles[t.currentQuerySelector],w=_[f];let T=!0;w&&(l!=i&&l>=w.startTime&&i<=w.endTime&&(t.errors.push(`The CSS property "${f}" that exists between the times of "${w.startTime}ms" and "${w.endTime}ms" is also being animated in a parallel animation between the times of "${l}ms" and "${i}ms"`),T=!1),l=w.startTime),T&&(_[f]={startTime:l,endTime:i}),t.options&&function(n,e,t){const r=e.params||{},i=IE(n);i.length&&i.forEach(l=>{r.hasOwnProperty(l)||t.push(`Unable to resolve the local animation param ${l} in the given list of values`)})}(u[f],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;let l=0;const u=[];let f=!1,_=!1,w=0;const T=e.steps.map(pt=>{const Et=this._makeStyleAst(pt,t);let Zt=null!=Et.offset?Et.offset:function(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(V_(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(V_(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(Et.styles),_t=0;return null!=Zt&&(l++,_t=Et.offset=Zt),_=_||_t<0||_t>1,f=f||_t<w,w=_t,u.push(_t),Et});_&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),f&&t.errors.push("Please ensure that all keyframe offsets are in order");const R=e.steps.length;let V=0;l>0&&l<R?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==l&&(V=1/(R-1));const H=R-1,X=t.currentTime,_e=t.currentAnimateTimings,Re=_e.duration;return T.forEach((pt,Et)=>{const Zt=V>0?Et==H?1:V*Et:u[Et],_t=Zt*Re;t.currentTime=X+_e.delay+_t,_e.duration=_t,this._validateStyleAst(pt,t),pt.offset=Zt,r.styles.push(pt)}),r}visitReference(e,t){return{type:8,animation:Ds(this,Ih(e.animation),t),options:Uu(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Uu(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Uu(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[l,u]=function(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(RE,"")),n=n.replace(/@\*/g,Vu).replace(/@\w+/g,t=>Vu+"-"+t.substr(1)).replace(/:animating/g,Sp),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+l:l,ns(t.collectedStyles,t.currentQuerySelector,{});const f=Ds(this,Ih(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:l,limit:i.limit||0,optional:!!i.optional,includeSelf:u,animation:f,originalSelector:e.selector,options:Uu(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Dh(e.timings,t.errors,!0);return{type:12,animation:Ds(this,Ih(e.animation),t),timings:r,options:null}}}class QI{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function V_(n){return!Array.isArray(n)&&"object"==typeof n}function Uu(n){return n?(n=Mc(n)).params&&(n.params=function(n){return n?Mc(n):null}(n.params)):n={},n}function Np(n,e,t){return{duration:n,delay:e,easing:t}}function Fp(n,e,t,r,i,l,u=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:l,totalTime:i+l,easing:u,subTimeline:f}}class U_{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const JI=new RegExp(":enter","g"),Lp=new RegExp(":leave","g");function j_(n,e,t,r,i,l={},u={},f,_,w=[]){return(new Vp).buildKeyframes(n,e,t,r,i,l,u,f,_,w)}class Vp{buildKeyframes(e,t,r,i,l,u,f,_,w,T=[]){w=w||new U_;const R=new nr(e,t,w,i,l,T,[]);R.options=_,R.currentTimeline.setStyles([u],null,R.errors,_),Ds(this,r,R);const V=R.timelines.filter(H=>H.containsAnimation());if(V.length&&Object.keys(f).length){const H=V[V.length-1];H.allowOnlyTimelineStyles()||H.setStyles([f],null,R.errors,_)}return V.length?V.map(H=>H.buildKeyframes()):[Fp(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.consume(t.element);if(r){const i=t.createSubContext(e.options),l=t.currentTimeline.currentTime,u=this._visitSubInstructions(r,i,i.options);l!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let l=t.currentTimeline.currentTime;const u=null!=r.duration?Sl(r.duration):null,f=null!=r.delay?Sl(r.delay):null;return 0!==u&&e.forEach(_=>{const w=t.appendInstructionToTimeline(_,u,f);l=Math.max(l,w.duration+w.delay)}),l}visitReference(e,t){t.updateOptions(e.options,!0),Ds(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const l=e.options;if(l&&(l.params||l.delay)&&(i=t.createSubContext(l),i.transformIntoNewTimeline(),null!=l.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=kc);const u=Sl(l.delay);i.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>Ds(this,u,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const l=e.options&&e.options.delay?Sl(e.options.delay):0;e.steps.forEach(u=>{const f=t.createSubContext(e.options);l&&f.delayNextStep(l),Ds(this,u,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Dh(t.params?xp(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const l=e.style;5==l.type?this.visitKeyframes(l,t):(t.incrementTime(r.duration),this.visitStyle(l,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const l=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(l):r.setStyles(e.styles,l,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,l=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*l),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+l),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},l=i.delay?Sl(i.delay):0;l&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=kc);let u=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((w,T)=>{t.currentQueryIndex=T;const R=t.createSubContext(e.options,w);l&&R.delayNextStep(l),w===t.element&&(_=R.currentTimeline),Ds(this,e.animation,R),R.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,R.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,l=e.timings,u=Math.abs(l.duration),f=u*(t.currentQueryTotal-1);let _=u*t.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":_=f-_;break;case"full":_=r.currentStaggerTime}const T=t.currentTimeline;_&&T.delayNextStep(_);const R=T.currentTime;Ds(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-R+(i.startTime-r.currentTimeline.startTime)}}const kc={};class nr{constructor(e,t,r,i,l,u,f,_){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=l,this.errors=u,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=kc,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new H_(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Sl(r.duration)),null!=r.delay&&(i.delay=Sl(r.delay));const l=r.params;if(l){let u=i.params;u||(u=this.options.params={}),Object.keys(l).forEach(f=>{(!t||!u.hasOwnProperty(f))&&(u[f]=xp(l[f],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,l=new nr(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(e),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(e){return this.previousNode=kc,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},l=new kE(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(l),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,l,u){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(JI,"."+this._enterClassName)).replace(Lp,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=r);0!==r&&(w=r<0?w.slice(w.length+r,w.length):w.slice(0,r)),f.push(...w)}return!l&&0==f.length&&u.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),f}}class H_{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new H_(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||ca,this._currentKeyframe[t]=ca}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const l=i&&i.params||{},u=function(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(l=>{t[l]=ca})):La(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(u).forEach(f=>{const _=xp(u[f],l,r);this._pendingStyles[f]=_,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:ca),this._updateStyle(f,_)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,_)=>{const w=La(f,!0);Object.keys(w).forEach(T=>{const R=w[T];"!"==R?e.add(T):R==ca&&t.add(T)}),r||(w.offset=_/this.duration),i.push(w)});const l=e.size?Rp(e.values()):[],u=t.size?Rp(t.values()):[];if(r){const f=i[0],_=Mc(f);f.offset=0,_.offset=1,i=[f,_]}return Fp(this.element,i,l,u,this.duration,this.startTime,this.easing,!1)}}class kE extends H_{constructor(e,t,r,i,l,u,f=!1){super(e,t,u.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=l,this._stretchStartingKeyframe=f,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const l=[],u=r+t,f=t/u,_=La(e[0],!1);_.offset=0,l.push(_);const w=La(e[0],!1);w.offset=OE(f),l.push(w);const T=e.length-1;for(let R=1;R<=T;R++){let V=La(e[R],!1);V.offset=OE((t+V.offset*r)/u),l.push(V)}r=u,t=0,i="",e=l}return Fp(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function OE(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Bp{}class PE extends Bp{normalizePropertyName(e,t){return O_(e)}normalizeStyleValue(e,t,r,i){let l="";const u=r.toString().trim();if(iT[t]&&0!==r&&"0"!==r)if("number"==typeof r)l="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(`Please provide a CSS unit value for ${e}:${r}`)}return u+l}}const iT=(()=>function(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function NE(n,e,t,r,i,l,u,f,_,w,T,R,V){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:l,toState:r,toStyles:u,timelines:f,queriedElements:_,preStyleProps:w,postStyleProps:T,totalTime:R,errors:V}}const Oc={};class FE{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function(n,e,t,r,i){return n.some(l=>l(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],l=this._stateStyles[e],u=i?i.buildStyles(t,r):{};return l?l.buildStyles(t,r):u}build(e,t,r,i,l,u,f,_,w,T){const R=[],V=this.ast.options&&this.ast.options.params||Oc,X=this.buildStyles(r,f&&f.params||Oc,R),_e=_&&_.params||Oc,Re=this.buildStyles(i,_e,R),pt=new Set,Et=new Map,Zt=new Map,_t="void"===i,An={params:rt(rt({},V),_e)},Dr=T?[]:j_(e,t,this.ast.animation,l,u,X,Re,An,w,R);let jr=0;if(Dr.forEach(Zc=>{jr=Math.max(Zc.duration+Zc.delay,jr)}),R.length)return NE(t,this._triggerName,r,i,_t,X,Re,[],[],Et,Zt,jr,R);Dr.forEach(Zc=>{const Yc=Zc.element,JL=ns(Et,Yc,{});Zc.preStyleProps.forEach(vf=>JL[vf]=!0);const Uv=ns(Zt,Yc,{});Zc.postStyleProps.forEach(vf=>Uv[vf]=!0),Yc!==t&&pt.add(Yc)});const Kc=Rp(pt.values());return NE(t,this._triggerName,r,i,_t,X,Re,Dr,Kc,Et,Zt,jr)}}class aT{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=Mc(this.defaultParams);return Object.keys(e).forEach(l=>{const u=e[l];null!=u&&(i[l]=u)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const u=l;Object.keys(u).forEach(f=>{let _=u[f];_.length>1&&(_=xp(_,i,t));const w=this.normalizer.normalizePropertyName(f,t);_=this.normalizer.normalizeStyleValue(f,w,_,t),r[w]=_})}}),r}}class LE{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new aT(i.style,i.options&&i.options.params||{},r)}),$_(this.states,"true","1"),$_(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new FE(e,i,this.states))}),this.fallbackTransition=function(n,e,t){return new FE(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(u=>u.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function $_(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const lT=new U_;class Sh{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],i=Op(this._driver,t,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[e]=i}_buildPlayer(e,t,r){const i=e.element,l=C_(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,l,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],l=this._animations[e];let u;const f=new Map;if(l?(u=j_(this._driver,t,l,Ap,Sc,{},{},r,lT,i),u.forEach(T=>{const R=ns(f,T.element,{});T.postStyleProps.forEach(V=>R[V]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),u=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);f.forEach((T,R)=>{Object.keys(T).forEach(V=>{T[V]=this._driver.computeStyle(R,V,ca)})});const w=Al(u.map(T=>{const R=f.get(T.element);return this._buildPlayer(T,{},R)}));return this._playersById[e]=w,w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,r,i){const l=_E(t,"","","");return D_(this._getPlayer(e),r,l,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const l=this._getPlayer(e);switch(r){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const ju="ng-animate-queued",BE="ng-animate-disabled",UE=".ng-animate-disabled",$E=[],zE={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},GE={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ys="__ng_removed";class z_{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=null!=(n=r?e.value:e)?n:null,r){const l=Mc(e);delete l.value,this.options=l}else this.options={};var n;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const jp="void",qE=new z_(jp);class Wk{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Qs(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${t}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(n=r)&&"done"!=n)throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${t}" is not supported!`);var n;const l=ns(this._elementListeners,e,[]),u={name:t,phase:r,callback:i};l.push(u);const f=ns(this._engine.statesByElement,e,{});return f.hasOwnProperty(t)||(Qs(e,wh),Qs(e,wh+"-"+t),f[t]=qE),()=>{this._engine.afterFlush(()=>{const _=l.indexOf(u);_>=0&&l.splice(_,1),this._triggers[t]||delete f[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,r,i=!0){const l=this._getTrigger(t),u=new Hp(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Qs(e,wh),Qs(e,wh+"-"+t),this._engine.statesByElement.set(e,f={}));let _=f[t];const w=new z_(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&_&&w.absorbOptions(_.options),f[t]=w,_||(_=qE),w.value!==jp&&_.value===w.value){if(!function(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const l=t[i];if(!e.hasOwnProperty(l)||n[l]!==e[l])return!1}return!0}(_.params,w.params)){const _e=[],Re=l.matchStyles(_.value,_.params,_e),pt=l.matchStyles(w.value,w.params,_e);_e.length?this._engine.reportError(_e):this._engine.afterFlush(()=>{xc(e,Re),ua(e,pt)})}return}const V=ns(this._engine.playersByElement,e,[]);V.forEach(_e=>{_e.namespaceId==this.id&&_e.triggerName==t&&_e.queued&&_e.destroy()});let H=l.matchTransition(_.value,w.value,e,w.params),X=!1;if(!H){if(!i)return;H=l.fallbackTransition,X=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:H,fromState:_,toState:w,player:u,isFallbackTransition:X}),X||(Qs(e,ju),u.onStart(()=>{Pc(e,ju)})),u.onDone(()=>{let _e=this.players.indexOf(u);_e>=0&&this.players.splice(_e,1);const Re=this._engine.playersByElement.get(e);if(Re){let pt=Re.indexOf(u);pt>=0&&Re.splice(pt,1)}}),this.players.push(u),V.push(u),u}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Vu,!0);r.forEach(i=>{if(i[Ys])return;const l=this._engine.fetchNamespacesByElement(i);l.size?l.forEach(u=>u.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const l=this._engine.statesByElement.get(e);if(l){const u=[];if(Object.keys(l).forEach(f=>{if(this._triggers[f]){const _=this.trigger(e,f,jp,i);_&&u.push(_)}}),u.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),r&&Al(u).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(l=>{const u=l.name;if(i.has(u))return;i.add(u);const _=this._triggers[u].fallbackTransition,w=r[u]||qE,T=new z_(jp),R=new Hp(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:_,fromState:w,toState:T,player:R,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const l=r.players.length?r.playersByQueriedElement.get(e):[];if(l&&l.length)i=!0;else{let u=e;for(;u=u.parentNode;)if(r.statesByElement.get(u)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const l=e[Ys];(!l||l===zE)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Qs(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const l=r.element,u=this._elementListeners.get(l);u&&u.forEach(f=>{if(f.name==r.triggerName){const _=_E(l,r.triggerName,r.fromState.value,r.toState.value);_._data=e,D_(r.player,f.phase,_,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const l=r.transition.ast.depCount,u=i.transition.ast.depCount;return 0==l||0==u?l-u:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class Kk{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,l)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Wk(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList.length-1;if(r>=0){let i=!1;for(let l=r;l>=0;l--)if(this.driver.containsElement(this._namespaceList[l].hostElement,t)){this._namespaceList.splice(l+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let l=0;l<i.length;l++){const u=r[i[l]].namespaceId;if(u){const f=this._fetchNamespace(u);f&&t.add(f)}}}return t}trigger(e,t,r,i){if(zp(t)){const l=this._fetchNamespace(e);if(l)return l.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!zp(t))return;const l=t[Ys];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Qs(e,BE)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Pc(e,BE))}removeNode(e,t,r,i){if(zp(t)){const l=e?this._fetchNamespace(e):null;if(l?l.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i){this.collectedLeaveElements.push(t),t[Ys]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1}}listen(e,t,r,i,l){return zp(t)?this._fetchNamespace(e).listen(t,r,i,l):()=>{}}_buildInstruction(e,t,r,i,l){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,l)}destroyInnerAnimations(e){let t=this.driver.query(e,Vu,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Sp,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Al(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Ys];if(t&&t.setForRemoval){if(e[Ys]=zE,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,UE)&&this.markElementAsDisabled(e,!1),this.driver.query(e,UE,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Qs(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Al(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const r=new U_,i=[],l=new Map,u=[],f=new Map,_=new Map,w=new Map,T=new Set;this.disabledNodes.forEach(ct=>{T.add(ct);const At=this.driver.query(ct,".ng-animate-queued",!0);for(let Bt=0;Bt<At.length;Bt++)T.add(At[Bt])});const R=this.bodyNode,V=Array.from(this.statesByElement.keys()),H=ZE(V,this.collectedEnterElements),X=new Map;let _e=0;H.forEach((ct,At)=>{const Bt=Ap+_e++;X.set(At,Bt),ct.forEach(En=>Qs(En,Bt))});const Re=[],pt=new Set,Et=new Set;for(let ct=0;ct<this.collectedLeaveElements.length;ct++){const At=this.collectedLeaveElements[ct],Bt=At[Ys];Bt&&Bt.setForRemoval&&(Re.push(At),pt.add(At),Bt.hasAnimation?this.driver.query(At,".ng-star-inserted",!0).forEach(En=>pt.add(En)):Et.add(At))}const Zt=new Map,_t=ZE(V,Array.from(pt));_t.forEach((ct,At)=>{const Bt=Sc+_e++;Zt.set(At,Bt),ct.forEach(En=>Qs(En,Bt))}),e.push(()=>{H.forEach((ct,At)=>{const Bt=X.get(At);ct.forEach(En=>Pc(En,Bt))}),_t.forEach((ct,At)=>{const Bt=Zt.get(At);ct.forEach(En=>Pc(En,Bt))}),Re.forEach(ct=>{this.processLeaveNode(ct)})});const An=[],Dr=[];for(let ct=this._namespaceList.length-1;ct>=0;ct--)this._namespaceList[ct].drainQueuedTransitions(t).forEach(Bt=>{const En=Bt.player,yi=Bt.element;if(An.push(En),this.collectedEnterElements.length){const Fl=yi[Ys];if(Fl&&Fl.setForMove)return void En.destroy()}const Nl=!R||!this.driver.containsElement(R,yi),No=Zt.get(yi),vd=X.get(yi),Ir=this._buildInstruction(Bt,r,vd,No,Nl);if(Ir.errors&&Ir.errors.length)Dr.push(Ir);else{if(Nl)return En.onStart(()=>xc(yi,Ir.fromStyles)),En.onDestroy(()=>ua(yi,Ir.toStyles)),void i.push(En);if(Bt.isFallbackTransition)return En.onStart(()=>xc(yi,Ir.fromStyles)),En.onDestroy(()=>ua(yi,Ir.toStyles)),void i.push(En);Ir.timelines.forEach(Fl=>Fl.stretchStartingKeyframe=!0),r.append(yi,Ir.timelines),u.push({instruction:Ir,player:En,element:yi}),Ir.queriedElements.forEach(Fl=>ns(f,Fl,[]).push(En)),Ir.preStyleProps.forEach((Fl,jv)=>{const zC=Object.keys(Fl);if(zC.length){let bf=_.get(jv);bf||_.set(jv,bf=new Set),zC.forEach(ER=>bf.add(ER))}}),Ir.postStyleProps.forEach((Fl,jv)=>{const zC=Object.keys(Fl);let bf=w.get(jv);bf||w.set(jv,bf=new Set),zC.forEach(ER=>bf.add(ER))})}});if(Dr.length){const ct=[];Dr.forEach(At=>{ct.push(`@${At.triggerName} has failed due to:\n`),At.errors.forEach(Bt=>ct.push(`- ${Bt}\n`))}),An.forEach(At=>At.destroy()),this.reportError(ct)}const jr=new Map,Kc=new Map;u.forEach(ct=>{const At=ct.element;r.has(At)&&(Kc.set(At,At),this._beforeAnimationBuild(ct.player.namespaceId,ct.instruction,jr))}),i.forEach(ct=>{const At=ct.element;this._getPreviousPlayers(At,!1,ct.namespaceId,ct.triggerName,null).forEach(En=>{ns(jr,At,[]).push(En),En.destroy()})});const Zc=Re.filter(ct=>G_(ct,_,w)),Yc=new Map;KE(Yc,this.driver,Et,w,ca).forEach(ct=>{G_(ct,_,w)&&Zc.push(ct)});const Uv=new Map;H.forEach((ct,At)=>{KE(Uv,this.driver,new Set(ct),_,"!")}),Zc.forEach(ct=>{const At=Yc.get(ct),Bt=Uv.get(ct);Yc.set(ct,rt(rt({},At),Bt))});const vf=[],eV=[],tV={};u.forEach(ct=>{const{element:At,player:Bt,instruction:En}=ct;if(r.has(At)){if(T.has(At))return Bt.onDestroy(()=>ua(At,En.toStyles)),Bt.disabled=!0,Bt.overrideTotalTime(En.totalTime),void i.push(Bt);let yi=tV;if(Kc.size>1){let No=At;const vd=[];for(;No=No.parentNode;){const Ir=Kc.get(No);if(Ir){yi=Ir;break}vd.push(No)}vd.forEach(Ir=>Kc.set(Ir,yi))}const Nl=this._buildAnimation(Bt.namespaceId,En,jr,l,Uv,Yc);if(Bt.setRealPlayer(Nl),yi===tV)vf.push(Bt);else{const No=this.playersByElement.get(yi);No&&No.length&&(Bt.parentPlayer=Al(No)),i.push(Bt)}}else xc(At,En.fromStyles),Bt.onDestroy(()=>ua(At,En.toStyles)),eV.push(Bt),T.has(At)&&i.push(Bt)}),eV.forEach(ct=>{const At=l.get(ct.element);if(At&&At.length){const Bt=Al(At);ct.setRealPlayer(Bt)}}),i.forEach(ct=>{ct.parentPlayer?ct.syncPlayerEvents(ct.parentPlayer):ct.destroy()});for(let ct=0;ct<Re.length;ct++){const At=Re[ct],Bt=At[Ys];if(Pc(At,Sc),Bt&&Bt.hasAnimation)continue;let En=[];if(f.size){let Nl=f.get(At);Nl&&Nl.length&&En.push(...Nl);let No=this.driver.query(At,Sp,!0);for(let vd=0;vd<No.length;vd++){let Ir=f.get(No[vd]);Ir&&Ir.length&&En.push(...Ir)}}const yi=En.filter(Nl=>!Nl.destroyed);yi.length?dT(this,At,yi):this.processLeaveNode(At)}return Re.length=0,vf.forEach(ct=>{this.players.push(ct),ct.onDone(()=>{ct.destroy();const At=this.players.indexOf(ct);this.players.splice(At,1)}),ct.play()}),vf}elementContainsData(e,t){let r=!1;const i=t[Ys];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,l){let u=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(u=f)}else{const f=this.playersByElement.get(e);if(f){const _=!l||l==jp;f.forEach(w=>{w.queued||!_&&w.triggerName!=i||u.push(w)})}}return(r||i)&&(u=u.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),u}_beforeAnimationBuild(e,t,r){const l=t.element,u=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const w=_.element,T=w!==l,R=ns(r,w,[]);this._getPreviousPlayers(w,T,u,f,t.toState).forEach(H=>{const X=H.getRealPlayer();X.beforeDestroy&&X.beforeDestroy(),H.destroy(),R.push(H)})}xc(l,t.fromStyles)}_buildAnimation(e,t,r,i,l,u){const f=t.triggerName,_=t.element,w=[],T=new Set,R=new Set,V=t.timelines.map(X=>{const _e=X.element;T.add(_e);const Re=_e[Ys];if(Re&&Re.removedBeforeQueried)return new Fu(X.duration,X.delay);const pt=_e!==_,Et=function(n){const e=[];return Nc(n,e),e}((r.get(_e)||$E).map(jr=>jr.getRealPlayer())).filter(jr=>!!jr.element&&jr.element===_e),Zt=l.get(_e),_t=u.get(_e),An=C_(0,this._normalizer,0,X.keyframes,Zt,_t),Dr=this._buildPlayer(X,An,Et);if(X.subTimeline&&i&&R.add(_e),pt){const jr=new Hp(e,f,_e);jr.setRealPlayer(Dr),w.push(jr)}return Dr});w.forEach(X=>{ns(this.playersByQueriedElement,X.element,[]).push(X),X.onDone(()=>function(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,X.element,X))}),T.forEach(X=>Qs(X,Ch));const H=Al(V);return H.onDestroy(()=>{T.forEach(X=>Pc(X,Ch)),ua(_,t.toStyles)}),R.forEach(X=>{ns(i,X,[]).push(H)}),H}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Fu(e.duration,e.delay)}}class Hp{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Fu,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>D_(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ns(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function zp(n){return n&&1===n.nodeType}function Hu(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function KE(n,e,t,r,i){const l=[];t.forEach(_=>l.push(Hu(_)));const u=[];r.forEach((_,w)=>{const T={};_.forEach(R=>{const V=T[R]=e.computeStyle(w,R,i);(!V||0==V.length)&&(w[Ys]=GE,u.push(w))}),n.set(w,T)});let f=0;return t.forEach(_=>Hu(_,l[f++])),u}function ZE(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),l=new Map;function u(f){if(!f)return 1;let _=l.get(f);if(_)return _;const w=f.parentNode;return _=t.has(w)?w:i.has(w)?1:u(w),l.set(f,_),_}return e.forEach(f=>{const _=u(f);1!==_&&t.get(_).push(f)}),t}const Gp="$$classes";function Qs(n,e){if(n.classList)n.classList.add(e);else{let t=n[Gp];t||(t=n[Gp]={}),t[e]=!0}}function Pc(n,e){if(n.classList)n.classList.remove(e);else{let t=n[Gp];t&&delete t[e]}}function dT(n,e,t){Al(t).onDone(()=>n.processLeaveNode(e))}function Nc(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof E_?Nc(r.players,e):e.push(r)}}function G_(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(l=>i.add(l)):e.set(n,r),t.delete(n),!0}class qp{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,l)=>{},this._transitionEngine=new Kk(e,t,r),this._timelineEngine=new Sh(e,t,r),this._transitionEngine.onRemovalComplete=(i,l)=>this.onRemovalComplete(i,l)}registerTrigger(e,t,r,i,l){const u=e+"-"+i;let f=this._triggerCache[u];if(!f){const _=[],w=Op(this._driver,l,_);if(_.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${_.join("\n - ")}`);f=function(n,e,t){return new LE(n,e,t)}(i,w,this._normalizer),this._triggerCache[u]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[l,u]=Dp(r);this._timelineEngine.command(l,t,u,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,l){if("@"==r.charAt(0)){const[u,f]=Dp(r);return this._timelineEngine.listen(u,t,f,l)}return this._transitionEngine.listen(e,t,r,i,l)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function q_(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Wp(e[0]),e.length>1&&(r=Wp(e[e.length-1]))):e&&(t=Wp(e)),t||r?new pT(n,t,r):null}let pT=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let l=n.initialStylesByElement.get(t);l||n.initialStylesByElement.set(t,l={}),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&ua(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ua(this._element,this._initialStyles),this._endStyles&&(ua(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(xc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(xc(this._element,this._endStyles),this._endStyles=null),ua(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Wp(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];mT(i)&&(e=e||{},e[i]=n[i])}return e}function mT(n){return"display"===n||"position"===n}const YE="animation",K_="animationend";class gT{constructor(e,t,r,i,l,u,f){this._element=e,this._name=t,this._duration=r,this._delay=i,this._easing=l,this._fillMode=u,this._onDoneFn=f,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=_=>this._handleCallback(_)}apply(){(function(n,e){const t=Y_(n,"").trim();let r=0;t.length&&(function(n,e){let t=0;for(let r=0;r<n.length;r++)","===n.charAt(r)&&t++;return t}(t)+1,e=`${t}, ${e}`),Zp(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),ew(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){XE(this._element,this._name,"paused")}resume(){XE(this._element,this._name,"running")}setPosition(e){const t=JE(this._element,this._name);this._position=e*this._duration,Zp(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),ew(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,e){const r=Y_(n,"").split(","),i=Kp(r,e);i>=0&&(r.splice(i,1),Zp(n,"",r.join(",")))}(this._element,this._name))}}function XE(n,e,t){Zp(n,"PlayState",t,JE(n,e))}function JE(n,e){const t=Y_(n,"");return t.indexOf(",")>0?Kp(t.split(","),e):Kp([t],e)}function Kp(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function ew(n,e,t){t?n.removeEventListener(K_,e):n.addEventListener(K_,e)}function Zp(n,e,t,r){const i=YE+e;if(null!=r){const l=n.style[i];if(l.length){const u=l.split(",");u[r]=t,t=u.join(",")}}n.style[i]=t}function Y_(n,e){return n.style[YE+e]||""}class tw{constructor(e,t,r,i,l,u,f,_){this.element=e,this.keyframes=t,this.animationName=r,this._duration=i,this._delay=l,this._finalStyles=f,this._specialStyles=_,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=u||"linear",this.totalTime=i+l,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new gT(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(e[r]=t?this._finalStyles[r]:P_(this.element,r))})}this.currentSnapshot=e}}class ET extends Fu{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=Tp(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class rw{constructor(){this._count=0}validateStyleProperty(e){return Ip(e)}matchesElement(e,t){return A_(e,t)}containsElement(e,t){return S_(e,t)}query(e,t,r){return M_(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,r){r=r.map(f=>Tp(f));let i=`@keyframes ${t} {\n`,l="";r.forEach(f=>{l=" ";const _=parseFloat(f.offset);i+=`${l}${100*_}% {\n`,l+=" ",Object.keys(f).forEach(w=>{const T=f[w];switch(w){case"offset":return;case"easing":return void(T&&(i+=`${l}animation-timing-function: ${T};\n`));default:return void(i+=`${l}${w}: ${T};\n`)}}),i+=`${l}}\n`}),i+="}\n";const u=document.createElement("style");return u.textContent=i,u}animate(e,t,r,i,l,u=[],f){const _=u.filter(Re=>Re instanceof tw),w={};TE(r,i)&&_.forEach(Re=>{let pt=Re.currentSnapshot;Object.keys(pt).forEach(Et=>w[Et]=pt[Et])});const T=function(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(i=>{"offset"==i||"easing"==i||(e[i]=r[i])})}),e}(t=AE(e,t,w));if(0==r)return new ET(e,T);const R="gen_css_kf_"+this._count++,V=this.buildKeyframeElement(e,R,t);(function(n){var t;const e=null==(t=n.getRootNode)?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(e).appendChild(V);const X=q_(e,t),_e=new tw(e,t,R,r,i,l,T,X);return _e.onDestroy(()=>{var n;(n=V).parentNode.removeChild(n)}),_e}}class Yp{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:P_(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class X_{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Qp().toString()),this._cssKeyframesDriver=new rw}validateStyleProperty(e){return Ip(e)}matchesElement(e,t){return A_(e,t)}containsElement(e,t){return S_(e,t)}query(e,t,r){return M_(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,r,i,l,u=[],f){if(!f&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,r,i,l,u);const T={duration:r,delay:i,fill:0==i?"both":"forwards"};l&&(T.easing=l);const R={},V=u.filter(X=>X instanceof Yp);TE(r,i)&&V.forEach(X=>{let _e=X.currentSnapshot;Object.keys(_e).forEach(Re=>R[Re]=_e[Re])});const H=q_(e,t=AE(e,t=t.map(X=>La(X,!1)),R));return new Yp(e,t,T,H)}}function Qp(){return Ac()&&Element.prototype.animate||{}}let DT=(()=>{class n extends g_{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?y_(t):t;return aw(this._renderer,null,r,"register",[i]),new IT(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class IT extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new J_(this._id,e,t||{},this._renderer)}}class J_{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return aw(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!=(t=null==(e=this._renderer.engine.players[+this.id])?void 0:e.getPosition())?t:0}}function aw(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const lw="@.disabled";let cw=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(l,u)=>{const f=null==u?void 0:u.parentNode(l);f&&u.removeChild(f,l)}}createRenderer(t,r){const l=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let T=this._rendererCache.get(l);return T||(T=new uw("",l,this.engine),this._rendererCache.set(l,T)),T}const u=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=T=>{Array.isArray(T)?T.forEach(_):this.engine.registerTrigger(u,f,t,T.name,T)};return r.data.animation.forEach(_),new dw(this,f,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[u,f]=l;u(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(qp),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class uw{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==lw?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class dw extends uw{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==lw?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let l=t.substr(1),u="";return"@"!=l.charAt(0)&&([l,u]=function(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(l)),this.engine.listen(this.namespaceId,i,l,u,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let xh=(()=>{class n extends qp{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ne),d.LFG(x_),d.LFG(Bp))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Fc=new d.OlP("AnimationModuleType"),ST=[{provide:g_,useClass:DT},{provide:Bp,useFactory:function(){return new PE}},{provide:qp,useClass:xh},{provide:d.FYo,useFactory:function(n,e,t){return new cw(n,e,t)},deps:[Zi,qp,d.R0b]}],ey=[{provide:x_,useFactory:function(){return"function"==typeof Qp()?new X_:new rw}},{provide:Fc,useValue:"BrowserAnimations"},...ST],MT=[{provide:x_,useClass:Lu},{provide:Fc,useValue:"NoopAnimations"},...ST];let xT=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?MT:ey}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:ey,imports:[rl]}),n})();const NT=new d.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Is=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!mb()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(mE),d.LFG(NT,8),d.LFG(ne))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[cp],cp]}),n})();function FT(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Il(e)}}}function ry(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function zu(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Il(e)}}}function Gu(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new nn.x,this.errorState=!1}updateErrorState(){const e=this.errorState,l=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);l!==e&&(this.errorState=l,this.stateChanges.next())}}}let mw=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class zT{constructor(e,t,r){this._renderer=e,this.element=t,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const qu={enterDuration:225,exitDuration:150},Jp=th({passive:!0}),iy=["mousedown","touchstart"],sy=["mouseup","mouseleave","touchend","touchcancel"];class _w{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Do(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),l=rt(rt({},qu),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const u=r.radius||function(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),f=e-i.left,_=t-i.top,w=l.enterDuration,T=document.createElement("div");T.classList.add("mat-ripple-element"),T.style.left=f-u+"px",T.style.top=_-u+"px",T.style.height=2*u+"px",T.style.width=2*u+"px",null!=r.color&&(T.style.backgroundColor=r.color),T.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(T),window.getComputedStyle(T).getPropertyValue("opacity"),T.style.transform="scale(1)";const R=new zT(this,T,r);return R.state=0,this._activeRipples.add(R),r.persistent||(this._mostRecentTransientRipple=R),this._runTimeoutOutsideZone(()=>{const V=R===this._mostRecentTransientRipple;R.state=1,!r.persistent&&(!V||!this._isPointerDown)&&R.fadeOut()},w),R}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const r=e.element,i=rt(rt({},qu),e.config.animation);r.style.transitionDuration=`${i.exitDuration}ms`,r.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,r.remove()},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Do(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(iy))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(sy),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=UI(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!lE(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,Jp)})})}_removeTriggerEvents(){this._triggerElement&&(iy.forEach(e=>{this._triggerElement.removeEventListener(e,this,Jp)}),this._pointerUpEventsRegistered&&sy.forEach(e=>{this._triggerElement.removeEventListener(e,this,Jp)}))}}const WT=new d.OlP("mat-ripple-global-options");let yw=(()=>{class n{constructor(t,r,i,l,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=l||{},this._rippleRenderer=new _w(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:rt(rt(rt({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,rt(rt({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,rt(rt({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(xi),d.Y36(WT,8),d.Y36(Fc,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&d.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),KT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Is,Xd],Is]}),n})();function ZT(n,e){}class nm{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0}}const Ew={dialogContainer:__("dialogContainer",[v_("void, exit",Tc({opacity:0,transform:"scale(0.7)"})),v_("enter",Tc({transform:"none"})),Ep("* => enter",bp("150ms cubic-bezier(0, 0, 0.2, 1)",Tc({transform:"none",opacity:1}))),Ep("* => void, * => exit",bp("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Tc({opacity:0})))])};let Cw=(()=>{class n extends Pu{constructor(t,r,i,l,u,f,_,w){super(),this._elementRef=t,this._focusTrapFactory=r,this._changeDetectorRef=i,this._config=u,this._interactivityChecker=f,this._ngZone=_,this._focusMonitor=w,this._animationStateChanged=new d.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=T=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(T)),this._ariaLabelledBy=u.ariaLabelledBy||null,this._document=l}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{t.addEventListener("blur",()=>t.removeAttribute("tabindex")),t.addEventListener("mousedown",()=>t.removeAttribute("tabindex"))})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const r=pb(),i=this._elementRef.nativeElement;(!r||r===this._document.body||r===i||i.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=pb())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=pb();return t===r||t.contains(r)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(rE),d.Y36(d.sBO),d.Y36(ne,8),d.Y36(nm),d.Y36(Jb),d.Y36(d.R0b),d.Y36(yp))},n.\u0275dir=d.lG2({type:n,viewQuery:function(t,r){if(1&t&&d.Gf(Db,7),2&t){let i;d.iGM(i=d.CRH())&&(r._portalOutlet=i.first)}},features:[d.qOj]}),n})(),YT=(()=>{class n extends Cw{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:r}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:r}))}_onAnimationStart({toState:t,totalTime:r}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,r){1&t&&d.WFA("@dialogContainer.start",function(l){return r._onAnimationStart(l)})("@dialogContainer.done",function(l){return r._onAnimationDone(l)}),2&t&&(d.Ikx("id",r._id),d.uIk("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),d.d8E("@dialogContainer",r._state))},features:[d.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&d.YNc(0,ZT,0,0,"ng-template",0)},directives:[Db],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Ew.dialogContainer]}}),n})(),QT=0;class rm{constructor(e,t,r="mat-dialog-"+QT++){this._overlayRef=e,this._containerInstance=t,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new nn.x,this._afterClosed=new nn.x,this._beforeClosed=new nn.x,this._state=0,t._id=r,t._animationStateChanged.pipe(Gn(i=>"opened"===i.state),(0,vr.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(Gn(i=>"closed"===i.state),(0,vr.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(Gn(i=>27===i.keyCode&&!this.disableClose&&!function(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(i))).subscribe(i=>{i.preventDefault(),Oh(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():Oh(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Gn(t=>"closing"===t.state),(0,vr.q)(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function Oh(n,e,t){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=e),n.close(t)}const ly=new d.OlP("MatDialogData"),Dw=new d.OlP("mat-dialog-default-options"),im=new d.OlP("mat-dialog-scroll-strategy"),JT={provide:im,deps:[Dc],useFactory:function(n){return()=>n.scrollStrategies.block()}};let eA=(()=>{class n{constructor(t,r,i,l,u,f,_,w,T,R){this._overlay=t,this._injector=r,this._defaultOptions=i,this._parentDialog=l,this._overlayContainer=u,this._dialogRefConstructor=_,this._dialogContainerType=w,this._dialogDataToken=T,this._animationMode=R,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new nn.x,this._afterOpenedAtThisLevel=new nn.x,this._ariaHiddenElements=new Map,this._dialogAnimatingOpen=!1,this.afterAllClosed=ys(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Gr(void 0))),this._scrollStrategy=f}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,r){if(r=function(n,e){return rt(rt({},e),n)}(r,this._defaultOptions||new nm),r.id&&this.getDialogById(r.id),this._dialogAnimatingOpen)return this._lastDialogRef;const i=this._createOverlay(r),l=this._attachDialogContainer(i,r);if("NoopAnimations"!==this._animationMode){const f=l._animationStateChanged.subscribe(_=>{"opening"===_.state&&(this._dialogAnimatingOpen=!0),"opened"===_.state&&(this._dialogAnimatingOpen=!1,f.unsubscribe())});this._animationStateSubscriptions||(this._animationStateSubscriptions=new $s.w0),this._animationStateSubscriptions.add(f)}const u=this._attachDialogContent(t,l,i,r);return this._lastDialogRef=u,this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(u),u.afterClosed().subscribe(()=>this._removeOpenDialog(u)),this.afterOpened.next(u),l._initializeWithAttachedContent(),u}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._animationStateSubscriptions&&this._animationStateSubscriptions.unsubscribe()}_createOverlay(t){const r=this._getOverlayConfig(t);return this._overlay.create(r)}_getOverlayConfig(t){const r=new Ab({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachDialogContainer(t,r){const l=d.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:nm,useValue:r}]}),u=new ih(this._dialogContainerType,r.viewContainerRef,l,r.componentFactoryResolver);return t.attach(u).instance}_attachDialogContent(t,r,i,l){const u=new this._dialogRefConstructor(i,r,l.id);if(t instanceof d.Rgc)r.attachTemplatePortal(new hp(t,null,{$implicit:l.data,dialogRef:u}));else{const f=this._createInjector(l,u,r),_=r.attachComponentPortal(new ih(t,l.viewContainerRef,f));u.componentInstance=_.instance}return u.updateSize(l.width,l.height).updatePosition(l.position),u}_createInjector(t,r,i){const l=t&&t.viewContainerRef&&t.viewContainerRef.injector,u=[{provide:this._dialogContainerType,useValue:i},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:r}];return t.direction&&(!l||!l.get(Xg,null,d.XFs.Optional))&&u.push({provide:Xg,useValue:{value:t.direction,change:nt()}}),d.zs3.create({parent:l||this._injector,providers:u})}_removeOpenDialog(t){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((i,l)=>{i?l.setAttribute("aria-hidden",i):l.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let i=r.length-1;i>-1;i--){let l=r[i];l!==t&&"SCRIPT"!==l.nodeName&&"STYLE"!==l.nodeName&&!l.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(l,l.getAttribute("aria-hidden")),l.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}}return n.\u0275fac=function(t){d.$Z()},n.\u0275dir=d.lG2({type:n}),n})(),sm=(()=>{class n extends eA{constructor(t,r,i,l,u,f,_,w){super(t,r,l,f,_,u,rm,YT,ly,w)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Dc),d.LFG(d.zs3),d.LFG(We,8),d.LFG(Dw,8),d.LFG(im),d.LFG(n,12),d.LFG(Ks),d.LFG(Fc,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),cy=0,uy=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this._elementRef=r,this._dialog=i,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=Sw(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const r=t._matDialogClose||t._matDialogCloseResult;r&&(this.dialogResult=r.currentValue)}_onButtonClick(t){Oh(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(rm,8),d.Y36(d.SBq),d.Y36(sm))},n.\u0275dir=d.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,r){1&t&&d.NdJ("click",function(l){return r._onButtonClick(l)}),2&t&&d.uIk("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[d.TTD]}),n})(),dy=(()=>{class n{constructor(t,r,i){this._dialogRef=t,this._elementRef=r,this._dialog=i,this.id="mat-dialog-title-"+cy++}ngOnInit(){this._dialogRef||(this._dialogRef=Sw(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const t=this._dialogRef._containerInstance;t&&!t._ariaLabelledBy&&(t._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(rm,8),d.Y36(d.SBq),d.Y36(sm))},n.\u0275dir=d.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(t,r){2&t&&d.Ikx("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),Aw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),hy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),n})();function Sw(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-dialog-container");)t=t.parentElement;return t?e.find(r=>r.id===t.id):null}let Mw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[sm,JT],imports:[[zD,Ib,Is],Is]}),n})(),Rw=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kw=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=Do(t);return new hr.y(i=>{const u=this._observeElement(r).subscribe(i);return()=>{u.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new nn.x,i=this._mutationObserverFactory.create(l=>r.next(l));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Rw))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tA=(()=>{class n{constructor(t,r,i){this._contentObserver=t,this._elementRef=r,this._ngZone=i,this.event=new d.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Il(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=function(n,e=0){return function(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(function(n,e=Ru.z){return(0,Gt.e)((t,r)=>{let i=null,l=null,u=null;const f=()=>{if(i){i.unsubscribe(),i=null;const w=l;l=null,r.next(w)}};function _(){const w=u+n,T=e.now();if(T<w)return i=this.schedule(void 0,w-T),void r.add(i);f()}t.subscribe(new zn.Q(r,w=>{l=w,u=e.now(),i||(i=e.schedule(_,n),r.add(i))},()=>{f(),r.complete()},void 0,()=>{l=i=null}))})}(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null==(t=this._currentSubscription)||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(kw),d.Y36(d.SBq),d.Y36(d.R0b))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),Oi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Rw]}),n})();const Wu=["connectionContainer"],nA=["inputContainer"],rA=["label"];function mO(n,e){1&n&&(d.ynx(0),d.TgZ(1,"div",14),d._UZ(2,"div",15),d._UZ(3,"div",16),d._UZ(4,"div",17),d.qZA(),d.TgZ(5,"div",18),d._UZ(6,"div",15),d._UZ(7,"div",16),d._UZ(8,"div",17),d.qZA(),d.BQk())}function Ph(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",19),d.NdJ("cdkObserveContent",function(){return d.CHM(t),d.oxw().updateOutlineGap()}),d.Hsn(1,1),d.qZA()}if(2&n){const t=d.oxw();d.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function iA(n,e){if(1&n&&(d.ynx(0),d.Hsn(1,2),d.TgZ(2,"span"),d._uU(3),d.qZA(),d.BQk()),2&n){const t=d.oxw(2);d.xp6(3),d.Oqu(t._control.placeholder)}}function fy(n,e){1&n&&d.Hsn(0,3,["*ngSwitchCase","true"])}function sA(n,e){1&n&&(d.TgZ(0,"span",23),d._uU(1," *"),d.qZA())}function Ow(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"label",20,21),d.NdJ("cdkObserveContent",function(){return d.CHM(t),d.oxw().updateOutlineGap()}),d.YNc(2,iA,4,1,"ng-container",12),d.YNc(3,fy,1,0,"ng-content",12),d.YNc(4,sA,2,0,"span",22),d.qZA()}if(2&n){const t=d.oxw();d.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),d.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),d.uIk("for",t._control.id)("aria-owns",t._control.id),d.xp6(2),d.Q6J("ngSwitchCase",!1),d.xp6(1),d.Q6J("ngSwitchCase",!0),d.xp6(1),d.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function oA(n,e){1&n&&(d.TgZ(0,"div",24),d.Hsn(1,4),d.qZA())}function aA(n,e){if(1&n&&(d.TgZ(0,"div",25),d._UZ(1,"span",26),d.qZA()),2&n){const t=d.oxw();d.xp6(1),d.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function py(n,e){if(1&n&&(d.TgZ(0,"div"),d.Hsn(1,5),d.qZA()),2&n){const t=d.oxw();d.Q6J("@transitionMessages",t._subscriptAnimationState)}}function Pw(n,e){if(1&n&&(d.TgZ(0,"div",30),d._uU(1),d.qZA()),2&n){const t=d.oxw(2);d.Q6J("id",t._hintLabelId),d.xp6(1),d.Oqu(t.hintLabel)}}function Nw(n,e){if(1&n&&(d.TgZ(0,"div",27),d.YNc(1,Pw,2,2,"div",28),d.Hsn(2,6),d._UZ(3,"div",29),d.Hsn(4,7),d.qZA()),2&n){const t=d.oxw();d.Q6J("@transitionMessages",t._subscriptAnimationState),d.xp6(1),d.Q6J("ngIf",t.hintLabel)}}const om=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],my=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],Fw=new d.OlP("MatError"),Lw={transitionMessages:__("transitionMessages",[v_("enter",Tc({opacity:1,transform:"translateY(0%)"})),Ep("void => enter",[Tc({opacity:0,transform:"translateY(-5px)"}),bp("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Ku=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n}),n})();const cA=new d.OlP("MatHint");let am=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-label"]]}),n})(),Uw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const jw=new d.OlP("MatPrefix"),Hw=new d.OlP("MatSuffix");let $w=0;const hA=ry(class{constructor(n){this._elementRef=n}},"primary"),zw=new d.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),_y=new d.OlP("MatFormField");let Gw=(()=>{class n extends hA{constructor(t,r,i,l,u,f,_){super(t),this._changeDetectorRef=r,this._dir=i,this._defaults=l,this._platform=u,this._ngZone=f,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new nn.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+$w++,this._labelId="mat-form-field-label-"+$w++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==_,this.appearance=l&&l.appearance?l.appearance:"legacy",this._hideRequiredMarker=!(!l||null==l.hideRequiredMarker)&&l.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&r!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Il(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(Gr(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(sh(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(sh(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Ri.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Gr(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Gr(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(sh(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,sp(this._label.nativeElement,"transitionend").pipe((0,vr.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(l=>"start"===l.align):null,i=this._hintChildren?this._hintChildren.find(l=>"end"===l.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&t&&t.children.length&&t.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let r=0,i=0;const l=this._connectionContainerRef.nativeElement,u=l.querySelectorAll(".mat-form-field-outline-start"),f=l.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const _=l.getBoundingClientRect();if(0===_.width&&0===_.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const w=this._getStartEnd(_),T=t.children,R=this._getStartEnd(T[0].getBoundingClientRect());let V=0;for(let H=0;H<T.length;H++)V+=T[H].offsetWidth;r=Math.abs(R-w)-5,i=V>0?.75*V+10:0}for(let _=0;_<u.length;_++)u[_].style.width=`${r}px`;for(let _=0;_<f.length;_++)f[_].style.width=`${i}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(Xg,8),d.Y36(zw,8),d.Y36(xi),d.Y36(d.R0b),d.Y36(Fc,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,i){if(1&t&&(d.Suo(i,Ku,5),d.Suo(i,Ku,7),d.Suo(i,am,5),d.Suo(i,am,7),d.Suo(i,Uw,5),d.Suo(i,Fw,5),d.Suo(i,cA,5),d.Suo(i,jw,5),d.Suo(i,Hw,5)),2&t){let l;d.iGM(l=d.CRH())&&(r._controlNonStatic=l.first),d.iGM(l=d.CRH())&&(r._controlStatic=l.first),d.iGM(l=d.CRH())&&(r._labelChildNonStatic=l.first),d.iGM(l=d.CRH())&&(r._labelChildStatic=l.first),d.iGM(l=d.CRH())&&(r._placeholderChild=l.first),d.iGM(l=d.CRH())&&(r._errorChildren=l),d.iGM(l=d.CRH())&&(r._hintChildren=l),d.iGM(l=d.CRH())&&(r._prefixChildren=l),d.iGM(l=d.CRH())&&(r._suffixChildren=l)}},viewQuery:function(t,r){if(1&t&&(d.Gf(Wu,7),d.Gf(nA,5),d.Gf(rA,5)),2&t){let i;d.iGM(i=d.CRH())&&(r._connectionContainerRef=i.first),d.iGM(i=d.CRH())&&(r._inputContainerRef=i.first),d.iGM(i=d.CRH())&&(r._label=i.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,r){2&t&&d.ekj("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[d._Bn([{provide:_y,useExisting:n}]),d.qOj],ngContentSelectors:my,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,r){1&t&&(d.F$t(om),d.TgZ(0,"div",0),d.TgZ(1,"div",1,2),d.NdJ("click",function(l){return r._control.onContainerClick&&r._control.onContainerClick(l)}),d.YNc(3,mO,9,0,"ng-container",3),d.YNc(4,Ph,2,1,"div",4),d.TgZ(5,"div",5,6),d.Hsn(7),d.TgZ(8,"span",7),d.YNc(9,Ow,5,16,"label",8),d.qZA(),d.qZA(),d.YNc(10,oA,2,0,"div",9),d.qZA(),d.YNc(11,aA,2,4,"div",10),d.TgZ(12,"div",11),d.YNc(13,py,2,1,"div",12),d.YNc(14,Nw,5,2,"div",13),d.qZA(),d.qZA()),2&t&&(d.xp6(3),d.Q6J("ngIf","outline"==r.appearance),d.xp6(1),d.Q6J("ngIf",r._prefixChildren.length),d.xp6(5),d.Q6J("ngIf",r._hasFloatingLabel()),d.xp6(1),d.Q6J("ngIf",r._suffixChildren.length),d.xp6(1),d.Q6J("ngIf","outline"!=r.appearance),d.xp6(1),d.Q6J("ngSwitch",r._getDisplayedMessages()),d.xp6(1),d.Q6J("ngSwitchCase","error"),d.xp6(1),d.Q6J("ngSwitchCase","hint"))},directives:[ds,qa,zi,tA],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[Lw.transitionMessages]},changeDetection:0}),n})(),yy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[cu,Is,Oi],Is]}),n})();const qw=th({passive:!0});let fA=(()=>{class n{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Yi.E;const r=Do(t),i=this._monitoredElements.get(r);if(i)return i.subject;const l=new nn.x,u="cdk-text-field-autofilled",f=_=>{"cdk-text-field-autofill-start"!==_.animationName||r.classList.contains(u)?"cdk-text-field-autofill-end"===_.animationName&&r.classList.contains(u)&&(r.classList.remove(u),this._ngZone.run(()=>l.next({target:_.target,isAutofilled:!1}))):(r.classList.add(u),this._ngZone.run(()=>l.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",f,qw),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:l,unlisten:()=>{r.removeEventListener("animationstart",f,qw)}}),l}stopMonitoring(t){const r=Do(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(xi),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Xd]]}),n})();function gA(...n){const e=(0,uo.jO)(n),{args:t,keys:r}=Di(n),i=new hr.y(l=>{const{length:u}=t;if(!u)return void l.complete();const f=new Array(u);let _=u,w=u;for(let T=0;T<u;T++){let R=!1;(0,xr.Xf)(t[T]).subscribe(new zn.Q(l,V=>{R||(R=!0,w--),f[T]=V},()=>_--,void 0,()=>{(!_||!R)&&(w||l.next(r?Qo(r,f):f),l.complete())}))}});return e?i.pipe(gs(e)):i}let _A=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n}),n})(),Zu=(()=>{class n extends _A{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();const Ba=new d.OlP("NgValueAccessor"),wO={provide:Ba,useExisting:(0,d.Gpc)(()=>Yu),multi:!0},CO=new d.OlP("CompositionEventMode");let Yu=(()=>{class n extends _A{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(CO,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&d.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[d._Bn([wO]),d.qOj]}),n})();function Ts(n){return null==n||0===n.length}function vy(n){return null!=n&&"number"==typeof n.length}const ui=new d.OlP("NgValidators"),Ml=new d.OlP("NgAsyncValidators"),by=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ww{static min(e){return function(n){return e=>{if(Ts(e.value)||Ts(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function(n){return e=>{if(Ts(e.value)||Ts(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function(n){return Ts(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function(n){return Ts(n.value)||by.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function(n){return e=>Ts(e.value)||!vy(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function(n){return e=>vy(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function(n){if(!n)return cm;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Ts(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return Yw(e)}static composeAsync(e){return Qw(e)}}function cm(n){return null}function Kw(n){return null!=n}function um(n){const e=(0,d.QGY)(n)?(0,xn.D)(n):n;return(0,d.CqO)(e),e}function Zw(n){let e={};return n.forEach(t=>{e=null!=t?rt(rt({},e),t):e}),0===Object.keys(e).length?null:e}function wA(n,e){return e.map(t=>t(n))}function dm(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function Yw(n){if(!n)return null;const e=n.filter(Kw);return 0==e.length?null:function(t){return Zw(wA(t,e))}}function Pi(n){return null!=n?Yw(dm(n)):null}function Qw(n){if(!n)return null;const e=n.filter(Kw);return 0==e.length?null:function(t){return gA(wA(t,e).map(um)).pipe((0,bt.U)(Zw))}}function Fh(n){return null!=n?Qw(dm(n)):null}function Xw(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Jw(n){return n._rawValidators}function hm(n){return n._rawAsyncValidators}function fm(n){return n?Array.isArray(n)?n:[n]:[]}function Lh(n,e){return Array.isArray(n)?n.includes(e):n===e}function e0(n,e){const t=fm(e);return fm(n).forEach(i=>{Lh(t,i)||t.push(i)}),t}function Iy(n,e){return fm(e).filter(t=>!Lh(n,t))}class Ty{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Pi(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Fh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ni extends Ty{get formDirective(){return null}get path(){return null}}class Ua extends Ty{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let t0=(()=>{class n extends class{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null==(t=this._cd)?void 0:t.submitted):!!(null==(i=null==(r=this._cd)?void 0:r.control)?void 0:i[e])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Ua,2))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[d.qOj]}),n})();function Xu(n,e){Ay(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Sy(n,e)})}(n,e),function(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Sy(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function ym(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),vm(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Bh(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Ay(n,e){const t=Jw(n);null!==e.validator?n.setValidators(Xw(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=hm(n);null!==e.asyncValidator?n.setAsyncValidators(Xw(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Bh(e._rawValidators,i),Bh(e._rawAsyncValidators,i)}function vm(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=Jw(n);if(Array.isArray(i)&&i.length>0){const l=i.filter(u=>u!==e.validator);l.length!==i.length&&(t=!0,n.setValidators(l))}}if(null!==e.asyncValidator){const i=hm(n);if(Array.isArray(i)&&i.length>0){const l=i.filter(u=>u!==e.asyncValidator);l.length!==i.length&&(t=!0,n.setAsyncValidators(l))}}}const r=()=>{};return Bh(e._rawValidators,r),Bh(e._rawAsyncValidators,r),t}function Sy(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function r0(n,e){Ay(n,e)}function kA(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Lc(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Uh="VALID",jh="INVALID",Xs="PENDING",Ju="DISABLED";function Hh(n){return(Em(n)?n.validators:n)||null}function o0(n){return Array.isArray(n)?Pi(n):n||null}function $h(n,e){return(Em(e)?e.asyncValidators:n)||null}function bm(n){return Array.isArray(n)?Fh(n):n||null}function Em(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class wm{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=o0(this._rawValidators),this._composedAsyncValidatorFn=bm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Uh}get invalid(){return this.status===jh}get pending(){return this.status==Xs}get disabled(){return this.status===Ju}get enabled(){return this.status!==Ju}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=o0(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=bm(e)}addValidators(e){this.setValidators(e0(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(e0(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Iy(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Iy(e,this._rawAsyncValidators))}hasValidator(e){return Lh(this._rawValidators,e)}hasAsyncValidator(e){return Lh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Xs,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ju,this.errors=null,this._forEachChild(r=>{r.disable(Jr(rt({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Jr(rt({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Uh,this._forEachChild(r=>{r.enable(Jr(rt({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Jr(rt({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Uh||this.status===Xs)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ju:Uh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Xs,this._hasOwnPendingAsyncValidator=!0;const t=um(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=r instanceof a0?r.controls.hasOwnProperty(i)?r.controls[i]:null:r instanceof kO&&r.at(i)||null}),r}(this,e)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?Ju:this.errors?jh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Xs)?Xs:this._anyControlsHaveStatus(jh)?jh:Uh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Em(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ry extends wm{constructor(e=null,t,r){super(Hh(t),$h(r,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Lc(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Lc(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class a0 extends wm{constructor(e,t,r){super(Hh(t),$h(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t instanceof Ry?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,l)=>{r=t(r,i,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class kO extends wm{constructor(e,t,r){super(Hh(t),$h(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((r,i)=>{this._throwIfControlMissing(i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof Ry?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const OO={provide:Ni,useExisting:(0,d.Gpc)(()=>ky)},Cm=(()=>Promise.resolve(null))();let ky=(()=>{class n extends Ni{constructor(t,r){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new d.vpe,this.form=new a0({},Pi(t),Fh(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Cm.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Xu(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Cm.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),Lc(this._directives,t)})}addFormGroup(t){Cm.then(()=>{const r=this._findContainer(t.path),i=new a0({});r0(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Cm.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Cm.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,kA(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(ui,10),d.Y36(Ml,10))},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&d.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([OO]),d.qOj]}),n})();const l0={provide:Ua,useExisting:(0,d.Gpc)(()=>Ny)},Py=(()=>Promise.resolve(null))();let Ny=(()=>{class n extends Ua{constructor(t,r,i,l){super(),this.control=new Ry,this._registered=!1,this.update=new d.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(l=>{l.constructor===Yu?t=l:function(n){return Object.getPrototypeOf(n.constructor)===Zu}(l)?r=l:i=l}),i||r||t||null}(0,l)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(n,e){return[...e.path,n]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Xu(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Py.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=""===r||r&&"false"!==r;Py.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Ni,9),d.Y36(ui,10),d.Y36(Ml,10),d.Y36(Ba,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([l0]),d.qOj,d.TTD]}),n})(),Gh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const $A={provide:Ni,useExisting:(0,d.Gpc)(()=>Dm)};let Dm=(()=>{class n extends Ni{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(vm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Xu(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){ym(t.control||null,t,!1),Lc(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,kA(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(ym(r||null,t),i instanceof Ry&&(Xu(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);r0(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function(n,e){return vm(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ay(this.form,this),this._oldForm&&vm(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(ui,10),d.Y36(Ml,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&d.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([$A]),d.qOj,d.TTD]}),n})(),Vy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Gh]]}),n})(),By=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Vy]}),n})();const DV=new d.OlP("MAT_INPUT_VALUE_ACCESSOR"),IV=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let TV=0;const AV=Gu(class{constructor(n,e,t,r){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=r}});let SV=(()=>{class n extends AV{constructor(t,r,i,l,u,f,_,w,T,R){super(f,l,u,i),this._elementRef=t,this._platform=r,this._autofillMonitor=w,this._formField=R,this._uid="mat-input-"+TV++,this.focused=!1,this.stateChanges=new nn.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(X=>fb().has(X));const V=this._elementRef.nativeElement,H=V.nodeName.toLowerCase();this._inputValueAccessor=_||V,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&T.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",X=>{const _e=X.target;!_e.value&&0===_e.selectionStart&&0===_e.selectionEnd&&(_e.setSelectionRange(1,1),_e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===H,this._isTextarea="textarea"===H,this._isInFormField=!!R,this._isNativeSelect&&(this.controlType=V.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Il(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,r,i,l;return null!=(l=null!=(i=this._required)?i:null==(r=null==(t=this.ngControl)?void 0:t.control)?void 0:r.hasValidator(Ww.required))&&l}set required(t){this._required=Il(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&fb().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Il(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var r,i;const t=(null==(i=null==(r=this._formField)?void 0:r._hideControlPlaceholder)?void 0:i.call(r))?null:this.placeholder;if(t!==this._previousPlaceholder){const l=this._elementRef.nativeElement;this._previousPlaceholder=t,t?l.setAttribute("placeholder",t):l.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){IV.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(xi),d.Y36(Ua,10),d.Y36(ky,8),d.Y36(Dm,8),d.Y36(mw),d.Y36(DV,10),d.Y36(fA),d.Y36(d.R0b),d.Y36(_y,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(t,r){1&t&&d.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&t&&(d.Ikx("disabled",r.disabled)("required",r.required),d.uIk("id",r.id)("data-placeholder",r.placeholder)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),d.ekj("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[d._Bn([{provide:Ku,useExisting:n}]),d.qOj,d.TTD]}),n})(),MV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[mw],imports:[[mA,yy,Is],mA,yy]}),n})();const xV=["mat-button",""],RV=["*"],OV=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],PV=ry(FT(zu(class{constructor(n){this._elementRef=n}})));let QA=(()=>{class n extends PV{constructor(t,r,i){super(t),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const l of OV)this._hasHostAttributes(l)&&this._getHostElement().classList.add(l);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(yp),d.Y36(Fc,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&d.Gf(yw,5),2&t){let i;d.iGM(i=d.CRH())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(d.uIk("disabled",r.disabled||null),d.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[d.qOj],attrs:xV,ngContentSelectors:RV,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(d.F$t(),d.TgZ(0,"span",0),d.Hsn(1),d.qZA(),d._UZ(2,"span",1),d._UZ(3,"span",2)),2&t&&(d.xp6(2),d.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),d.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[yw],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),NV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[KT,Is],Is]}),n})(),FV=(()=>{class n{constructor(t){this.dialogRef=t,this.name=""}ngOnInit(){}onNoClick(){this.dialogRef.close()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(rm))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-dialog-add-player"]],decls:14,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["appearance","fill"],["matInput","",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"disabled","mat-dialog-close"]],template:function(t,r){1&t&&(d.TgZ(0,"h1",0),d._uU(1,"Add new player"),d.qZA(),d.TgZ(2,"div",1),d.TgZ(3,"p"),d._uU(4,"Please enter the name of a player."),d.qZA(),d.TgZ(5,"mat-form-field",2),d.TgZ(6,"mat-label"),d._uU(7,"Name"),d.qZA(),d.TgZ(8,"input",3),d.NdJ("ngModelChange",function(l){return r.name=l}),d.qZA(),d.qZA(),d.qZA(),d.TgZ(9,"div",4),d.TgZ(10,"button",5),d.NdJ("click",function(){return r.onNoClick()}),d._uU(11,"No Thanks"),d.qZA(),d.TgZ(12,"button",6),d._uU(13,"Ok"),d.qZA(),d.qZA()),2&t&&(d.xp6(8),d.Q6J("ngModel",r.name),d.xp6(4),d.Q6J("disabled",0==r.name.length)("mat-dialog-close",r.name))},directives:[dy,Aw,Gw,am,SV,Yu,t0,Ny,hy,QA,uy],styles:[""]}),n})();function LV(n,e){if(1&n&&d._UZ(0,"img",5),2&n){const t=e.$implicit;d.MGl("src","./assets/img/profile/",t,"",d.LSH),d.Q6J("mat-dialog-close",t)}}let VV=(()=>{class n{constructor(t){this.dialogRef=t,this.allProfilePictures=["male.png","female.png","player2.png"]}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(rm))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-edit-player"]],decls:8,vars:2,consts:[["mat-dialog-title",""],["class","profile-picture",3,"mat-dialog-close","src",4,"ngFor","ngForOf"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"],[1,"profile-picture",3,"mat-dialog-close","src"]],template:function(t,r){1&t&&(d.TgZ(0,"h1",0),d._uU(1,"Add new player"),d.qZA(),d.YNc(2,LV,1,2,"img",1),d.TgZ(3,"div",2),d.TgZ(4,"button",3),d.NdJ("click",function(){return r.dialogRef.close()}),d._uU(5,"Close"),d.qZA(),d.TgZ(6,"button",4),d._uU(7,"Delete player"),d.qZA(),d.qZA()),2&t&&(d.xp6(2),d.Q6J("ngForOf",r.allProfilePictures),d.xp6(4),d.Q6J("mat-dialog-close","DELETE"))},directives:[dy,Lo,hy,QA,uy],styles:[".profile-picture[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:100%;cursor:pointer}.profile-picture[_ngcontent-%COMP%]:hover{filter:brightness(1.15)}"]}),n})();var Kn=N(7233);function XA(){return(0,Gt.e)((n,e)=>{let t,r=!1;n.subscribe(new zn.Q(e,i=>{const l=t;t=i,r&&e.next([l,i]),r=!0}))})}var at,ja=N(7905),BV=(N(2115),N(6293)),Ie=N(8239),Vc=N(1572),E0=N(1177),td=N(3855),Jt=N(4213),UV="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Bc={},JA=JA||{},Vt=UV||self;function w0(){}function eS(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Uy(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var tS="closure_uid_"+(1e9*Math.random()>>>0),HV=0;function $V(n,e,t){return n.call.apply(n.bind,arguments)}function zV(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Fi(n,e,t){return(Fi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?$V:zV).apply(null,arguments)}function C0(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Li(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,l){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return e.prototype[i].apply(r,u)}}function nd(){this.s=this.s,this.o=this.o}var qV={};nd.prototype.s=!1,nd.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,tS)&&n[tS]||(n[tS]=++HV)}(this);delete qV[n]}},nd.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const jO=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},HO=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in i&&e.call(t,i[l],l,n)};function $O(n){return Array.prototype.concat.apply([],arguments)}function nS(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function D0(n){return/^[\s\xa0]*$/.test(n)}var Ss,zO=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function As(n,e){return-1!=n.indexOf(e)}function rS(n,e){return n<e?-1:n>e?1:0}e:{var GO=Vt.navigator;if(GO){var qO=GO.userAgent;if(qO){Ss=qO;break e}}Ss=""}function iS(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function WO(n){const e={};for(const t in n)e[t]=n[t];return e}var KO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ZO(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let l=0;l<KO.length;l++)t=KO[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function sS(n){return sS[" "](n),n}sS[" "]=w0;var I0,n,ZV=As(Ss,"Opera"),Im=As(Ss,"Trident")||As(Ss,"MSIE"),YO=As(Ss,"Edge"),oS=YO||Im,QO=As(Ss,"Gecko")&&!(As(Ss.toLowerCase(),"webkit")&&!As(Ss,"Edge"))&&!(As(Ss,"Trident")||As(Ss,"MSIE"))&&!As(Ss,"Edge"),YV=As(Ss.toLowerCase(),"webkit")&&!As(Ss,"Edge");function XO(){var n=Vt.document;return n?n.documentMode:void 0}e:{var aS="",lS=(n=Ss,QO?/rv:([^\);]+)(\)|;)/.exec(n):YO?/Edge\/([\d\.]+)/.exec(n):Im?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):YV?/WebKit\/(\S+)/.exec(n):ZV?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(lS&&(aS=lS?lS[1]:""),Im){var cS=XO();if(null!=cS&&cS>parseFloat(aS)){I0=String(cS);break e}}I0=aS}var QV={};function XV(){return e=QV,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=zO(String(I0)).split("."),t=zO("9").split("."),r=Math.max(e.length,t.length);for(let u=0;0==n&&u<r;u++){var i=e[u]||"",l=t[u]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==i[0].length&&0==l[0].length)break;n=rS(0==i[1].length?0:parseInt(i[1],10),0==l[1].length?0:parseInt(l[1],10))||rS(0==i[2].length,0==l[2].length)||rS(i[2],l[2]),i=i[3],l=l[3]}while(0==n)}return 0<=n}();var e}var JV=Vt.document&&Im&&(XO()||parseInt(I0,10))||void 0,eB=function(){if(!Vt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Vt.addEventListener("test",w0,e),Vt.removeEventListener("test",w0,e)}catch(t){}return n}();function is(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function jy(n,e){if(is.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(QO){e:{try{sS(e.nodeName);var i=!0;break e}catch(l){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:tB[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&jy.Z.h.call(this)}}is.prototype.h=function(){this.defaultPrevented=!0},Li(jy,is);var tB={2:"touch",3:"pen",4:"mouse"};jy.prototype.h=function(){jy.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Hy="closure_listenable_"+(1e6*Math.random()|0),nB=0;function rB(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++nB,this.ca=this.fa=!1}function T0(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function A0(n){this.src=n,this.g={},this.h=0}function dS(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],i=jO(r,e);(l=0<=i)&&Array.prototype.splice.call(r,i,1),l&&(T0(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function hS(n,e,t,r){for(var i=0;i<n.length;++i){var l=n[i];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return i}return-1}A0.prototype.add=function(n,e,t,r,i){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var u=hS(n,e,r,i);return-1<u?(e=n[u],t||(e.fa=!1)):((e=new rB(e,this.src,l,!!r,i)).fa=t,n.push(e)),e};var fS="closure_lm_"+(1e6*Math.random()|0),pS={};function eP(n,e,t,r,i){if(r&&r.once)return nP(n,e,t,r,i);if(Array.isArray(e)){for(var l=0;l<e.length;l++)eP(n,e[l],t,r,i);return null}return t=yS(t),n&&n[Hy]?n.N(e,t,Uy(r)?!!r.capture:!!r,i):tP(n,e,t,!1,r,i)}function tP(n,e,t,r,i,l){if(!e)throw Error("Invalid event type");var u=Uy(i)?!!i.capture:!!i,f=gS(n);if(f||(n[fS]=f=new A0(n)),(t=f.add(e,t,r,u,l)).proxy)return t;if(r=function(){var e=sB;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)eB||(i=u),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(iP(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function nP(n,e,t,r,i){if(Array.isArray(e)){for(var l=0;l<e.length;l++)nP(n,e[l],t,r,i);return null}return t=yS(t),n&&n[Hy]?n.O(e,t,Uy(r)?!!r.capture:!!r,i):tP(n,e,t,!0,r,i)}function rP(n,e,t,r,i){if(Array.isArray(e))for(var l=0;l<e.length;l++)rP(n,e[l],t,r,i);else r=Uy(r)?!!r.capture:!!r,t=yS(t),n&&n[Hy]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=hS(l=n.g[e],t,r,i))&&(T0(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=gS(n))&&(e=n.g[e.toString()],n=-1,e&&(n=hS(e,t,r,i)),(t=-1<n?e[n]:null)&&mS(t))}function mS(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Hy])dS(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(iP(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=gS(e))?(dS(t,n),0==t.h&&(t.src=null,e[fS]=null)):T0(n)}}}function iP(n){return n in pS?pS[n]:pS[n]="on"+n}function sB(n,e){if(n.ca)n=!0;else{e=new jy(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&mS(n),n=t.call(r,e)}return n}function gS(n){return(n=n[fS])instanceof A0?n:null}var _S="__closure_events_fn_"+(1e9*Math.random()>>>0);function yS(n){return"function"==typeof n?n:(n[_S]||(n[_S]=function(e){return n.handleEvent(e)}),n[_S])}function di(){nd.call(this),this.i=new A0(this),this.P=this,this.I=null}function Vi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new is(e,n);else if(e instanceof is)e.target=e.target||n;else{var i=e;ZO(e=new is(r,n),i)}if(i=!0,t)for(var l=t.length-1;0<=l;l--){var u=e.g=t[l];i=S0(u,r,!0,e)&&i}if(i=S0(u=e.g=n,r,!0,e)&&i,i=S0(u,r,!1,e)&&i,t)for(l=0;l<t.length;l++)i=S0(u=e.g=t[l],r,!1,e)&&i}function S0(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,l=0;l<e.length;++l){var u=e[l];if(u&&!u.ca&&u.capture==t){var f=u.listener,_=u.ia||u.src;u.fa&&dS(n.i,u),i=!1!==f.call(_,r)&&i}}return i&&!r.defaultPrevented}Li(di,nd),di.prototype[Hy]=!0,di.prototype.removeEventListener=function(n,e,t,r){rP(this,n,e,t,r)},di.prototype.M=function(){if(di.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)T0(t[r]);delete n.g[e],n.h--}}this.I=null},di.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},di.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var vS=Vt.JSON.stringify;function oB(){var n=oP;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var ES,sP=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new lB,n=>n.reset());class lB{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function cB(n){Vt.setTimeout(()=>{throw n},0)}function bS(n,e){ES||function(){var n=Vt.Promise.resolve(void 0);ES=function(){n.then(dB)}}(),wS||(ES(),wS=!0),oP.add(n,e)}var wS=!1,oP=new class{constructor(){this.h=this.g=null}add(e,t){const r=sP.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function dB(){for(var n;n=oB();){try{n.h.call(n.g)}catch(t){cB(t)}var e=sP;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}wS=!1}function M0(n,e){di.call(this),this.h=n||1,this.g=e||Vt,this.j=Fi(this.kb,this),this.l=Date.now()}function CS(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function DS(n,e,t){if("function"==typeof n)t&&(n=Fi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Fi(n.handleEvent,n)}return 2147483647<Number(e)?-1:Vt.setTimeout(n,e||0)}function aP(n){n.g=DS(()=>{n.g=null,n.i&&(n.i=!1,aP(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Li(M0,di),(at=M0.prototype).da=!1,at.S=null,at.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Vi(this,"tick"),this.da&&(CS(this),this.start()))}},at.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},at.M=function(){M0.Z.M.call(this),CS(this),delete this.g};class hB extends nd{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:aP(this)}M(){super.M(),this.g&&(Vt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $y(n){nd.call(this),this.h=n,this.g={}}Li($y,nd);var lP=[];function cP(n,e,t,r){Array.isArray(t)||(t&&(lP[0]=t.toString()),t=lP);for(var i=0;i<t.length;i++){var l=eP(e,t[i],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function uP(n){iS(n.g,function(e,t){this.g.hasOwnProperty(t)&&mS(e)},n),n.g={}}function x0(){this.g=!0}function Tm(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var l=i[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var u=1;u<i.length;u++)i[u]=""}}}return vS(t)}catch(f){return e}}(n,t)+(r?" "+r:"")})}$y.prototype.M=function(){$y.Z.M.call(this),uP(this)},$y.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},x0.prototype.Aa=function(){this.g=!1},x0.prototype.info=function(){};var qh={},dP=null;function R0(){return dP=dP||new di}function hP(n){is.call(this,qh.Ma,n)}function zy(n){const e=R0();Vi(e,new hP(e,n))}function fP(n,e){is.call(this,qh.STAT_EVENT,n),this.stat=e}function Ms(n){const e=R0();Vi(e,new fP(e,n))}function pP(n,e){is.call(this,qh.Na,n),this.size=e}function Gy(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Vt.setTimeout(function(){n()},e)}qh.Ma="serverreachability",Li(hP,is),qh.STAT_EVENT="statevent",Li(fP,is),qh.Na="timingevent",Li(pP,is);var k0={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},mP={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function IS(){}function _P(){}IS.prototype.h=null;var SS,qy={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function TS(){is.call(this,"d")}function AS(){is.call(this,"c")}function O0(){}function Wy(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new $y(this),this.P=_B,this.W=new M0(n=oS?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new yP}function yP(){this.i=null,this.g="",this.h=!1}Li(TS,is),Li(AS,is),Li(O0,IS),O0.prototype.g=function(){return new XMLHttpRequest},O0.prototype.i=function(){return{}},SS=new O0;var _B=45e3,MS={},P0={};function xS(n,e,t){n.K=1,n.v=B0(Uc(e)),n.s=t,n.U=!0,vP(n,null)}function vP(n,e){n.F=Date.now(),Ky(n),n.A=Uc(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),SP(t.h,"t",r),n.C=0,t=n.l.H,n.h=new yP,n.g=QP(n.l,t?e:null,!n.s),0<n.O&&(n.L=new hB(Fi(n.Ia,n,n.g),n.O)),cP(n.V,n.g,"readystatechange",n.gb),e=n.H?WO(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),zy(1),function(n,e,t,r,i,l){n.info(function(){if(n.g)if(l)for(var u="",f=l.split("&"),_=0;_<f.length;_++){var w=f[_].split("=");if(1<w.length){var T=w[0];w=w[1];var R=T.split("_");u=2<=R.length&&"type"==R[1]?u+(T+"=")+w+"&":u+(T+"=redacted&")}}else u=null;else u=l;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function bP(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function EP(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=yB(n,t),i==P0){4==e&&(n.o=4,Ms(14),r=!1),Tm(n.j,n.m,null,"[Incomplete Response]");break}if(i==MS){n.o=4,Ms(15),Tm(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Tm(n.j,n.m,i,null),RS(n,i)}bP(n)&&i!=P0&&i!=MS&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ms(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),HS(e),e.L=!0,Ms(11))):(Tm(n.j,n.m,t,"[Invalid Chunked Response]"),Wh(n),Zy(n))}function yB(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?P0:(t=Number(e.substring(t,r)),isNaN(t)?MS:(r+=1)+t>e.length?P0:(e=e.substr(r,t),n.C=r+t,e))}function Ky(n){n.Y=Date.now()+n.P,wP(n,n.P)}function wP(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Gy(Fi(n.eb,n),e)}function N0(n){n.B&&(Vt.clearTimeout(n.B),n.B=null)}function Zy(n){0==n.l.G||n.I||WP(n.l,n)}function Wh(n){N0(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,CS(n.W),uP(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function RS(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||PS(t.i,n)))if(t.I=n.N,!n.J&&PS(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(w){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=Gy(Fi(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;G0(t),$0(t)}jS(t),Ms(18)}if(1>=RP(t.i)&&t.ka){try{t.ka()}catch(w){}t.ka=void 0}}else Yh(t,11)}else if((n.J||t.g==n)&&G0(t),!D0(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let w=i[e];if(t.U=w[0],w=w[1],2==t.G)if("c"==w[0]){t.J=w[1],t.la=w[2];const T=w[3];null!=T&&(t.ma=T,t.h.info("VER="+t.ma));const R=w[4];null!=R&&(t.za=R,t.h.info("SVER="+t.za));const V=w[5];null!=V&&"number"==typeof V&&0<V&&(t.K=r=1.5*V,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const H=n.g;if(H){const X=H.g?H.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(X){var l=r.i;!l.g&&(As(X,"spdy")||As(X,"quic")||As(X,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(NS(l,l.h),l.h=null))}if(r.D){const _e=H.g?H.g.getResponseHeader("X-HTTP-Session-Id"):null;_e&&(r.sa=_e,ar(r.F,r.D,_e))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var u=n;if((r=t).oa=YP(r,r.H?r.la:null,r.W),u.J){kP(r.i,u);var f=u,_=r.K;_&&f.setTimeout(_),f.B&&(N0(f),Ky(f)),r.g=u}else GP(r);0<t.l.length&&z0(t)}else"stop"!=w[0]&&"close"!=w[0]||Yh(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?Yh(t,7):BS(t):"noop"!=w[0]&&t.j&&t.j.wa(w),t.A=0)}zy(4)}catch(w){}}function kS(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(eS(n)||"string"==typeof n)HO(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(eS(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(eS(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var l=0;l<i;l++)e.call(void 0,r[l],t&&t[l],n)}}function Am(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Am)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function OS(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Kh(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)Kh(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function Kh(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(at=Wy.prototype).setTimeout=function(n){this.P=n},at.gb=function(n){n=n.target;const e=this.L;e&&3==jc(n)?e.l():this.Ia(n)},at.Ia=function(n){try{if(n==this.g)e:{const T=jc(this.g);var e=this.g.Da();const R=this.g.ba();if(!(3>T)&&(3!=T||oS||this.g&&(this.h.h||this.g.ga()||UP(this.g)))){this.I||4!=T||7==e||zy(8==e||0>=R?3:2),N0(this);var t=this.g.ba();this.N=t;t:if(bP(this)){var r=UP(this.g);n="";var i=r.length,l=4==jc(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Wh(this),Zy(this);var u="";break t}this.h.i=new Vt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==t,function(n,e,t,r,i,l,u){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+l+" "+u})}(this.j,this.u,this.A,this.m,this.X,T,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D0(f)){var w=f;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,Ms(12),Wh(this),Zy(this);break e}Tm(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,RS(this,t)}this.U?(EP(this,T,u),oS&&this.i&&3==T&&(cP(this.V,this.W,"tick",this.fb),this.W.start())):(Tm(this.j,this.m,u,null),RS(this,u)),4==T&&Wh(this),this.i&&!this.I&&(4==T?WP(this.l,this):(this.i=!1,Ky(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Ms(12)):(this.o=0,Ms(13)),Wh(this),Zy(this)}}}catch(T){}},at.fb=function(){if(this.g){var n=jc(this.g),e=this.g.ga();this.C<e.length&&(N0(this),EP(this,n,e),this.i&&4!=n&&Ky(this))}},at.cancel=function(){this.I=!0,Wh(this)},at.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(zy(3),Ms(17)),Wh(this),this.o=2,Zy(this)):wP(this,this.Y-n)},(at=Am.prototype).R=function(){OS(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},at.T=function(){return OS(this),this.g.concat()},at.get=function(n,e){return Kh(this.h,n)?this.h[n]:e},at.set=function(n,e){Kh(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},at.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],l=this.get(i);n.call(e,l,i,this)}};var CP=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Zh(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Zh){this.g=void 0!==e?e:n.g,F0(this,n.j),this.s=n.s,L0(this,n.i),V0(this,n.m),this.l=n.l,e=n.h;var t=new Xy;t.i=e.i,e.g&&(t.g=new Am(e.g),t.h=e.h),DP(this,t),this.o=n.o}else n&&(t=String(n).match(CP))?(this.g=!!e,F0(this,t[1]||"",!0),this.s=Yy(t[2]||""),L0(this,t[3]||"",!0),V0(this,t[4]),this.l=Yy(t[5]||"",!0),DP(this,t[6]||"",!0),this.o=Yy(t[7]||"")):(this.g=!!e,this.h=new Xy(null,this.g))}function Uc(n){return new Zh(n)}function F0(n,e,t){n.j=t?Yy(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function L0(n,e,t){n.i=t?Yy(e,!0):e}function V0(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function DP(n,e,t){e instanceof Xy?(n.h=e,function(n,e){e&&!n.j&&(rd(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(TP(this,r),SP(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Qy(e,TB)),n.h=new Xy(e,n.g))}function ar(n,e,t){n.h.set(e,t)}function B0(n){return ar(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Yy(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Qy(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,CB),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function CB(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Zh.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Qy(e,IP,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Qy(e,IP,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Qy(t,"/"==t.charAt(0)?IB:DB,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Qy(t,AB)),n.join("")};var IP=/[#\/\?@]/g,DB=/[#\?:]/g,IB=/[#\?]/g,TB=/[#\?@]/g,AB=/#/g;function Xy(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function rd(n){n.g||(n.g=new Am,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var l=n[t].substring(0,r);i=n[t].substring(r+1)}else l=n[t];e(l,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function TP(n,e){rd(n),e=Sm(n,e),Kh(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Kh((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&OS(n)))}function AP(n,e){return rd(n),e=Sm(n,e),Kh(n.g.h,e)}function SP(n,e,t){TP(n,e),0<t.length&&(n.i=null,n.g.set(Sm(n,e),nS(t)),n.h+=t.length)}function Sm(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function MP(n){this.l=n||xB,n=Vt.PerformanceNavigationTiming?0<(n=Vt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Vt.g&&Vt.g.Ea&&Vt.g.Ea()&&Vt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(at=Xy.prototype).add=function(n,e){rd(this),this.i=null,n=Sm(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},at.forEach=function(n,e){rd(this),this.g.forEach(function(t,r){HO(t,function(i){n.call(e,i,r,this)},this)},this)},at.T=function(){rd(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],l=0;l<i.length;l++)t.push(e[r]);return t},at.R=function(n){rd(this);var e=[];if("string"==typeof n)AP(this,n)&&(e=$O(e,this.g.get(Sm(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=$O(e,n[t])}return e},at.set=function(n,e){return rd(this),this.i=null,AP(this,n=Sm(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},at.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},at.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var u=i;""!==r[l]&&(u+="="+encodeURIComponent(String(r[l]))),n.push(u)}}return this.i=n.join("&")};var xB=10;function xP(n){return!!n.h||!!n.g&&n.g.size>=n.j}function RP(n){return n.h?1:n.g?n.g.size:0}function PS(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function NS(n,e){n.g?n.g.add(e):n.h=e}function kP(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function OP(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return nS(n.i)}function FS(){}function RB(){this.g=new FS}function kB(n,e,t){const r=t||"";try{kS(n,function(i,l){let u=i;Uy(i)&&(u=vS(i)),e.push(r+l+"="+encodeURIComponent(u))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function U0(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(l){}}function Jy(n){this.l=n.$b||null,this.j=n.ib||!1}function j0(n,e){di.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=LS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}MP.prototype.cancel=function(){if(this.i=OP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},FS.prototype.stringify=function(n){return Vt.JSON.stringify(n,void 0)},FS.prototype.parse=function(n){return Vt.JSON.parse(n,void 0)},Li(Jy,IS),Jy.prototype.g=function(){return new j0(this.l,this.j)},Jy.prototype.i=function(n){return function(){return n}}({}),Li(j0,di);var LS=0;function PP(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function ev(n){n.readyState=4,n.l=null,n.j=null,n.A=null,tv(n)}function tv(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(at=j0.prototype).open=function(n,e){if(this.readyState!=LS)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,tv(this)},at.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Vt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},at.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ev(this)),this.readyState=LS},at.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,tv(this)),this.g&&(this.readyState=3,tv(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Vt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;PP(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},at.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?ev(this):tv(this),3==this.readyState&&PP(this)}},at.Ua=function(n){this.g&&(this.response=this.responseText=n,ev(this))},at.Ta=function(n){this.g&&(this.response=n,ev(this))},at.ha=function(){this.g&&ev(this)},at.setRequestHeader=function(n,e){this.v.append(n,e)},at.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},at.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(j0.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var PB=Vt.JSON.parse;function Fr(n){di.call(this),this.headers=new Am,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=NP,this.K=this.L=!1}Li(Fr,di);var NP="",NB=/^https?$/i,FB=["POST","PUT"];function VB(n){return"content-type"==n.toLowerCase()}function FP(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,LP(n),H0(n)}function LP(n){n.D||(n.D=!0,Vi(n,"complete"),Vi(n,"error"))}function VP(n){if(n.h&&void 0!==JA&&(!n.C[1]||4!=jc(n)||2!=n.ba()))if(n.v&&4==jc(n))DS(n.Fa,0,n);else if(Vi(n,"readystatechange"),4==jc(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(CP)[1]||null;if(!i&&Vt.self&&Vt.self.location){var l=Vt.self.location.protocol;i=l.substr(0,l.length-1)}r=!NB.test(i?i.toLowerCase():"")}t=r}if(t)Vi(n,"complete"),Vi(n,"success");else{n.m=6;try{var u=2<jc(n)?n.g.statusText:""}catch(_){u=""}n.j=u+" ["+n.ba()+"]",LP(n)}}finally{H0(n)}}}function H0(n,e){if(n.g){BP(n);const t=n.g,r=n.C[0]?w0:null;n.g=null,n.C=null,e||Vi(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function BP(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Vt.clearTimeout(n.A),n.A=null)}function jc(n){return n.g?n.g.readyState:0}function UP(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case NP:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function VS(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function(n){let e="";return iS(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ar(n,e,t))}function nv(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function jP(n){this.za=0,this.l=[],this.h=new x0,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=nv("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=nv("baseRetryDelayMs",5e3,n),this.$a=nv("retryDelaySeedMs",1e4,n),this.Ya=nv("forwardChannelMaxRetries",2,n),this.ra=nv("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new MP(n&&n.concurrentRequestLimit),this.Ca=new RB,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function BS(n){if(HP(n),3==n.G){var e=n.V++,t=Uc(n.F);ar(t,"SID",n.J),ar(t,"RID",e),ar(t,"TYPE","terminate"),rv(n,t),(e=new Wy(n,n.h,e,void 0)).K=2,e.v=B0(Uc(t)),t=!1,Vt.navigator&&Vt.navigator.sendBeacon&&(t=Vt.navigator.sendBeacon(e.v.toString(),"")),!t&&Vt.Image&&((new Image).src=e.v,t=!0),t||(e.g=QP(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Ky(e)}ZP(n)}function $0(n){n.g&&(HS(n),n.g.cancel(),n.g=null)}function HP(n){$0(n),n.u&&(Vt.clearTimeout(n.u),n.u=null),G0(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Vt.clearTimeout(n.m),n.m=null)}function US(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&z0(n)}function z0(n){xP(n.i)||n.m||(n.m=!0,bS(n.Ha,n),n.C=0)}function $P(n,e){var t;t=e?e.m:n.V++;const r=Uc(n.F);ar(r,"SID",n.J),ar(r,"RID",t),ar(r,"AID",n.U),rv(n,r),n.o&&n.s&&VS(r,n.o,n.s),t=new Wy(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=zP(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),NS(n.i,t),xS(t,r,e)}function rv(n,e){n.j&&kS({},function(t,r){ar(e,r,t)})}function zP(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Fi(n.j.Oa,n.j,n):null;e:{var i=n.l;let l=-1;for(;;){const u=["count="+t];-1==l?0<t?(l=i[0].h,u.push("ofs="+l)):l=0:u.push("ofs="+l);let f=!0;for(let _=0;_<t;_++){let w=i[_].h;const T=i[_].g;if(w-=l,0>w)l=Math.max(0,i[_].h-100),f=!1;else try{kB(T,u,"req"+w+"_")}catch(R){r&&r(T)}}if(f){r=u.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function GP(n){n.g||n.u||(n.Y=1,bS(n.Ga,n),n.A=0)}function jS(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Gy(Fi(n.Ga,n),KP(n,n.A)),n.A++,0))}function HS(n){null!=n.B&&(Vt.clearTimeout(n.B),n.B=null)}function qP(n){n.g=new Wy(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Uc(n.oa);ar(e,"RID","rpc"),ar(e,"SID",n.J),ar(e,"CI",n.N?"0":"1"),ar(e,"AID",n.U),rv(n,e),ar(e,"TYPE","xmlhttp"),n.o&&n.s&&VS(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=B0(Uc(e)),t.s=null,t.U=!0,vP(t,n)}function G0(n){null!=n.v&&(Vt.clearTimeout(n.v),n.v=null)}function WP(n,e){var t=null;if(n.g==e){G0(n),HS(n),n.g=null;var r=2}else{if(!PS(n.i,e))return;t=e.D,kP(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Vi(r=R0(),new pP(r,t,e,i)),z0(n)}else GP(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function(n,e){return!(RP(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Gy(Fi(n.Ha,n,e),KP(n,n.C)),n.C++,0)))}(n,e)||2==r&&jS(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Yh(n,5);break;case 4:Yh(n,10);break;case 3:Yh(n,6);break;default:Yh(n,2)}}function KP(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Yh(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Fi(n.jb,n);t||(t=new Zh("//www.google.com/images/cleardot.gif"),Vt.location&&"http"==Vt.location.protocol||F0(t,"https"),B0(t)),function(n,e){const t=new x0;if(Vt.Image){const r=new Image;r.onload=C0(U0,t,r,"TestLoadImage: loaded",!0,e),r.onerror=C0(U0,t,r,"TestLoadImage: error",!1,e),r.onabort=C0(U0,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=C0(U0,t,r,"TestLoadImage: timeout",!1,e),Vt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ms(2);n.G=0,n.j&&n.j.va(e),ZP(n),HP(n)}function ZP(n){n.G=0,n.I=-1,n.j&&((0!=OP(n.i).length||0!=n.l.length)&&(n.i.i.length=0,nS(n.l),n.l.length=0),n.j.ua())}function YP(n,e,t){let r=function(n){return n instanceof Zh?Uc(n):new Zh(n,void 0)}(t);if(""!=r.i)e&&L0(r,e+"."+r.i),V0(r,r.m);else{const i=Vt.location;r=function(n,e,t,r){var i=new Zh(null,void 0);return n&&F0(i,n),e&&L0(i,e),t&&V0(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&iS(n.aa,function(i,l){ar(r,l,i)}),t=n.sa,(e=n.D)&&t&&ar(r,e,t),ar(r,"VER",n.ma),rv(n,r),r}function QP(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Fr(t&&n.Ba&&!n.qa?new Jy({ib:!0}):n.qa)).L=n.H,e}function XP(){}function q0(){if(Im&&!(10<=Number(JV)))throw Error("Environmental error: no available transport.")}function Ro(n,e){di.call(this),this.g=new jP(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!D0(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!D0(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Mm(this)}function JP(n){TS.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function eN(){AS.call(this),this.status=1}function Mm(n){this.g=n}(at=Fr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():SS.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:SS),this.g.onreadystatechange=Fi(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void FP(this,l)}n=t||"";const i=new Am(this.headers);r&&kS(r,function(l,u){i.set(u,l)}),r=function(n){e:{var e=VB;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=Vt.FormData&&n instanceof Vt.FormData,!(0<=jO(FB,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(l,u){this.g.setRequestHeader(u,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{BP(this),0<this.B&&((this.K=function(n){return Im&&XV()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Fi(this.pa,this)):this.A=DS(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){FP(this,l)}},at.pa=function(){void 0!==JA&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Vi(this,"timeout"),this.abort(8))},at.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Vi(this,"complete"),Vi(this,"abort"),H0(this))},at.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),H0(this,!0)),Fr.Z.M.call(this)},at.Fa=function(){this.s||(this.F||this.v||this.l?VP(this):this.cb())},at.cb=function(){VP(this)},at.ba=function(){try{return 2<jc(this)?this.g.status:-1}catch(n){return-1}},at.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},at.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),PB(e)}},at.Da=function(){return this.m},at.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(at=jP.prototype).ma=8,at.G=1,at.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},at.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Wy(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=WO(l),ZO(l,this.P)):l=this.P),null===this.o&&(i.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=zP(this,i,e),ar(t=Uc(this.F),"RID",n),ar(t,"CVER",22),this.D&&ar(t,"X-HTTP-Session-Id",this.D),rv(this,t),this.o&&l&&VS(t,this.o,l),NS(this.i,i),this.Ra&&ar(t,"TYPE","init"),this.ja?(ar(t,"$req",e),ar(t,"SID","null"),i.$=!0,xS(i,t,null)):xS(i,t,e),this.G=2}}else 3==this.G&&(n?$P(this,n):0==this.l.length||xP(this.i)||$P(this))},at.Ga=function(){if(this.u=null,qP(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Gy(Fi(this.bb,this),n)}},at.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ms(10),$0(this),qP(this))},at.ab=function(){null!=this.v&&(this.v=null,$0(this),jS(this),Ms(19))},at.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Ms(2)):(this.h.info("Failed to ping google.com"),Ms(1))},(at=XP.prototype).xa=function(){},at.wa=function(){},at.va=function(){},at.ua=function(){},at.Oa=function(){},q0.prototype.g=function(n,e){return new Ro(n,e)},Li(Ro,di),Ro.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),bS(Fi(n.hb,n,e))),Ms(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=YP(n,null,n.W),z0(n)},Ro.prototype.close=function(){BS(this.g)},Ro.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,US(this.g,e)}else this.v?((e={}).__data__=vS(n),US(this.g,e)):US(this.g,n)},Ro.prototype.M=function(){this.g.j=null,delete this.j,BS(this.g),delete this.g,Ro.Z.M.call(this)},Li(JP,TS),Li(eN,AS),Li(Mm,XP),Mm.prototype.xa=function(){Vi(this.g,"a")},Mm.prototype.wa=function(n){Vi(this.g,new JP(n))},Mm.prototype.va=function(n){Vi(this.g,new eN(n))},Mm.prototype.ua=function(){Vi(this.g,"b")},q0.prototype.createWebChannel=q0.prototype.g,Ro.prototype.send=Ro.prototype.u,Ro.prototype.open=Ro.prototype.m,Ro.prototype.close=Ro.prototype.close,k0.NO_ERROR=0,k0.TIMEOUT=8,k0.HTTP_ERROR=6,mP.COMPLETE="complete",_P.EventType=qy,qy.OPEN="a",qy.CLOSE="b",qy.ERROR="c",qy.MESSAGE="d",di.prototype.listen=di.prototype.N,Fr.prototype.listenOnce=Fr.prototype.O,Fr.prototype.getLastError=Fr.prototype.La,Fr.prototype.getLastErrorCode=Fr.prototype.Da,Fr.prototype.getStatus=Fr.prototype.ba,Fr.prototype.getResponseJson=Fr.prototype.Qa,Fr.prototype.getResponseText=Fr.prototype.ga,Fr.prototype.send=Fr.prototype.ea;var jB=Bc.createWebChannelTransport=function(){return new q0},HB=Bc.getStatEventTarget=function(){return R0()},$S=Bc.ErrorCode=k0,$B=Bc.EventType=mP,zB=Bc.Event=qh,tN=Bc.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},GB=Bc.FetchXmlHttpFactory=Jy,W0=Bc.WebChannel=_P,qB=Bc.XhrIo=Fr;const nN="@firebase/firestore";class Bi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bi.UNAUTHENTICATED=new Bi(null),Bi.GOOGLE_CREDENTIALS=new Bi("google-credentials-uid"),Bi.FIRST_PARTY=new Bi("first-party-uid"),Bi.MOCK_USER=new Bi("mock-user");let xm="9.6.1";const id=new td.Yd("@firebase/firestore");function zS(){return id.logLevel}function $e(n,...e){if(id.logLevel<=td.in.DEBUG){const t=e.map(GS);id.debug(`Firestore (${xm}): ${n}`,...t)}}function Lr(n,...e){if(id.logLevel<=td.in.ERROR){const t=e.map(GS);id.error(`Firestore (${xm}): ${n}`,...t)}}function iv(n,...e){if(id.logLevel<=td.in.WARN){const t=e.map(GS);id.warn(`Firestore (${xm}): ${n}`,...t)}}function GS(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function yt(n="Unexpected state"){const e=`FIRESTORE (${xm}) INTERNAL ASSERTION FAILED: `+n;throw Lr(e),new Error(e)}function xt(n,e){n||yt()}function et(n,e){return n}const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class hi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class rN{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Bi.UNAUTHENTICATED))}shutdown(){}}class YB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class QB{constructor(e){this.t=e,this.currentUser=Bi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const l=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let u=new hi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new hi,e.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const w=u;e.enqueueRetryable((0,Ie.Z)(function*(){yield w.promise,yield l(r.currentUser)}))},_=w=>{$e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(w=>_(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?_(w):($e("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new hi)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?($e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xt("string"==typeof r.accessToken),new rN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return xt(null===e||"string"==typeof e),new Bi(e)}}class XB{constructor(e,t,r){this.type="FirstParty",this.user=Bi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class JB{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new XB(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Bi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eU{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,t){this.o=i=>{e.enqueueRetryable(()=>{return null!=(l=i).error&&$e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`),t(l.token);var l})};const r=i=>{$e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.g.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.g.getImmediate({optional:!0});i?r(i):$e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(xt("string"==typeof t.token),new iN(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class ko{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.p(r),this.T=r=>t.writeSequenceNumber(r))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function tU(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}ko.I=-1;class sN{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=tU(40);for(let l=0;l<i.length;++l)r.length<20&&i[l]<t&&(r+=e.charAt(i[l]%e.length))}return r}}function rn(n,e){return n<e?-1:n>e?1:0}function Rm(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function oN(n){return n+"\0"}class fi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ne(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ne(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ne(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return fi.fromMillis(Date.now())}static fromDate(e){return fi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new fi(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?rn(this.nanoseconds,e.nanoseconds):rn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class zt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new zt(e)}static min(){return new zt(new fi(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function aN(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Qh(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function lN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class sv{constructor(e,t,r){void 0===t?t=0:t>e.length&&yt(),void 0===r?r=e.length-t:r>e.length-t&&yt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===sv.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof sv?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const l=e.get(i),u=t.get(i);if(l<u)return-1;if(l>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class kn extends sv{construct(e,t,r){return new kn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new kn(t)}static emptyPath(){return new kn([])}}const nU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ui extends sv{construct(e,t,r){return new Ui(e,t,r)}static isValidIdentifier(e){return nU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ui.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ui(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const l=()=>{if(0===r.length)throw new Ne(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Ne(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Ne(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===f?(u=!u,i++):"."!==f||u?(r+=f,i++):(l(),i++)}if(l(),u)throw new Ne(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ui(t)}static emptyPath(){return new Ui([])}}class km{constructor(e){this.fields=e,e.sort(Ui.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Rm(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class pi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new pi(t)}static fromUint8Array(e){const t=function(r){let i="";for(let l=0;l<r.length;++l)i+=String.fromCharCode(r[l]);return i}(e);return new pi(t)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pi.EMPTY_BYTE_STRING=new pi("");const iU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sd(n){if(xt(!!n),"string"==typeof n){let e=0;const t=iU.exec(n);if(xt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Vr(n.seconds),nanos:Vr(n.nanos)}}function Vr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Om(n){return"string"==typeof n?pi.fromBase64String(n):pi.fromUint8Array(n)}function qS(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function cN(n){const e=n.mapValue.fields.__previous_value__;return qS(e)?cN(e):e}function ov(n){const e=sd(n.mapValue.fields.__local_write_time__.timestampValue);return new fi(e.seconds,e.nanos)}function Xh(n){return null==n}function K0(n){return 0===n&&1/n==-1/0}function uN(n){return"number"==typeof n&&Number.isInteger(n)&&!K0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class ft{constructor(e){this.path=e}static fromPath(e){return new ft(kn.fromString(e))}static fromName(e){return new ft(kn.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===kn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return kn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ft(new kn(e.slice()))}}function Jh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?qS(n)?4:10:yt()}function xl(n,e){const t=Jh(n);if(t!==Jh(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ov(n).isEqual(ov(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const l=sd(r.timestampValue),u=sd(i.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Om(n.bytesValue).isEqual(Om(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Vr(r.geoPointValue.latitude)===Vr(i.geoPointValue.latitude)&&Vr(r.geoPointValue.longitude)===Vr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Vr(r.integerValue)===Vr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const l=Vr(r.doubleValue),u=Vr(i.doubleValue);return l===u?K0(l)===K0(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return Rm(n.arrayValue.values||[],e.arrayValue.values||[],xl);case 10:return function(r,i){const l=r.mapValue.fields||{},u=i.mapValue.fields||{};if(aN(l)!==aN(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(void 0===u[f]||!xl(l[f],u[f])))return!1;return!0}(n,e);default:return yt()}var i}function av(n,e){return void 0!==(n.values||[]).find(t=>xl(t,e))}function Pm(n,e){const t=Jh(n),r=Jh(e);if(t!==r)return rn(t,r);switch(t){case 0:return 0;case 1:return rn(n.booleanValue,e.booleanValue);case 2:return function(i,l){const u=Vr(i.integerValue||i.doubleValue),f=Vr(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return dN(n.timestampValue,e.timestampValue);case 4:return dN(ov(n),ov(e));case 5:return rn(n.stringValue,e.stringValue);case 6:return function(i,l){const u=Om(i),f=Om(l);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,l){const u=i.split("/"),f=l.split("/");for(let _=0;_<u.length&&_<f.length;_++){const w=rn(u[_],f[_]);if(0!==w)return w}return rn(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,l){const u=rn(Vr(i.latitude),Vr(l.latitude));return 0!==u?u:rn(Vr(i.longitude),Vr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,l){const u=i.values||[],f=l.values||[];for(let _=0;_<u.length&&_<f.length;++_){const w=Pm(u[_],f[_]);if(w)return w}return rn(u.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,l){const u=i.fields||{},f=Object.keys(u),_=l.fields||{},w=Object.keys(_);f.sort(),w.sort();for(let T=0;T<f.length&&T<w.length;++T){const R=rn(f[T],w[T]);if(0!==R)return R;const V=Pm(u[f[T]],_[w[T]]);if(0!==V)return V}return rn(f.length,w.length)}(n.mapValue,e.mapValue);default:throw yt()}}function dN(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return rn(n,e);const t=sd(n),r=sd(e),i=rn(t.seconds,r.seconds);return 0!==i?i:rn(t.nanos,r.nanos)}function WS(n){return KS(n)}function KS(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=sd(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Om(n.bytesValue).toBase64():"referenceValue"in n?ft.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",l=!0;for(const u of r.values||[])l?l=!1:i+=",",i+=KS(u);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let l="{",u=!0;for(const f of i)u?u=!1:l+=",",l+=`${f}:${KS(r.fields[f])}`;return l+"}"}(n.mapValue):yt();var e}function Z0(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ZS(n){return!!n&&"integerValue"in n}function YS(n){return!!n&&"arrayValue"in n}function hN(n){return!!n&&"nullValue"in n}function fN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Y0(n){return!!n&&"mapValue"in n}function lv(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Qh(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=lv(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=lv(n.arrayValue.values[t]);return e}return Object.assign({},n)}class ss{constructor(e){this.value=e}static empty(){return new ss({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Y0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=lv(t)}setAll(e){let t=Ui.emptyPath(),r={},i=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=f.popLast()}u?r[f.lastSegment()]=lv(u):i.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,i)}delete(e){const t=this.field(e.popLast());Y0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Y0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Qh(t,(i,l)=>e[i]=l);for(const i of r)delete e[i]}clone(){return new ss(lv(this.value))}}function pN(n){const e=[];return Qh(n.fields,(t,r)=>{const i=new Ui([t]);if(Y0(r)){const l=pN(r.mapValue).fields;if(0===l.length)e.push(i);else for(const u of l)e.push(i.child(u))}else e.push(i)}),new km(e)}class lr{constructor(e,t,r,i,l){this.key=e,this.documentType=t,this.version=r,this.data=i,this.documentState=l}static newInvalidDocument(e){return new lr(e,0,zt.min(),ss.empty(),0)}static newFoundDocument(e,t,r){return new lr(e,1,t,r,0)}static newNoDocument(e,t){return new lr(e,2,t,ss.empty(),0)}static newUnknownDocument(e,t){return new lr(e,3,t,ss.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ss.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ss.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof lr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new lr(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sU{constructor(e,t=null,r=[],i=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=l,this.startAt=u,this.endAt=f,this.R=null}}function mN(n,e=null,t=[],r=[],i=null,l=null,u=null){return new sU(n,e,t,r,i,l,u)}function cv(n){const e=et(n);if(null===e.R){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>function(n){return n.field.canonicalString()+n.op.toString()+WS(n.value)}(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Xh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=J0(e.startAt)),e.endAt&&(t+="|ub:",t+=J0(e.endAt)),e.R=t}return e.R}function Q0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!mU(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!xl(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!yN(n.startAt,e.startAt)&&yN(n.endAt,e.endAt)}function X0(n){return ft.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class xs extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new lU(e,t,r):"array-contains"===t?new dU(e,r):"in"===t?new hU(e,r):"not-in"===t?new fU(e,r):"array-contains-any"===t?new pU(e,r):new xs(e,t,r)}static P(e,t,r){return"in"===t?new cU(e,r):new uU(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Pm(t,this.value)):null!==t&&Jh(this.value)===Jh(t)&&this.v(Pm(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return yt()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class lU extends xs{constructor(e,t,r){super(e,t,r),this.key=ft.fromName(r.referenceValue)}matches(e){const t=ft.comparator(e.key,this.key);return this.v(t)}}class cU extends xs{constructor(e,t){super(e,"in",t),this.keys=gN(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class uU extends xs{constructor(e,t){super(e,"not-in",t),this.keys=gN(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function gN(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>ft.fromName(r.referenceValue))}class dU extends xs{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return YS(t)&&av(t.arrayValue,this.value)}}class hU extends xs{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&av(this.value.arrayValue,t)}}class fU extends xs{constructor(e,t){super(e,"not-in",t)}matches(e){if(av(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!av(this.value.arrayValue,t)}}class pU extends xs{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!YS(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>av(this.value.arrayValue,r))}}class uv{constructor(e,t){this.position=e,this.before=t}}function J0(n){return`${n.before?"b":"a"}:${n.position.map(e=>WS(e)).join(",")}`}class Nm{constructor(e,t="asc"){this.field=e,this.dir=t}}function mU(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function _N(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const l=e[i],u=n.position[i];if(r=l.field.isKeyField()?ft.comparator(ft.fromName(u.referenceValue),t.key):Pm(u,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function yN(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!xl(n.position[t],e.position[t]))return!1;return!0}class Hc{constructor(e,t=null,r=[],i=[],l=null,u="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=_,this.S=null,this.D=null}}function vN(n,e,t,r,i,l,u,f){return new Hc(n,e,t,r,i,l,u,f)}function Fm(n){return new Hc(n)}function eC(n){return!Xh(n.limit)&&"F"===n.limitType}function tC(n){return!Xh(n.limit)&&"L"===n.limitType}function QS(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function XS(n){for(const e of n.filters)if(e.V())return e.field;return null}function JS(n){return null!==n.collectionGroup}function Lm(n){const e=et(n);if(null===e.S){e.S=[];const t=XS(e),r=QS(e);if(null!==t&&null===r)t.isKeyField()||e.S.push(new Nm(t)),e.S.push(new Nm(Ui.keyField(),"asc"));else{let i=!1;for(const l of e.explicitOrderBy)e.S.push(l),l.field.isKeyField()&&(i=!0);if(!i){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new Nm(Ui.keyField(),l))}}}return e.S}function ha(n){const e=et(n);if(!e.D)if("F"===e.limitType)e.D=mN(e.path,e.collectionGroup,Lm(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of Lm(e))t.push(new Nm(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new uv(e.endAt.position,!e.endAt.before):null,i=e.startAt?new uv(e.startAt.position,!e.startAt.before):null;e.D=mN(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.D}function bN(n,e,t){return new Hc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function dv(n,e){return Q0(ha(n),ha(e))&&n.limitType===e.limitType}function EN(n){return`${cv(ha(n))}|lt:${n.limitType}`}function eM(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${WS(r.value)}`;var r}).join(", ")}]`),Xh(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: "+J0(n.startAt)),n.endAt&&(e+=", endAt: "+J0(n.endAt)),`Target(${e})`}(ha(n))}; limitType=${n.limitType})`}function hv(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):ft.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!_N(t.startAt,Lm(t),r)||t.endAt&&_N(t.endAt,Lm(t),r)));var t,r}function wN(n){return(e,t)=>{let r=!1;for(const i of Lm(n)){const l=gU(i,e,t);if(0!==l)return l;r=r||i.field.isKeyField()}return 0}}function gU(n,e,t){const r=n.field.isKeyField()?ft.comparator(e.key,t.key):function(i,l,u){const f=l.data.field(i),_=u.data.field(i);return null!==f&&null!==_?Pm(f,_):yt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return yt()}}function CN(n,e){if(n.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:K0(e)?"-0":e}}function DN(n){return{integerValue:""+n}}function IN(n,e){return uN(e)?DN(e):CN(n,e)}class nC{constructor(){this._=void 0}}function _U(n,e,t){return n instanceof Vm?function(r,i){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(l.fields.__previous_value__=i),{mapValue:l}}(t,e):n instanceof ef?AN(n,e):n instanceof tf?SN(n,e):function(r,i){const l=TN(r,i),u=MN(l)+MN(r.N);return ZS(l)&&ZS(r.N)?DN(u):CN(r.k,u)}(n,e)}function yU(n,e,t){return n instanceof ef?AN(n,e):n instanceof tf?SN(n,e):t}function TN(n,e){return n instanceof Bm?ZS(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Vm extends nC{}class ef extends nC{constructor(e){super(),this.elements=e}}function AN(n,e){const t=xN(e);for(const r of n.elements)t.some(i=>xl(i,r))||t.push(r);return{arrayValue:{values:t}}}class tf extends nC{constructor(e){super(),this.elements=e}}function SN(n,e){let t=xN(e);for(const r of n.elements)t=t.filter(i=>!xl(i,r));return{arrayValue:{values:t}}}class Bm extends nC{constructor(e,t){super(),this.k=e,this.N=t}}function MN(n){return Vr(n.integerValue||n.doubleValue)}function xN(n){return YS(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class fv{constructor(e,t){this.field=e,this.transform=t}}class bU{constructor(e,t){this.version=e,this.transformResults=t}}class Br{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Br}static exists(e){return new Br(void 0,e)}static updateTime(e){return new Br(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rC(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class iC{}function EU(n,e,t){n instanceof pv?function(r,i,l){const u=r.value.clone(),f=PN(r.fieldTransforms,i,l.transformResults);u.setAll(f),i.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof od?function(r,i,l){if(!rC(r.precondition,i))return void i.convertToUnknownDocument(l.version);const u=PN(r.fieldTransforms,i,l.transformResults),f=i.data;f.setAll(ON(r)),f.setAll(u),i.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function tM(n,e,t){var i;n instanceof pv?function(r,i,l){if(!rC(r.precondition,i))return;const u=r.value.clone(),f=NN(r.fieldTransforms,l,i);u.setAll(f),i.convertToFoundDocument(kN(i),u).setHasLocalMutations()}(n,e,t):n instanceof od?function(r,i,l){if(!rC(r.precondition,i))return;const u=NN(r.fieldTransforms,l,i),f=i.data;f.setAll(ON(r)),f.setAll(u),i.convertToFoundDocument(kN(i),f).setHasLocalMutations()}(n,e,t):rC(n.precondition,i=e)&&i.convertToNoDocument(zt.min())}function wU(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),l=TN(r.transform,i||null);null!=l&&(null==t&&(t=ss.empty()),t.set(r.field,l))}return t||null}function RN(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Rm(t,r,(i,l)=>function(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof ef&&r instanceof ef||t instanceof tf&&r instanceof tf?Rm(t.elements,r.elements,xl):t instanceof Bm&&r instanceof Bm?xl(t.N,r.N):t instanceof Vm&&r instanceof Vm);var t,r}(i,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function kN(n){return n.isFoundDocument()?n.version:zt.min()}class pv extends iC{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class od extends iC{constructor(e,t,r,i,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=l,this.type=1}}function ON(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function PN(n,e,t){const r=new Map;xt(n.length===t.length);for(let i=0;i<t.length;i++){const l=n[i],u=l.transform,f=e.data.field(l.field);r.set(l.field,yU(u,f,t[i]))}return r}function NN(n,e,t){const r=new Map;for(const i of n){const l=i.transform,u=t.data.field(i.field);r.set(i.field,_U(l,u,e))}return r}class mv extends iC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class nM extends iC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class CU{constructor(e){this.count=e}}var Ur,_n;function FN(n){switch(n){default:return yt();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function LN(n){if(void 0===n)return Lr("GRPC error has no .code"),pe.UNKNOWN;switch(n){case Ur.OK:return pe.OK;case Ur.CANCELLED:return pe.CANCELLED;case Ur.UNKNOWN:return pe.UNKNOWN;case Ur.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case Ur.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case Ur.INTERNAL:return pe.INTERNAL;case Ur.UNAVAILABLE:return pe.UNAVAILABLE;case Ur.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case Ur.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case Ur.NOT_FOUND:return pe.NOT_FOUND;case Ur.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case Ur.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case Ur.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case Ur.ABORTED:return pe.ABORTED;case Ur.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case Ur.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case Ur.DATA_LOSS:return pe.DATA_LOSS;default:return yt()}}(_n=Ur||(Ur={}))[_n.OK=0]="OK",_n[_n.CANCELLED=1]="CANCELLED",_n[_n.UNKNOWN=2]="UNKNOWN",_n[_n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_n[_n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_n[_n.NOT_FOUND=5]="NOT_FOUND",_n[_n.ALREADY_EXISTS=6]="ALREADY_EXISTS",_n[_n.PERMISSION_DENIED=7]="PERMISSION_DENIED",_n[_n.UNAUTHENTICATED=16]="UNAUTHENTICATED",_n[_n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_n[_n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_n[_n.ABORTED=10]="ABORTED",_n[_n.OUT_OF_RANGE=11]="OUT_OF_RANGE",_n[_n.UNIMPLEMENTED=12]="UNIMPLEMENTED",_n[_n.INTERNAL=13]="INTERNAL",_n[_n.UNAVAILABLE=14]="UNAVAILABLE",_n[_n.DATA_LOSS=15]="DATA_LOSS";class Qr{constructor(e,t){this.comparator=e,this.root=t||ji.EMPTY}insert(e,t){return new Qr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ji.BLACK,null,null))}remove(e){return new Qr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ji.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sC(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sC(this.root,e,this.comparator,!1)}getReverseIterator(){return new sC(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sC(this.root,e,this.comparator,!0)}}class sC{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ji{constructor(e,t,r,i,l){this.key=e,this.value=t,this.color=null!=r?r:ji.RED,this.left=null!=i?i:ji.EMPTY,this.right=null!=l?l:ji.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,l){return new ji(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const l=r(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===l?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ji.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return ji.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ji.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ji.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yt();const e=this.left.check();if(e!==this.right.check())throw yt();return e+(this.isRed()?0:1)}}ji.EMPTY=null,ji.RED=!0,ji.BLACK=!1,ji.EMPTY=new class{constructor(){this.size=0}get key(){throw yt()}get value(){throw yt()}get color(){throw yt()}get left(){throw yt()}get right(){throw yt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new ji(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class wr{constructor(e){this.comparator=e,this.data=new Qr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new VN(this.data.getIterator())}getIteratorFrom(e){return new VN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof wr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(i,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new wr(this.comparator);return t.data=e,t}}class VN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const DU=new Qr(ft.comparator);function fa(){return DU}const IU=new Qr(ft.comparator);function rM(){return IU}const TU=new Qr(ft.comparator);function BN(){return TU}const AU=new wr(ft.comparator);function Hn(...n){let e=AU;for(const t of n)e=e.add(t);return e}const SU=new wr(rn);function oC(){return SU}class gv{constructor(e,t,r,i,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,_v.createSynthesizedTargetChangeForCurrentChange(e,t)),new gv(zt.min(),r,oC(),fa(),Hn())}}class _v{constructor(e,t,r,i,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new _v(pi.EMPTY_BYTE_STRING,t,Hn(),Hn(),Hn())}}class aC{constructor(e,t,r,i){this.$=e,this.removedTargetIds=t,this.key=r,this.F=i}}class UN{constructor(e,t){this.targetId=e,this.O=t}}class jN{constructor(e,t,r=pi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class HN{constructor(){this.M=0,this.L=zN(),this.B=pi.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.M}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=Hn(),t=Hn(),r=Hn();return this.L.forEach((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:yt()}}),new _v(this.B,this.U,e,t,r)}H(){this.q=!1,this.L=zN()}J(e,t){this.q=!0,this.L=this.L.insert(e,t)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.M+=1}Z(){this.M-=1}tt(){this.q=!0,this.U=!0}}class MU{constructor(e){this.et=e,this.nt=new Map,this.st=fa(),this.it=$N(),this.rt=new wr(rn)}ot(e){for(const t of e.$)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ut(e){this.forEachTarget(e,t=>{const r=this.ht(t);switch(e.state){case 0:this.lt(t)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||this.removeTarget(t);break;case 3:this.lt(t)&&(r.tt(),r.W(e.resumeToken));break;case 4:this.lt(t)&&(this.ft(t),r.W(e.resumeToken));break;default:yt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((r,i)=>{this.lt(i)&&t(i)})}dt(e){const t=e.targetId,r=e.O.count,i=this.wt(t);if(i){const l=i.target;if(X0(l))if(0===r){const u=new ft(l.path);this.ct(t,u,lr.newNoDocument(u,zt.min()))}else xt(1===r);else this._t(t)!==r&&(this.ft(t),this.rt=this.rt.add(t))}}gt(e){const t=new Map;this.nt.forEach((l,u)=>{const f=this.wt(u);if(f){if(l.current&&X0(f.target)){const _=new ft(f.target.path);null!==this.st.get(_)||this.yt(u,_)||this.ct(u,_,lr.newNoDocument(_,e))}l.j&&(t.set(u,l.G()),l.H())}});let r=Hn();this.it.forEach((l,u)=>{let f=!0;u.forEachWhile(_=>{const w=this.wt(_);return!w||2===w.purpose||(f=!1,!1)}),f&&(r=r.add(l))});const i=new gv(e,t,this.rt,this.st,r);return this.st=fa(),this.it=$N(),this.rt=new wr(rn),i}at(e,t){if(!this.lt(e))return;const r=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,r),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.lt(e))return;const i=this.ht(e);this.yt(e,t)?i.J(t,1):i.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),r&&(this.st=this.st.insert(t,r))}removeTarget(e){this.nt.delete(e)}_t(e){const t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let t=this.nt.get(e);return t||(t=new HN,this.nt.set(e,t)),t}Tt(e){let t=this.it.get(e);return t||(t=new wr(rn),this.it=this.it.insert(e,t)),t}lt(e){const t=null!==this.wt(e);return t||$e("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new HN),this.et.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}yt(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}function $N(){return new Qr(ft.comparator)}function zN(){return new Qr(ft.comparator)}const xU={asc:"ASCENDING",desc:"DESCENDING"},RU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class kU{constructor(e,t){this.databaseId=e,this.C=t}}function yv(n,e){return n.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GN(n,e){return n.C?e.toBase64():e.toUint8Array()}function OU(n,e){return yv(n,e.toTimestamp())}function mi(n){return xt(!!n),zt.fromTimestamp(function(e){const t=sd(e);return new fi(t.seconds,t.nanos)}(n))}function iM(n,e){return(t=n,new kn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function qN(n){const e=kn.fromString(n);return xt(iF(e)),e}function vv(n,e){return iM(n.databaseId,e.path)}function Rl(n,e){const t=qN(e);if(t.get(1)!==n.databaseId.projectId)throw new Ne(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ne(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ft(KN(t))}function sM(n,e){return iM(n.databaseId,e)}function WN(n){const e=qN(n);return 4===e.length?kn.emptyPath():KN(e)}function bv(n){return new kn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function KN(n){return xt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function ZN(n,e,t){return{name:vv(n,e),fields:t.value.mapValue.fields}}function YN(n,e,t){const r=Rl(n,e.name),i=mi(e.updateTime),l=new ss({mapValue:{fields:e.fields}}),u=lr.newFoundDocument(r,i,l);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function lC(n,e){let t;if(e instanceof pv)t={update:ZN(n,e.key,e.value)};else if(e instanceof mv)t={delete:vv(n,e.key)};else if(e instanceof od)t={update:ZN(n,e.key,e.data),updateMask:HU(e.fieldMask)};else{if(!(e instanceof nM))return yt();t={verify:vv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,l){const u=l.transform;if(u instanceof Vm)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof ef)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof tf)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Bm)return{fieldPath:l.field.canonicalString(),increment:u.N};throw yt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:OU(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:yt()),t;var i}function QN(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Br.updateTime(mi(i.updateTime)):void 0!==i.exists?Br.exists(i.exists):Br.none():Br.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,u){let f=null;"setToServerValue"in u?(xt("REQUEST_TIME"===u.setToServerValue),f=new Vm):"appendMissingElements"in u?f=new ef(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new tf(u.removeAllFromArray.values||[]):"increment"in u?f=new Bm(l,u.increment):yt();const _=Ui.fromServerFormat(u.fieldPath);return new fv(_,f)}(n,i)):[];var i;if(e.update){const i=Rl(n,e.update.name),l=new ss({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new km((e.updateMask.fieldPaths||[]).map(w=>Ui.fromServerFormat(w)));return new od(i,l,u,t,r)}return new pv(i,l,t,r)}if(e.delete){const i=Rl(n,e.delete);return new mv(i,t)}if(e.verify){const i=Rl(n,e.verify);return new nM(i,t)}return yt()}function XN(n,e){return{documents:[sM(n,e.path)]}}function JN(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=sM(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=sM(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(f){if(0===f.length)return;const _=f.map(w=>function(T){if("=="===T.op){if(fN(T.value))return{unaryFilter:{field:Um(T.field),op:"IS_NAN"}};if(hN(T.value))return{unaryFilter:{field:Um(T.field),op:"IS_NULL"}}}else if("!="===T.op){if(fN(T.value))return{unaryFilter:{field:Um(T.field),op:"IS_NOT_NAN"}};if(hN(T.value))return{unaryFilter:{field:Um(T.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Um(T.field),op:BU(T.op),value:T.value}}}(w));return 1===_.length?_[0]:{compositeFilter:{op:"AND",filters:_}}}(e.filters);i&&(t.structuredQuery.where=i);const l=function(f){if(0!==f.length)return f.map(_=>{return{field:Um((w=_).field),direction:VU(w.dir)};var w})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=(_=e.limit,n.C||Xh(_)?_:{value:_});var _;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=nF(e.startAt)),e.endAt&&(t.structuredQuery.endAt=nF(e.endAt)),t}function eF(n){let e=WN(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){xt(1===r);const T=t.from[0];T.allDescendants?i=T.collectionId:e=e.child(T.collectionId)}let l=[];t.where&&(l=tF(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(T=>{return new Nm(jm((R=T).field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction));var R}));let f=null;t.limit&&(f=function(T){let R;return R="object"==typeof T?T.value:T,Xh(R)?null:R}(t.limit));let _=null;t.startAt&&(_=rF(t.startAt));let w=null;return t.endAt&&(w=rF(t.endAt)),vN(e,i,u,l,f,"F",_,w)}function tF(n){return n?void 0!==n.unaryFilter?[jU(n)]:void 0!==n.fieldFilter?[UU(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>tF(e)).reduce((e,t)=>e.concat(t)):yt():[]}function nF(n){return{before:n.before,values:n.position}}function rF(n){return new uv(n.values||[],!!n.before)}function VU(n){return xU[n]}function BU(n){return RU[n]}function Um(n){return{fieldPath:n.canonicalString()}}function jm(n){return Ui.fromServerFormat(n.fieldPath)}function UU(n){return xs.create(jm(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yt()}}(n.fieldFilter.op),n.fieldFilter.value)}function jU(n){switch(n.unaryFilter.op){case"IS_NAN":const e=jm(n.unaryFilter.field);return xs.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=jm(n.unaryFilter.field);return xs.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=jm(n.unaryFilter.field);return xs.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=jm(n.unaryFilter.field);return xs.create(i,"!=",{nullValue:"NULL_VALUE"});default:return yt()}}function HU(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function iF(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ha(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=sF(e)),e=$U(n.get(t),e);return sF(e)}function $U(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const l=n.charAt(i);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function sF(n){return n+"\x01\x01"}function $c(n){const e=n.length;if(xt(e>=2),2===e)return xt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),kn.emptyPath();const t=e-2,r=[];let i="";for(let l=0;l<e;){const u=n.indexOf("\x01",l);switch((u<0||u>t)&&yt(),n.charAt(u+1)){case"\x01":const f=n.substring(l,u);let _;0===i.length?_=f:(i+=f,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(l,u),i+="\0";break;case"\x11":i+=n.substring(l,u+1);break;default:yt()}l=u+2}return new kn(r)}class zU{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class Oo{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}Oo.store="owner",Oo.key="owner";class ad{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}ad.store="mutationQueues",ad.keyPath="userId";class ir{constructor(e,t,r,i,l){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=l}}ir.store="mutations",ir.keyPath="batchId",ir.userMutationsIndex="userMutationsIndex",ir.userMutationsKeyPath=["userId","batchId"];class os{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Ha(t)]}static key(e,t,r){return[e,Ha(t),r]}}os.store="documentMutations",os.PLACEHOLDER=new os;class GU{constructor(e,t){this.path=e,this.readTime=t}}class qU{constructor(e,t){this.path=e,this.version=t}}class Cr{constructor(e,t,r,i,l,u){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=i,this.readTime=l,this.parentPath=u}}Cr.store="remoteDocuments",Cr.readTimeIndex="readTimeIndex",Cr.readTimeIndexPath="readTime",Cr.collectionReadTimeIndex="collectionReadTimeIndex",Cr.collectionReadTimeIndexPath=["parentPath","readTime"];class kl{constructor(e){this.byteSize=e}}kl.store="remoteDocumentGlobal",kl.key="remoteDocumentGlobalKey";class Js{constructor(e,t,r,i,l,u,f){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=l,this.lastLimboFreeSnapshotVersion=u,this.query=f}}Js.store="targets",Js.keyPath="targetId",Js.queryTargetsIndexName="queryTargetsIndex",Js.queryTargetsKeyPath=["canonicalId","targetId"];class Hi{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}Hi.store="targetDocuments",Hi.keyPath=["targetId","path"],Hi.documentTargetsIndex="documentTargetsIndex",Hi.documentTargetsKeyPath=["path","targetId"];class Po{constructor(e,t,r,i){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=i}}Po.key="targetGlobalKey",Po.store="targetGlobal";class nf{constructor(e,t){this.collectionId=e,this.parent=t}}nf.store="collectionParents",nf.keyPath=["collectionId","parent"];class zc{constructor(e,t,r,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=i}}zc.store="clientMetadata",zc.keyPath="clientId";class Hm{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}Hm.store="bundles",Hm.keyPath="bundleId";class $m{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}$m.store="namedQueries",$m.keyPath="name";const WU=[ad.store,ir.store,os.store,Cr.store,Js.store,Oo.store,Po.store,Hi.store,zc.store,kl.store,nf.store,Hm.store,$m.store],oF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Pe((r,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,i)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Pe?t:Pe.resolve(t)}catch(t){return Pe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Pe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Pe.reject(t)}static resolve(e){return new Pe((t,r)=>{t(e)})}static reject(e){return new Pe((t,r)=>{r(e)})}static waitFor(e){return new Pe((t,r)=>{let i=0,l=0,u=!1;e.forEach(f=>{++i,f.next(()=>{++l,u&&l===i&&t()},_=>r(_))}),u=!0,l===i&&t()})}static or(e){let t=Pe.resolve(!1);for(const r of e)t=t.next(i=>i?Pe.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,l)=>{r.push(t.call(this,i,l))}),this.waitFor(r)}}class cC{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.It=new hi,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{t.error?this.It.reject(new Ev(e,t.error)):this.It.resolve()},this.transaction.onerror=r=>{const i=oM(r.target.error);this.It.reject(new Ev(e,i))}}static open(e,t,r,i){try{return new cC(t,e.transaction(i,r))}catch(l){throw new Ev(t,l)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||($e("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new ZU(t)}}class $a{constructor(e,t,r){this.name=e,this.version=t,this.Rt=r,12.2===$a.Pt((0,Jt.z$)())&&Lr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return $e("SimpleDb","Removing database:",e),sf(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!(0,Jt.hl)())return!1;if($a.vt())return!0;const e=(0,Jt.z$)(),t=$a.Pt(e),r=0<t&&t<10,i=$a.Vt(e),l=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static vt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.St)}static Dt(e,t){return e.store(t)}static Pt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Vt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Ct(e){var t=this;return(0,Ie.Z)(function*(){return t.db||($e("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=u=>{r(u.target.result)},l.onblocked=()=>{i(new Ev(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=u=>{const f=u.target.error;i("VersionError"===f.name?new Ne(pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Ne(pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Ev(e,f))},l.onupgradeneeded=u=>{$e("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.Rt.Nt(u.target.result,l.transaction,u.oldVersion,t.version).next(()=>{$e("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.kt&&(t.db.onversionchange=r=>t.kt(r)),t.db})()}xt(e){this.kt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var l=this;return(0,Ie.Z)(function*(){const u="readonly"===t;let f=0;for(;;){++f;try{l.db=yield l.Ct(e);const _=cC.open(l.db,e,u?"readonly":"readwrite",r),w=i(_).catch(T=>(_.abort(T),Pe.reject(T))).toPromise();return w.catch(()=>{}),yield _.At,w}catch(_){const w="FirebaseError"!==_.name&&f<3;if($e("SimpleDb","Transaction failed with error:",_.message,"Retrying:",w),l.close(),!w)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class KU{constructor(e){this.$t=e,this.Ft=!1,this.Ot=null}get isDone(){return this.Ft}get Mt(){return this.Ot}set cursor(e){this.$t=e}done(){this.Ft=!0}Lt(e){this.Ot=e}delete(){return sf(this.$t.delete())}}class Ev extends Ne{constructor(e,t){super(pe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function rf(n){return"IndexedDbTransactionError"===n.name}class ZU{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?($e("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):($e("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),sf(r)}add(e){return $e("SimpleDb","ADD",this.store.name,e,e),sf(this.store.add(e))}get(e){return sf(this.store.get(e)).next(t=>(void 0===t&&(t=null),$e("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return $e("SimpleDb","DELETE",this.store.name,e),sf(this.store.delete(e))}count(){return $e("SimpleDb","COUNT",this.store.name),sf(this.store.count())}Bt(e,t){const r=this.cursor(this.options(e,t)),i=[];return this.Ut(r,(l,u)=>{i.push(u)}).next(()=>i)}qt(e,t){$e("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Kt=!1;const i=this.cursor(r);return this.Ut(i,(l,u,f)=>f.delete())}jt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Ut(i,t)}Qt(e){const t=this.cursor({});return new Pe((r,i)=>{t.onerror=l=>{const u=oM(l.target.error);i(u)},t.onsuccess=l=>{const u=l.target.result;u?e(u.primaryKey,u.value).next(f=>{f?u.continue():r()}):r()}})}Ut(e,t){const r=[];return new Pe((i,l)=>{e.onerror=u=>{l(u.target.error)},e.onsuccess=u=>{const f=u.target.result;if(!f)return void i();const _=new KU(f),w=t(f.primaryKey,f.value,_);if(w instanceof Pe){const T=w.catch(R=>(_.done(),Pe.reject(R)));r.push(T)}_.isDone?i():null===_.Mt?f.continue():f.continue(_.Mt)}}).next(()=>Pe.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Kt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function sf(n){return new Pe((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=oM(r.target.error);t(i)}})}let lF=!1;function oM(n){const e=$a.Pt((0,Jt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ne("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return lF||(lF=!0,setTimeout(()=>{throw r},0)),r}}return n}class cF extends aF{constructor(e,t){super(),this.Wt=e,this.currentSequenceNumber=t}}function eo(n,e){const t=et(n);return $a.Dt(t.Wt,e)}class aM{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&EU(l,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&tM(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&tM(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(zt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Hn())}isEqual(e){return this.batchId===e.batchId&&Rm(this.mutations,e.mutations,(t,r)=>RN(t,r))&&Rm(this.baseMutations,e.baseMutations,(t,r)=>RN(t,r))}}class lM{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){xt(e.mutations.length===r.length);let i=BN();const l=e.mutations;for(let u=0;u<l.length;u++)i=i.insert(l[u].key,r[u].version);return new lM(e,t,r,i)}}class ld{constructor(e,t,r,i,l=zt.min(),u=zt.min(),f=pi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f}withSequenceNumber(e){return new ld(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new ld(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ld(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class uF{constructor(e){this.Gt=e}}function cM(n,e){if(e.document)return YN(n.Gt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=ft.fromSegments(e.noDocument.path),r=Gm(e.noDocument.readTime),i=lr.newNoDocument(t,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){const t=ft.fromSegments(e.unknownDocument.path),r=Gm(e.unknownDocument.version);return lr.newUnknownDocument(t,r)}return yt()}function dF(n,e,t){const r=uM(t),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){const l={name:vv(f=n.Gt,(_=e).key),fields:_.data.value.mapValue.fields,updateTime:yv(f,_.version.toTimestamp())};return new Cr(null,null,l,e.hasCommittedMutations,r,i)}var f,_;if(e.isNoDocument()){const l=e.key.path.toArray(),u=zm(e.version),f=e.hasCommittedMutations;return new Cr(null,new GU(l,u),null,f,r,i)}if(e.isUnknownDocument()){const l=e.key.path.toArray(),u=zm(e.version);return new Cr(new qU(l,u),null,null,!0,r,i)}return yt()}function uM(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function hF(n){const e=new fi(n[0],n[1]);return zt.fromTimestamp(e)}function zm(n){const e=n.toTimestamp();return new zU(e.seconds,e.nanoseconds)}function Gm(n){const e=new fi(n.seconds,n.nanoseconds);return zt.fromTimestamp(e)}function qm(n,e){const t=(e.baseMutations||[]).map(l=>QN(n.Gt,l));for(let l=0;l<e.mutations.length-1;++l){const u=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(u.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>QN(n.Gt,l)),i=fi.fromMillis(e.localWriteTimeMs);return new aM(e.batchId,i,t,r)}function wv(n){const e=Gm(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Gm(n.lastLimboFreeSnapshotVersion):zt.min();let r;var i;return void 0!==n.query.documents?(xt(1===(i=n.query).documents.length),r=ha(Fm(WN(i.documents[0])))):r=ha(eF(n.query)),new ld(r,n.targetId,0,n.lastListenSequenceNumber,e,t,pi.fromBase64String(n.resumeToken))}function fF(n,e){const t=zm(e.snapshotVersion),r=zm(e.lastLimboFreeSnapshotVersion);let i;i=X0(e.target)?XN(n.Gt,e.target):JN(n.Gt,e.target);const l=e.resumeToken.toBase64();return new Js(e.targetId,cv(e.target),t,l,e.sequenceNumber,r,i)}function dM(n){const e=eF({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?bN(e,e.limit,"L"):e}class YU{getBundleMetadata(e,t){return pF(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Gm(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return pF(e).put({bundleId:(r=t).id,createTime:zm(mi(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return mF(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:dM(i.bundledQuery),readTime:Gm(i.readTime)};var i})}saveNamedQuery(e,t){return mF(e).put({name:(r=t).name,readTime:zm(mi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function pF(n){return eo(n,Hm.store)}function mF(n){return eo(n,$m.store)}class QU{constructor(){this.zt=new hM}addToCollectionParentIndex(e,t){return this.zt.add(t),Pe.resolve()}getCollectionParents(e,t){return Pe.resolve(this.zt.getEntries(t))}}class hM{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new wr(kn.comparator),l=!i.has(r);return this.index[t]=i.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new wr(kn.comparator)).toArray()}}class XU{constructor(){this.Ht=new hM}addToCollectionParentIndex(e,t){if(!this.Ht.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ht.add(t)});const l={collectionId:r,parent:Ha(i)};return gF(e).put(l)}return Pe.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[oN(t),""],!1,!0);return gF(e).Bt(i).next(l=>{for(const u of l){if(u.collectionId!==t)break;r.push($c(u.parent))}return r})}}function gF(n){return eo(n,nf.store)}const _F={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class to{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new to(e,to.DEFAULT_COLLECTION_PERCENTILE,to.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function yF(n,e,t){const r=n.store(ir.store),i=n.store(os.store),l=[],u=IDBKeyRange.only(t.batchId);let f=0;const _=r.jt({range:u},(T,R,V)=>(f++,V.delete()));l.push(_.next(()=>{xt(1===f)}));const w=[];for(const T of t.mutations){const R=os.key(e,T.key.path,t.batchId);l.push(i.delete(R)),w.push(T.key)}return Pe.waitFor(l).next(()=>w)}function uC(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw yt();e=n.noDocument}return JSON.stringify(e).length}to.DEFAULT_COLLECTION_PERCENTILE=10,to.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,to.DEFAULT=new to(41943040,to.DEFAULT_COLLECTION_PERCENTILE,to.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),to.DISABLED=new to(-1,0,0);class fM{constructor(e,t,r,i){this.userId=e,this.k=t,this.Jt=r,this.referenceDelegate=i,this.Yt={}}static Xt(e,t,r,i){xt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new fM(l,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return cd(e).jt({index:ir.userMutationsIndex,range:r},(i,l,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const l=Wm(e),u=cd(e);return u.add({}).next(f=>{xt("number"==typeof f);const _=new aM(f,t,r,i),w=function(V,H,X){const _e=X.baseMutations.map(pt=>lC(V.Gt,pt)),Re=X.mutations.map(pt=>lC(V.Gt,pt));return new ir(H,X.batchId,X.localWriteTime.toMillis(),_e,Re)}(this.k,this.userId,_),T=[];let R=new wr((V,H)=>rn(V.canonicalString(),H.canonicalString()));for(const V of i){const H=os.key(this.userId,V.key.path,f);R=R.add(V.key.path.popLast()),T.push(u.put(w)),T.push(l.put(H,os.PLACEHOLDER))}return R.forEach(V=>{T.push(this.Jt.addToCollectionParentIndex(e,V))}),e.addOnCommittedListener(()=>{this.Yt[f]=_.keys()}),Pe.waitFor(T).next(()=>_)})}lookupMutationBatch(e,t){return cd(e).get(t).next(r=>r?(xt(r.userId===this.userId),qm(this.k,r)):null)}Zt(e,t){return this.Yt[t]?Pe.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Yt[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return cd(e).jt({index:ir.userMutationsIndex,range:i},(u,f,_)=>{f.userId===this.userId&&(xt(f.batchId>=r),l=qm(this.k,f)),_.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return cd(e).jt({index:ir.userMutationsIndex,range:t,reverse:!0},(i,l,u)=>{r=l.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return cd(e).Bt(ir.userMutationsIndex,t).next(r=>r.map(i=>qm(this.k,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=os.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),l=[];return Wm(e).jt({range:i},(u,f,_)=>{const[w,T,R]=u,V=$c(T);if(w===this.userId&&t.path.isEqual(V))return cd(e).get(R).next(H=>{if(!H)throw yt();xt(H.userId===this.userId),l.push(qm(this.k,H))});_.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new wr(rn);const i=[];return t.forEach(l=>{const u=os.prefixForPath(this.userId,l.path),f=IDBKeyRange.lowerBound(u),_=Wm(e).jt({range:f},(w,T,R)=>{const[V,H,X]=w,_e=$c(H);V===this.userId&&l.path.isEqual(_e)?r=r.add(X):R.done()});i.push(_)}),Pe.waitFor(i).next(()=>this.te(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,l=os.prefixForPath(this.userId,r),u=IDBKeyRange.lowerBound(l);let f=new wr(rn);return Wm(e).jt({range:u},(_,w,T)=>{const[R,V,H]=_,X=$c(V);R===this.userId&&r.isPrefixOf(X)?X.length===i&&(f=f.add(H)):T.done()}).next(()=>this.te(e,f))}te(e,t){const r=[],i=[];return t.forEach(l=>{i.push(cd(e).get(l).next(u=>{if(null===u)throw yt();xt(u.userId===this.userId),r.push(qm(this.k,u))}))}),Pe.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return yF(e.Wt,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.ee(t.batchId)}),Pe.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}ee(e){delete this.Yt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Pe.resolve();const r=IDBKeyRange.lowerBound(os.prefixForUser(this.userId)),i=[];return Wm(e).jt({range:r},(l,u,f)=>{if(l[0]===this.userId){const _=$c(l[1]);i.push(_)}else f.done()}).next(()=>{xt(0===i.length)})})}containsKey(e,t){return vF(e,this.userId,t)}ne(e){return bF(e).get(this.userId).next(t=>t||new ad(this.userId,-1,""))}}function vF(n,e,t){const r=os.prefixForPath(e,t.path),i=r[1],l=IDBKeyRange.lowerBound(r);let u=!1;return Wm(n).jt({range:l,Kt:!0},(f,_,w)=>{const[T,R,V]=f;T===e&&R===i&&(u=!0),w.done()}).next(()=>u)}function cd(n){return eo(n,ir.store)}function Wm(n){return eo(n,os.store)}function bF(n){return eo(n,ad.store)}class af{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new af(0)}static re(){return new af(-1)}}class JU{constructor(e,t){this.referenceDelegate=e,this.k=t}allocateTargetId(e){return this.oe(e).next(t=>{const r=new af(t.highestTargetId);return t.highestTargetId=r.next(),this.ae(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.oe(e).next(t=>zt.fromTimestamp(new fi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.oe(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.oe(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.ae(e,i)))}addTargetData(e,t){return this.ce(e,t).next(()=>this.oe(e).next(r=>(r.targetCount+=1,this.ue(t,r),this.ae(e,r))))}updateTargetData(e,t){return this.ce(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Km(e).delete(t.targetId)).next(()=>this.oe(e)).next(r=>(xt(r.targetCount>0),r.targetCount-=1,this.ae(e,r)))}removeTargets(e,t,r){let i=0;const l=[];return Km(e).jt((u,f)=>{const _=wv(f);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,l.push(this.removeTargetData(e,_)))}).next(()=>Pe.waitFor(l)).next(()=>i)}forEachTarget(e,t){return Km(e).jt((r,i)=>{const l=wv(i);t(l)})}oe(e){return EF(e).get(Po.key).next(t=>(xt(null!==t),t))}ae(e,t){return EF(e).put(Po.key,t)}ce(e,t){return Km(e).put(fF(this.k,t))}ue(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.oe(e).next(t=>t.targetCount)}getTargetData(e,t){const r=cv(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return Km(e).jt({range:i,index:Js.queryTargetsIndexName},(u,f,_)=>{const w=wv(f);Q0(t,w.target)&&(l=w,_.done())}).next(()=>l)}addMatchingKeys(e,t,r){const i=[],l=ud(e);return t.forEach(u=>{const f=Ha(u.path);i.push(l.put(new Hi(r,f))),i.push(this.referenceDelegate.addReference(e,r,u))}),Pe.waitFor(i)}removeMatchingKeys(e,t,r){const i=ud(e);return Pe.forEach(t,l=>{const u=Ha(l.path);return Pe.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=ud(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=ud(e);let l=Hn();return i.jt({range:r,Kt:!0},(u,f,_)=>{const w=$c(u[1]),T=new ft(w);l=l.add(T)}).next(()=>l)}containsKey(e,t){const r=Ha(t.path),i=IDBKeyRange.bound([r],[oN(r)],!1,!0);let l=0;return ud(e).jt({index:Hi.documentTargetsIndex,Kt:!0,range:i},([u,f],_,w)=>{0!==u&&(l++,w.done())}).next(()=>l>0)}Et(e,t){return Km(e).get(t).next(r=>r?wv(r):null)}}function Km(n){return eo(n,Js.store)}function EF(n){return eo(n,Po.store)}function ud(n){return eo(n,Hi.store)}function lf(n){return pM.apply(this,arguments)}function pM(){return pM=(0,Ie.Z)(function*(n){if(n.code!==pe.FAILED_PRECONDITION||n.message!==oF)throw n;$e("LocalStore","Unexpectedly lost primary lease")}),pM.apply(this,arguments)}function wF([n,e],[t,r]){const i=rn(n,t);return 0===i?rn(e,r):i}class e2{constructor(e){this.he=e,this.buffer=new wr(wF),this.le=0}fe(){return++this.le}de(e){const t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();wF(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class t2{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){var t=this;const r=this.we?3e5:6e4;$e("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,Ie.Z)(function*(){t._e=null,t.we=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){rf(i)?$e("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield lf(i)}yield t.me(e)}))}}class n2{constructor(e,t){this.ge=e,this.params=t}calculateTargetCount(e,t){return this.ge.ye(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Pe.resolve(ko.I);const r=new e2(t);return this.ge.forEachTarget(e,i=>r.de(i.sequenceNumber)).next(()=>this.ge.pe(e,i=>r.de(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.ge.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.ge.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector","Garbage collection skipped; disabled"),Pe.resolve(_F)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_F):this.Te(e,t))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(e,t){let r,i,l,u,f,_,w;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?($e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),i=this.params.maximumSequenceNumbersToCollect):i=R,u=Date.now(),this.nthSequenceNumber(e,i))).next(R=>(r=R,f=Date.now(),this.removeTargets(e,r,t))).next(R=>(l=R,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(R=>(w=Date.now(),zS()<=td.in.DEBUG&&$e("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-T}ms\n\tDetermined least recently used ${i} in `+(f-u)+`ms\n\tRemoved ${l} targets in `+(_-f)+`ms\n\tRemoved ${R} documents in `+(w-_)+`ms\nTotal Duration: ${w-T}ms`),Pe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:R})))}}class r2{constructor(e,t){this.db=e,this.garbageCollector=new n2(this,t)}ye(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Ee(e){let t=0;return this.pe(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pe(e,t){return this.Ie(e,(r,i)=>t(i))}addReference(e,t,r){return dC(e,r)}removeReference(e,t,r){return dC(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return dC(e,t)}Ae(e,t){return function(r,i){let l=!1;return bF(r).Qt(u=>vF(r,u,i).next(f=>(f&&(l=!0),Pe.resolve(!f)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let l=0;return this.Ie(e,(u,f)=>{if(f<=t){const _=this.Ae(e,u).next(w=>{if(!w)return l++,r.getEntry(e,u).next(()=>(r.removeEntry(u),ud(e).delete([0,Ha(u.path)])))});i.push(_)}}).next(()=>Pe.waitFor(i)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return dC(e,t)}Ie(e,t){const r=ud(e);let i,l=ko.I;return r.jt({index:Hi.documentTargetsIndex},([u,f],{path:_,sequenceNumber:w})=>{0===u?(l!==ko.I&&t(new ft($c(i)),l),l=w,i=_):l=ko.I}).next(()=>{l!==ko.I&&t(new ft($c(i)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function dC(n,e){return ud(n).put((r=n.currentSequenceNumber,new Hi(0,Ha(e.path),r)));var r}class Zm{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,l]of r)if(this.equalsFn(i,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0!==i){for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,t]);i.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),!0;return!1}forEach(e){Qh(this.inner,(t,r)=>{for(const[i,l]of r)e(i,l)})}isEmpty(){return lN(this.inner)}}class CF{constructor(){this.changes=new Zm(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:zt.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:lr.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Pe.resolve(r.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class s2{constructor(e,t){this.k=e,this.Jt=t}addEntry(e,t,r){return dd(e).put(hC(t),r)}removeEntry(e,t){const r=dd(e),i=hC(t);return r.delete(i)}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Re(e,r)))}getEntry(e,t){return dd(e).get(hC(t)).next(r=>this.Pe(t,r))}be(e,t){return dd(e).get(hC(t)).next(r=>({document:this.Pe(t,r),size:uC(r)}))}getEntries(e,t){let r=fa();return this.ve(e,t,(i,l)=>{const u=this.Pe(i,l);r=r.insert(i,u)}).next(()=>r)}Ve(e,t){let r=fa(),i=new Qr(ft.comparator);return this.ve(e,t,(l,u)=>{const f=this.Pe(l,u);r=r.insert(l,f),i=i.insert(l,uC(u))}).next(()=>({documents:r,Se:i}))}ve(e,t,r){if(t.isEmpty())return Pe.resolve();const i=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),l=t.getIterator();let u=l.getNext();return dd(e).jt({range:i},(f,_,w)=>{const T=ft.fromSegments(f);for(;u&&ft.comparator(u,T)<0;)r(u,null),u=l.getNext();u&&u.isEqual(T)&&(r(u,_),u=l.hasNext()?l.getNext():null),u?w.Lt(u.path.toArray()):w.done()}).next(()=>{for(;u;)r(u,null),u=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r){let i=fa();const l=t.path.length+1,u={};if(r.isEqual(zt.min())){const f=t.path.toArray();u.range=IDBKeyRange.lowerBound(f)}else{const f=t.path.toArray(),_=uM(r);u.range=IDBKeyRange.lowerBound([f,_],!0),u.index=Cr.collectionReadTimeIndex}return dd(e).jt(u,(f,_,w)=>{if(f.length!==l)return;const T=cM(this.k,_);t.path.isPrefixOf(T.key.path)?hv(t,T)&&(i=i.insert(T.key,T)):w.done()}).next(()=>i)}newChangeBuffer(e){return new o2(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return DF(e).get(kl.key).next(t=>(xt(!!t),t))}Re(e,t){return DF(e).put(kl.key,t)}Pe(e,t){if(t){const r=cM(this.k,t);if(!r.isNoDocument()||!r.version.isEqual(zt.min()))return r}return lr.newInvalidDocument(e)}}class o2 extends CF{constructor(e,t){super(),this.De=e,this.trackRemovals=t,this.Ce=new Zm(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new wr((l,u)=>rn(l.canonicalString(),u.canonicalString()));return this.changes.forEach((l,u)=>{const f=this.Ce.get(l);if(u.document.isValidDocument()){const _=dF(this.De.k,u.document,this.getReadTime(l));i=i.add(l.path.popLast()),r+=uC(_)-f,t.push(this.De.addEntry(e,l,_))}else if(r-=f,this.trackRemovals){const _=dF(this.De.k,lr.newNoDocument(l,zt.min()),this.getReadTime(l));t.push(this.De.addEntry(e,l,_))}else t.push(this.De.removeEntry(e,l))}),i.forEach(l=>{t.push(this.De.Jt.addToCollectionParentIndex(e,l))}),t.push(this.De.updateMetadata(e,r)),Pe.waitFor(t)}getFromCache(e,t){return this.De.be(e,t).next(r=>(this.Ce.set(t,r.size),r.document))}getAllFromCache(e,t){return this.De.Ve(e,t).next(({documents:r,Se:i})=>(i.forEach((l,u)=>{this.Ce.set(l,u)}),r))}}function DF(n){return eo(n,kl.store)}function dd(n){return eo(n,Cr.store)}function hC(n){return n.path.toArray()}class a2{constructor(e){this.k=e}Nt(e,t,r,i){xt(r<i&&r>=0&&i<=11);const l=new cC("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore(Oo.store),(f=e).createObjectStore(ad.store,{keyPath:ad.keyPath}),f.createObjectStore(ir.store,{keyPath:ir.keyPath,autoIncrement:!0}).createIndex(ir.userMutationsIndex,ir.userMutationsKeyPath,{unique:!0}),f.createObjectStore(os.store),IF(e),function(f){f.createObjectStore(Cr.store)}(e));let u=Pe.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore(Hi.store),f.deleteObjectStore(Js.store),f.deleteObjectStore(Po.store)}(e),IF(e)),u=u.next(()=>function(f){const _=f.store(Po.store),w=new Po(0,0,zt.min().toTimestamp(),0);return _.put(Po.key,w)}(l))),r<4&&i>=4&&(0!==r&&(u=u.next(()=>function(f,_){return _.store(ir.store).Bt().next(w=>{f.deleteObjectStore(ir.store),f.createObjectStore(ir.store,{keyPath:ir.keyPath,autoIncrement:!0}).createIndex(ir.userMutationsIndex,ir.userMutationsKeyPath,{unique:!0});const T=_.store(ir.store),R=w.map(V=>T.put(V));return Pe.waitFor(R)})}(e,l))),u=u.next(()=>{!function(f){f.createObjectStore(zc.store,{keyPath:zc.keyPath})}(e)})),r<5&&i>=5&&(u=u.next(()=>this.Ne(l))),r<6&&i>=6&&(u=u.next(()=>(function(f){f.createObjectStore(kl.store)}(e),this.ke(l)))),r<7&&i>=7&&(u=u.next(()=>this.xe(l))),r<8&&i>=8&&(u=u.next(()=>this.$e(e,l))),r<9&&i>=9&&(u=u.next(()=>{(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(e),function(f){const _=f.objectStore(Cr.store);_.createIndex(Cr.readTimeIndex,Cr.readTimeIndexPath,{unique:!1}),_.createIndex(Cr.collectionReadTimeIndex,Cr.collectionReadTimeIndexPath,{unique:!1})}(t)})),r<10&&i>=10&&(u=u.next(()=>this.Fe(l))),r<11&&i>=11&&(u=u.next(()=>{(function(f){f.createObjectStore(Hm.store,{keyPath:Hm.keyPath})})(e),function(f){f.createObjectStore($m.store,{keyPath:$m.keyPath})}(e)})),u}ke(e){let t=0;return e.store(Cr.store).jt((r,i)=>{t+=uC(i)}).next(()=>{const r=new kl(t);return e.store(kl.store).put(kl.key,r)})}Ne(e){const t=e.store(ad.store),r=e.store(ir.store);return t.Bt().next(i=>Pe.forEach(i,l=>{const u=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.Bt(ir.userMutationsIndex,u).next(f=>Pe.forEach(f,_=>{xt(_.userId===l.userId);const w=qm(this.k,_);return yF(e,l.userId,w).next(()=>{})}))}))}xe(e){const t=e.store(Hi.store),r=e.store(Cr.store);return e.store(Po.store).get(Po.key).next(i=>{const l=[];return r.jt((u,f)=>{const _=new kn(u),w=[0,Ha(_)];l.push(t.get(w).next(T=>T?Pe.resolve():t.put(new Hi(0,Ha(_),i.highestListenSequenceNumber))))}).next(()=>Pe.waitFor(l))})}$e(e,t){e.createObjectStore(nf.store,{keyPath:nf.keyPath});const r=t.store(nf.store),i=new hM,l=u=>{if(i.add(u)){const f=u.lastSegment(),_=u.popLast();return r.put({collectionId:f,parent:Ha(_)})}};return t.store(Cr.store).jt({Kt:!0},(u,f)=>{const _=new kn(u);return l(_.popLast())}).next(()=>t.store(os.store).jt({Kt:!0},([u,f,_],w)=>{const T=$c(f);return l(T.popLast())}))}Fe(e){const t=e.store(Js.store);return t.jt((r,i)=>{const l=wv(i),u=fF(this.k,l);return t.put(u)})}}function IF(n){n.createObjectStore(Hi.store,{keyPath:Hi.keyPath}).createIndex(Hi.documentTargetsIndex,Hi.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(Js.store,{keyPath:Js.keyPath}).createIndex(Js.queryTargetsIndexName,Js.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(Po.store)}const mM="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class gM{constructor(e,t,r,i,l,u,f,_,w,T){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Oe=l,this.window=u,this.document=f,this.Me=w,this.Le=T,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=R=>Promise.resolve(),!gM.bt())throw new Ne(pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new r2(this,i),this.Ge=t+"main",this.k=new uF(_),this.ze=new $a(this.Ge,11,new a2(this.k)),this.He=new JU(this.referenceDelegate,this.k),this.Jt=new XU,this.Je=new s2(this.k,this.Jt),this.Ye=new YU,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===T&&Lr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ne(pe.FAILED_PRECONDITION,mM);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.He.getHighestSequenceNumber(e))}).then(e=>{this.Be=new ko(e,this.Me)}).then(()=>{this.Ue=!0}).catch(e=>(this.ze&&this.ze.close(),Promise.reject(e)))}sn(e){var t=this;return this.We=function(){var r=(0,Ie.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ze.xt(function(){var t=(0,Ie.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,Ie.Z)(function*(){t.started&&(yield t.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>fC(e).put(new zc(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(e).next(t=>{t||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(e)).next(t=>this.isPrimary&&!t?this.an(e).next(()=>!1):!!t&&this.cn(e).next(()=>!0))).catch(e=>{if(rf(e))return $e("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return $e("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.We(e)),this.isPrimary=e})}rn(e){return Cv(e).get(Oo.key).next(t=>Pe.resolve(this.un(t)))}hn(e){return fC(e).delete(this.clientId)}ln(){var e=this;return(0,Ie.Z)(function*(){if(e.isPrimary&&!e.fn(e.Qe,18e5)){e.Qe=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=eo(r,zc.store);return i.Bt().next(l=>{const u=e.dn(l,18e5),f=l.filter(_=>-1===u.indexOf(_));return Pe.forEach(f,_=>i.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e.Xe)for(const r of t)e.Xe.removeItem(e.wn(r.clientId))}})()}nn(){this.je=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(e){return!!e&&e.ownerId===this.clientId}on(e){return this.Le?Pe.resolve(!0):Cv(e).get(Oo.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)){if(this.un(t)&&this.networkEnabled)return!0;if(!this.un(t)){if(!t.allowTabSynchronization)throw new Ne(pe.FAILED_PRECONDITION,mM);return!1}}return!(!this.networkEnabled||!this.inForeground)||fC(e).Bt().next(r=>void 0===this.dn(r,5e3).find(i=>{if(this.clientId!==i.clientId){const u=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||u&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&$e("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ie.Z)(function*(){e.Ue=!1,e.mn(),e.je&&(e.je.cancel(),e.je=null),e.gn(),e.yn(),yield e.ze.runTransaction("shutdown","readwrite",[Oo.store,zc.store],t=>{const r=new cF(t,ko.I);return e.an(r).next(()=>e.hn(r))}),e.ze.close(),e.pn()})()}dn(e,t){return e.filter(r=>this.fn(r.updateTimeMs,t)&&!this._n(r.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",e=>fC(e).Bt().next(t=>this.dn(t,18e5).map(r=>r.clientId)))}get started(){return this.Ue}getMutationQueue(e){return fM.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(e,t,r){let l;return $e("IndexedDbPersistence","Starting transaction:",e),this.ze.runTransaction(e,"readonly"===t?"readonly":"readwrite",WU,u=>(l=new cF(u,this.Be?this.Be.next():ko.I),"readwrite-primary"===t?this.rn(l).next(f=>!!f||this.on(l)).next(f=>{if(!f)throw Lr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.We(!1)),new Ne(pe.FAILED_PRECONDITION,oF);return r(l)}).next(f=>this.cn(l).next(()=>f)):this.En(l).next(()=>r(l)))).then(u=>(l.raiseOnCommittedEvent(),u))}En(e){return Cv(e).get(Oo.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)&&!this.un(t)&&!(this.Le||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ne(pe.FAILED_PRECONDITION,mM)})}cn(e){const t=new Oo(this.clientId,this.allowTabSynchronization,Date.now());return Cv(e).put(Oo.key,t)}static bt(){return $a.bt()}an(e){const t=Cv(e);return t.get(Oo.key).next(r=>this.un(r)?($e("IndexedDbPersistence","Releasing primary lease."),t.delete(Oo.key)):Pe.resolve())}fn(e,t){const r=Date.now();return!(e<r-t||e>r&&(Lr(`Detected an update time that is in the future: ${e} > ${r}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),(0,Jt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var t;try{const r=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return $e("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Lr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){Lr("Failed to set zombie client id.",e)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}wn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Cv(n){return eo(n,Oo.store)}function fC(n){return eo(n,zc.store)}function _M(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class l2{constructor(e,t){this.progress=e,this.In=t}}class TF{constructor(e,t,r){this.Je=e,this.An=t,this.Jt=r}Rn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Pn(e,t,r))}Pn(e,t,r){return this.Je.getEntry(e,t).next(i=>{for(const l of r)l.applyToLocalView(i);return i})}bn(e,t){e.forEach((r,i)=>{for(const l of t)l.applyToLocalView(i)})}vn(e,t){return this.Je.getEntries(e,t).next(r=>this.Vn(e,r).next(()=>r))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.bn(t,r))}getDocumentsMatchingQuery(e,t,r){return ft.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.Sn(e,t.path):JS(t)?this.Dn(e,t,r):this.Cn(e,t,r);var i}Sn(e,t){return this.Rn(e,new ft(t)).next(r=>{let i=rM();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Dn(e,t,r){const i=t.collectionGroup;let l=rM();return this.Jt.getCollectionParents(e,i).next(u=>Pe.forEach(u,f=>{const _=(w=t,T=f.child(i),new Hc(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,T;return this.Cn(e,_,r).next(w=>{w.forEach((T,R)=>{l=l.insert(T,R)})})}).next(()=>l))}Cn(e,t,r){let i,l;return this.Je.getDocumentsMatchingQuery(e,t,r).next(u=>(i=u,this.An.getAllMutationBatchesAffectingQuery(e,t))).next(u=>(l=u,this.Nn(e,l,i).next(f=>{i=f;for(const _ of l)for(const w of _.mutations){const T=w.key;let R=i.get(T);null==R&&(R=lr.newInvalidDocument(T),i=i.insert(T,R)),tM(w,R,_.localWriteTime),R.isFoundDocument()||(i=i.remove(T))}}))).next(()=>(i.forEach((u,f)=>{hv(t,f)||(i=i.remove(u))}),i))}Nn(e,t,r){let i=Hn();for(const u of t)for(const f of u.mutations)f instanceof od&&null===r.get(f.key)&&(i=i.add(f.key));let l=r;return this.Je.getEntries(e,i).next(u=>(u.forEach((f,_)=>{_.isFoundDocument()&&(l=l.insert(f,_))}),l))}}class yM{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.kn=r,this.xn=i}static $n(e,t){let r=Hn(),i=Hn();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new yM(e,t.fromCache,r,i)}}class AF{Fn(e){this.On=e}getDocumentsMatchingQuery(e,t,r,i){return 0===(l=t).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||r.isEqual(zt.min())?this.Mn(e,t):this.On.vn(e,i).next(l=>{const u=this.Ln(t,l);return(eC(t)||tC(t))&&this.Bn(t.limitType,u,i,r)?this.Mn(e,t):(zS()<=td.in.DEBUG&&$e("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),eM(t)),this.On.getDocumentsMatchingQuery(e,t,r).next(f=>(u.forEach(_=>{f=f.insert(_.key,_)}),f)))});var l}Ln(e,t){let r=new wr(wN(e));return t.forEach((i,l)=>{hv(e,l)&&(r=r.add(l))}),r}Bn(e,t,r,i){if(r.size!==t.size)return!0;const l="F"===e?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}Mn(e,t){return zS()<=td.in.DEBUG&&$e("QueryEngine","Using full collection scan to execute query:",eM(t)),this.On.getDocumentsMatchingQuery(e,t,zt.min())}}class c2{constructor(e,t,r,i){this.persistence=e,this.Un=t,this.k=i,this.qn=new Qr(rn),this.Kn=new Zm(l=>cv(l),Q0),this.jn=zt.min(),this.An=e.getMutationQueue(r),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new TF(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.Fn(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qn))}}function SF(n,e,t,r){return new c2(n,e,t,r)}function MF(n,e){return vM.apply(this,arguments)}function vM(){return vM=(0,Ie.Z)(function*(n,e){const t=et(n);let r=t.An,i=t.Wn;const l=yield t.persistence.runTransaction("Handle user change","readonly",u=>{let f;return t.An.getAllMutationBatches(u).next(_=>(f=_,r=t.persistence.getMutationQueue(e),i=new TF(t.Qn,r,t.persistence.getIndexManager()),r.getAllMutationBatches(u))).next(_=>{const w=[],T=[];let R=Hn();for(const V of f){w.push(V.batchId);for(const H of V.mutations)R=R.add(H.key)}for(const V of _){T.push(V.batchId);for(const H of V.mutations)R=R.add(H.key)}return i.vn(u,R).next(V=>({Gn:V,removedBatchIds:w,addedBatchIds:T}))})});return t.An=r,t.Wn=i,t.Un.Fn(t.Wn),l}),vM.apply(this,arguments)}function u2(n,e){const t=et(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),l=t.Qn.newChangeBuffer({trackRemovals:!0});return function(u,f,_,w){const T=_.batch,R=T.keys();let V=Pe.resolve();return R.forEach(H=>{V=V.next(()=>w.getEntry(f,H)).next(X=>{const _e=_.docVersions.get(H);xt(null!==_e),X.version.compareTo(_e)<0&&(T.applyToRemoteDocument(X,_),X.isValidDocument()&&w.addEntry(X,_.commitVersion))})}),V.next(()=>u.An.removeMutationBatch(f,T))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.An.performConsistencyCheck(r)).next(()=>t.Wn.vn(r,i))})}function xF(n){const e=et(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.He.getLastRemoteSnapshotVersion(t))}function d2(n,e){const t=et(n),r=e.snapshotVersion;let i=t.qn;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=t.Qn.newChangeBuffer({trackRemovals:!0});i=t.qn;const f=[];e.targetChanges.forEach((w,T)=>{const R=i.get(T);if(!R)return;f.push(t.He.removeMatchingKeys(l,w.removedDocuments,T).next(()=>t.He.addMatchingKeys(l,w.addedDocuments,T)));const V=w.resumeToken;if(V.approximateByteSize()>0){const H=R.withResumeToken(V,r).withSequenceNumber(l.currentSequenceNumber);i=i.insert(T,H),X=R,Re=w,xt((_e=H).resumeToken.approximateByteSize()>0),(0===X.resumeToken.approximateByteSize()||_e.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=3e8||Re.addedDocuments.size+Re.modifiedDocuments.size+Re.removedDocuments.size>0)&&f.push(t.He.updateTargetData(l,H))}var X,_e,Re});let _=fa();if(e.documentUpdates.forEach((w,T)=>{e.resolvedLimboDocuments.has(w)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,w))}),f.push(RF(l,u,e.documentUpdates,r,void 0).next(w=>{_=w})),!r.isEqual(zt.min())){const w=t.He.getLastRemoteSnapshotVersion(l).next(T=>t.He.setTargetsMetadata(l,l.currentSequenceNumber,r));f.push(w)}return Pe.waitFor(f).next(()=>u.apply(l)).next(()=>t.Wn.Vn(l,_)).next(()=>_)}).then(l=>(t.qn=i,l))}function RF(n,e,t,r,i){let l=Hn();return t.forEach(u=>l=l.add(u)),e.getEntries(n,l).next(u=>{let f=fa();return t.forEach((_,w)=>{const T=u.get(_),R=(null==i?void 0:i.get(_))||r;w.isNoDocument()&&w.version.isEqual(zt.min())?(e.removeEntry(_,R),f=f.insert(_,w)):!T.isValidDocument()||w.version.compareTo(T.version)>0||0===w.version.compareTo(T.version)&&T.hasPendingWrites?(e.addEntry(w,R),f=f.insert(_,w)):$e("LocalStore","Ignoring outdated watch update for ",_,". Current version:",T.version," Watch version:",w.version)}),f})}function h2(n,e){const t=et(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.An.getNextMutationBatchAfterBatchId(r,e)))}function Ym(n,e){const t=et(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.He.getTargetData(r,e).next(l=>l?(i=l,Pe.resolve(i)):t.He.allocateTargetId(r).next(u=>(i=new ld(e,u,0,r.currentSequenceNumber),t.He.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.qn.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.qn=t.qn.insert(r.targetId,r),t.Kn.set(e,r.targetId)),r})}function Qm(n,e,t){return bM.apply(this,arguments)}function bM(){return bM=(0,Ie.Z)(function*(n,e,t){const r=et(n),i=r.qn.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,u=>r.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!rf(u))throw u;$e("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.qn=r.qn.remove(e),r.Kn.delete(i.target)}),bM.apply(this,arguments)}function pC(n,e,t){const r=et(n);let i=zt.min(),l=Hn();return r.persistence.runTransaction("Execute query","readonly",u=>function(f,_,w){const T=et(f),R=T.Kn.get(w);return void 0!==R?Pe.resolve(T.qn.get(R)):T.He.getTargetData(_,w)}(r,u,ha(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(u,f.targetId).next(_=>{l=_})}).next(()=>r.Un.getDocumentsMatchingQuery(u,e,t?i:zt.min(),t?l:Hn())).next(f=>({documents:f,zn:l})))}function kF(n,e){const t=et(n),r=et(t.He),i=t.qn.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",l=>r.Et(l,e).next(u=>u?u.target:null))}function OF(n){const e=et(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(r,i,l){const u=et(r);let f=fa(),_=uM(l);const w=dd(i),T=IDBKeyRange.lowerBound(_,!0);return w.jt({index:Cr.readTimeIndex,range:T},(R,V)=>{const H=cM(u.k,V);f=f.insert(H.key,H),_=V.readTime}).next(()=>({In:f,readTime:hF(_)}))}(e.Qn,t,e.jn)).then(({In:t,readTime:r})=>(e.jn=r,t))}function EM(){return EM=(0,Ie.Z)(function*(n){const e=et(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(r){const i=dd(r);let l=zt.min();return i.jt({index:Cr.readTimeIndex,reverse:!0},(u,f,_)=>{f.readTime&&(l=hF(f.readTime)),_.done()}).next(()=>l)}(t)).then(t=>{e.jn=t})}),EM.apply(this,arguments)}function wM(){return wM=(0,Ie.Z)(function*(n,e,t,r){const i=et(n);let l=Hn(),u=fa(),f=BN();for(const T of t){const R=e.Hn(T.metadata.name);T.document&&(l=l.add(R)),u=u.insert(R,e.Jn(T)),f=f.insert(R,e.Yn(T.metadata.readTime))}const _=i.Qn.newChangeBuffer({trackRemovals:!0}),w=yield Ym(i,(T=r,ha(Fm(kn.fromString(`__bundle__/docs/${T}`)))));var T;return i.persistence.runTransaction("Apply bundle documents","readwrite",T=>RF(T,_,u,zt.min(),f).next(R=>(_.apply(T),R)).next(R=>i.He.removeMatchingKeysForTargetId(T,w.targetId).next(()=>i.He.addMatchingKeys(T,l,w.targetId)).next(()=>i.Wn.Vn(T,R)).next(()=>R)))}),wM.apply(this,arguments)}function m2(n,e){return CM.apply(this,arguments)}function CM(){return CM=(0,Ie.Z)(function*(n,e,t=Hn()){const r=yield Ym(n,ha(dM(e.bundledQuery))),i=et(n);return i.persistence.runTransaction("Save named query","readwrite",l=>{const u=mi(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.Ye.saveNamedQuery(l,e);const f=r.withResumeToken(pi.EMPTY_BYTE_STRING,u);return i.qn=i.qn.insert(f.targetId,f),i.He.updateTargetData(l,f).next(()=>i.He.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>i.He.addMatchingKeys(l,t,r.targetId)).next(()=>i.Ye.saveNamedQuery(l,e))})}),CM.apply(this,arguments)}class g2{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return Pe.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){var r;return this.Xn.set(t.id,{id:(r=t).id,version:r.version,createTime:mi(r.createTime)}),Pe.resolve()}getNamedQuery(e,t){return Pe.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,{name:(r=t).name,query:dM(r.bundledQuery),readTime:mi(r.readTime)}),Pe.resolve();var r}}class DM{constructor(){this.ts=new wr(gi.es),this.ns=new wr(gi.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){const r=new gi(e,t);this.ts=this.ts.add(r),this.ns=this.ns.add(r)}rs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.os(new gi(e,t))}cs(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new ft(new kn([])),r=new gi(t,e),i=new gi(t,e+1),l=[];return this.ns.forEachInRange([r,i],u=>{this.os(u),l.push(u.key)}),l}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const t=new ft(new kn([])),r=new gi(t,e),i=new gi(t,e+1);let l=Hn();return this.ns.forEachInRange([r,i],u=>{l=l.add(u.key)}),l}containsKey(e){const t=new gi(e,0),r=this.ts.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class gi{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return ft.comparator(e.key,t.key)||rn(e.fs,t.fs)}static ss(e,t){return rn(e.fs,t.fs)||ft.comparator(e.key,t.key)}}class _2{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new wr(gi.es)}checkEmpty(e){return Pe.resolve(0===this.An.length)}addMutationBatch(e,t,r,i){const l=this.ds;this.ds++;const u=new aM(l,t,r,i);this.An.push(u);for(const f of i)this.ws=this.ws.add(new gi(f.key,l)),this.Jt.addToCollectionParentIndex(e,f.key.path.popLast());return Pe.resolve(u)}lookupMutationBatch(e,t){return Pe.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.gs(t+1),l=i<0?0:i;return Pe.resolve(this.An.length>l?this.An[l]:null)}getHighestUnacknowledgedBatchId(){return Pe.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return Pe.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new gi(t,0),i=new gi(t,Number.POSITIVE_INFINITY),l=[];return this.ws.forEachInRange([r,i],u=>{const f=this._s(u.fs);l.push(f)}),Pe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new wr(rn);return t.forEach(i=>{const l=new gi(i,0),u=new gi(i,Number.POSITIVE_INFINITY);this.ws.forEachInRange([l,u],f=>{r=r.add(f.fs)})}),Pe.resolve(this.ys(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let l=r;ft.isDocumentKey(l)||(l=l.child(""));const u=new gi(new ft(l),0);let f=new wr(rn);return this.ws.forEachWhile(_=>{const w=_.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(f=f.add(_.fs)),!0)},u),Pe.resolve(this.ys(f))}ys(e){const t=[];return e.forEach(r=>{const i=this._s(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){xt(0===this.ps(t.batchId,"removed")),this.An.shift();let r=this.ws;return Pe.forEach(t.mutations,i=>{const l=new gi(i.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ws=r})}ee(e){}containsKey(e,t){const r=new gi(t,0),i=this.ws.firstAfterOrEqual(r);return Pe.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return Pe.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}class y2{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new Qr(ft.comparator),this.size=0}addEntry(e,t,r){const i=t.key,l=this.docs.get(i),u=l?l.size:0,f=this.Ts(t);return this.docs=this.docs.insert(i,{document:t.clone(),size:f,readTime:r}),this.size+=f-u,this.Jt.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Pe.resolve(r?r.document.clone():lr.newInvalidDocument(t))}getEntries(e,t){let r=fa();return t.forEach(i=>{const l=this.docs.get(i);r=r.insert(i,l?l.document.clone():lr.newInvalidDocument(i))}),Pe.resolve(r)}getDocumentsMatchingQuery(e,t,r){let i=fa();const l=new ft(t.path.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:f,value:{document:_,readTime:w}}=u.getNext();if(!t.path.isPrefixOf(f.path))break;w.compareTo(r)<=0||hv(t,_)&&(i=i.insert(_.key,_.clone()))}return Pe.resolve(i)}Es(e,t){return Pe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new v2(this)}getSize(e){return Pe.resolve(this.size)}}class v2 extends CF{constructor(e){super(),this.De=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.document.isValidDocument()?t.push(this.De.addEntry(e,i.document,this.getReadTime(r))):this.De.removeEntry(r)}),Pe.waitFor(t)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}class b2{constructor(e){this.persistence=e,this.Is=new Zm(t=>cv(t),Q0),this.lastRemoteSnapshotVersion=zt.min(),this.highestTargetId=0,this.As=0,this.Rs=new DM,this.targetCount=0,this.Ps=af.ie()}forEachTarget(e,t){return this.Is.forEach((r,i)=>t(i)),Pe.resolve()}getLastRemoteSnapshotVersion(e){return Pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Pe.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.Ps.next(),Pe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.As&&(this.As=t),Pe.resolve()}ce(e){this.Is.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ps=new af(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ce(t),this.targetCount+=1,Pe.resolve()}updateTargetData(e,t){return this.ce(t),Pe.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,Pe.resolve()}removeTargets(e,t,r){let i=0;const l=[];return this.Is.forEach((u,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Is.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),Pe.waitFor(l).next(()=>i)}getTargetCount(e){return Pe.resolve(this.targetCount)}getTargetData(e,t){const r=this.Is.get(t)||null;return Pe.resolve(r)}addMatchingKeys(e,t,r){return this.Rs.rs(t,r),Pe.resolve()}removeMatchingKeys(e,t,r){this.Rs.cs(t,r);const i=this.persistence.referenceDelegate,l=[];return i&&t.forEach(u=>{l.push(i.markPotentiallyOrphaned(e,u))}),Pe.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),Pe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Rs.ls(t);return Pe.resolve(r)}containsKey(e,t){return Pe.resolve(this.Rs.containsKey(t))}}class E2{constructor(e,t){this.bs={},this.Be=new ko(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new b2(this),this.Jt=new QU,this.Je=new y2(this.Jt,r=>this.referenceDelegate.vs(r)),this.k=new uF(t),this.Ye=new g2(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new _2(this.Jt,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,r){$e("MemoryPersistence","Starting transaction:",e);const i=new w2(this.Be.next());return this.referenceDelegate.Vs(),r(i).next(l=>this.referenceDelegate.Ss(i).next(()=>l)).toPromise().then(l=>(i.raiseOnCommittedEvent(),l))}Ds(e,t){return Pe.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class w2 extends aF{constructor(e){super(),this.currentSequenceNumber=e}}class IM{constructor(e){this.persistence=e,this.Cs=new DM,this.Ns=null}static ks(e){return new IM(e)}get xs(){if(this.Ns)return this.Ns;throw yt()}addReference(e,t,r){return this.Cs.addReference(r,t),this.xs.delete(r.toString()),Pe.resolve()}removeReference(e,t,r){return this.Cs.removeReference(r,t),this.xs.add(r.toString()),Pe.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Pe.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach(i=>this.xs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(l=>this.xs.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}Vs(){this.Ns=new Set}Ss(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pe.forEach(this.xs,r=>{const i=ft.fromPath(r);return this.$s(e,i).next(l=>{l||t.removeEntry(i)})}).next(()=>(this.Ns=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.xs.delete(t.toString()):this.xs.add(t.toString())})}vs(e){return 0}$s(e,t){return Pe.or([()=>Pe.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}function PF(n,e){return`firestore_clients_${n}_${e}`}function NF(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function TM(n,e){return`firestore_targets_${n}_${e}`}class mC{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Fs(e,t,r){const i=JSON.parse(r);let l,u="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return u&&i.error&&(u="string"==typeof i.error.message&&"string"==typeof i.error.code,u&&(l=new Ne(i.error.code,i.error.message))),u?new mC(e,t,i.state,l):(Lr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Dv{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Fs(e,t){const r=JSON.parse(t);let i,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(i=new Ne(r.error.code,r.error.message))),l?new Dv(e,r.state,i):(Lr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class gC{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Fs(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,l=oC();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=uN(r.activeTargetIds[u]),l=l.add(r.activeTargetIds[u]);return i?new gC(e,l):(Lr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class AM{constructor(e,t){this.clientId=e,this.onlineState=t}static Fs(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new AM(t.clientId,t.onlineState):(Lr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class SM{constructor(){this.activeTargetIds=oC()}Ms(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MM{constructor(e,t,r,i,l){this.window=e,this.Oe=t,this.persistenceKey=r,this.Bs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new Qr(rn),this.started=!1,this.js=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.Qs=PF(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new SM),this.Gs=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(f){return`firestore_bundle_loaded_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static bt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ie.Z)(function*(){const t=yield e.syncEngine.Tn();for(const i of t){if(i===e.Bs)continue;const l=e.getItem(PF(e.persistenceKey,i));if(l){const u=gC.Fs(i,l);u&&(e.Ks=e.Ks.insert(u.clientId,u))}}e.Xs();const r=e.storage.getItem(e.Js);if(r){const i=e.Zs(r);i&&e.ti(i)}for(const i of e.js)e.qs(i);e.js=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(e){let t=!1;return this.Ks.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ni(e,"pending")}updateMutationState(e,t,r){this.ni(e,t,r),this.si(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(TM(this.persistenceKey,e));if(r){const i=Dv.Fs(e,r);i&&(t=i.state)}}return this.ii.Ms(e),this.Xs(),t}removeLocalQueryTarget(e){this.ii.Ls(e),this.Xs()}isLocalQueryTarget(e){return this.ii.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(TM(this.persistenceKey,e))}updateQueryState(e,t,r){this.ri(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.si(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.oi(e)}notifyBundleLoaded(){this.ai()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return $e("SharedClientState","READ",e,t),t}setItem(e,t){$e("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){$e("SharedClientState","REMOVE",e),this.storage.removeItem(e)}qs(e){var t=this;const r=e;if(r.storageArea===this.storage){if($e("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Qs)return void Lr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,Ie.Z)(function*(){if(t.started){if(null!==r.key)if(t.Gs.test(r.key)){if(null==r.newValue){const i=t.ci(r.key);return t.ui(i,null)}{const i=t.hi(r.key,r.newValue);if(i)return t.ui(i.clientId,i)}}else if(t.zs.test(r.key)){if(null!==r.newValue){const i=t.li(r.key,r.newValue);if(i)return t.fi(i)}}else if(t.Hs.test(r.key)){if(null!==r.newValue){const i=t.di(r.key,r.newValue);if(i)return t.wi(i)}}else if(r.key===t.Js){if(null!==r.newValue){const i=t.Zs(r.newValue);if(i)return t.ti(i)}}else if(r.key===t.Ws){const i=function(l){let u=ko.I;if(null!=l)try{const f=JSON.parse(l);xt("number"==typeof f),u=f}catch(f){Lr("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(r.newValue);i!==ko.I&&t.sequenceNumberHandler(i)}else if(r.key===t.Ys)return t.syncEngine._i()}else t.js.push(r)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Os())}ni(e,t,r){const i=new mC(this.currentUser,e,t,r),l=NF(this.persistenceKey,this.currentUser,e);this.setItem(l,i.Os())}si(e){const t=NF(this.persistenceKey,this.currentUser,e);this.removeItem(t)}oi(e){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:e}))}ri(e,t,r){const i=TM(this.persistenceKey,e),l=new Dv(e,t,r);this.setItem(i,l.Os())}ai(){this.setItem(this.Ys,"value-not-used")}ci(e){const t=this.Gs.exec(e);return t?t[1]:null}hi(e,t){const r=this.ci(e);return gC.Fs(r,t)}li(e,t){const r=this.zs.exec(e),i=Number(r[1]);return mC.Fs(new Bi(void 0!==r[2]?r[2]:null),i,t)}di(e,t){const r=this.Hs.exec(e),i=Number(r[1]);return Dv.Fs(i,t)}Zs(e){return AM.Fs(e)}fi(e){var t=this;return(0,Ie.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.mi(e.batchId,e.state,e.error);$e("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}wi(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}ui(e,t){const r=t?this.Ks.insert(e,t):this.Ks.remove(e),i=this.ei(this.Ks),l=this.ei(r),u=[],f=[];return l.forEach(_=>{i.has(_)||u.push(_)}),i.forEach(_=>{l.has(_)||f.push(_)}),this.syncEngine.yi(u,f).then(()=>{this.Ks=r})}ti(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ei(e){let t=oC();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class FF{constructor(){this.pi=new SM,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}updateQueryState(e,t,r){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new SM,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class C2{Ei(e){}shutdown(){}}class LF{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.Pi(),this.bi=[],this.vi()}Ei(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){$e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Pi(){$e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const D2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class I2{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Fi(e){this.ki(e)}Oi(e){this.xi(e)}}class T2 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Mi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,t,r,i,l){const u=this.Ui(e,t);$e("RestConnection","Sending: ",u,r);const f={};return this.qi(f,i,l),this.Ki(e,u,f,r).then(_=>($e("RestConnection","Received: ",_),_),_=>{throw iv("RestConnection",`${e} failed with error: `,_,"url: ",u,"request:",r),_})}ji(e,t,r,i,l){return this.Bi(e,t,r,i,l)}qi(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+xm,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,l)=>e[l]=i),r&&r.headers.forEach((i,l)=>e[l]=i)}Ui(e,t){return`${this.Mi}/v1/${t}:${D2[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,t,r,i){return new Promise((l,u)=>{const f=new qB;f.listenOnce($B.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case $S.NO_ERROR:const w=f.getResponseJson();$e("Connection","XHR received:",JSON.stringify(w)),l(w);break;case $S.TIMEOUT:$e("Connection",'RPC "'+e+'" timed out'),u(new Ne(pe.DEADLINE_EXCEEDED,"Request time out"));break;case $S.HTTP_ERROR:const T=f.getStatus();if($e("Connection",'RPC "'+e+'" failed with status:',T,"response text:",f.getResponseText()),T>0){const R=f.getResponseJson().error;if(R&&R.status&&R.message){const V=function(H){const X=H.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(X)>=0?X:pe.UNKNOWN}(R.status);u(new Ne(V,R.message))}else u(new Ne(pe.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new Ne(pe.UNAVAILABLE,"Connection failed."));break;default:yt()}}finally{$e("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(i);f.send(t,"POST",_,r,15)})}Qi(e,t,r){const i=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=jB(),u=HB(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new GB({})),this.qi(f.initMessageHeaders,t,r),(0,Jt.uI)()||(0,Jt.b$)()||(0,Jt.d)()||(0,Jt.w1)()||(0,Jt.Mn)()||(0,Jt.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const _=i.join("");$e("Connection","Creating WebChannel: "+_,f);const w=l.createWebChannel(_,f);let T=!1,R=!1;const V=new I2({Vi:X=>{R?$e("Connection","Not sending because WebChannel is closed:",X):(T||($e("Connection","Opening WebChannel transport."),w.open(),T=!0),$e("Connection","WebChannel sending:",X),w.send(X))},Si:()=>w.close()}),H=(X,_e,Re)=>{X.listen(_e,pt=>{try{Re(pt)}catch(Et){setTimeout(()=>{throw Et},0)}})};return H(w,W0.EventType.OPEN,()=>{R||$e("Connection","WebChannel transport opened.")}),H(w,W0.EventType.CLOSE,()=>{R||(R=!0,$e("Connection","WebChannel transport closed"),V.Fi())}),H(w,W0.EventType.ERROR,X=>{R||(R=!0,iv("Connection","WebChannel transport errored:",X),V.Fi(new Ne(pe.UNAVAILABLE,"The operation could not be completed")))}),H(w,W0.EventType.MESSAGE,X=>{var _e;if(!R){const Re=X.data[0];xt(!!Re);const pt=Re,Et=pt.error||(null===(_e=pt[0])||void 0===_e?void 0:_e.error);if(Et){$e("Connection","WebChannel received error:",Et);const Zt=Et.status;let _t=function(Dr){const jr=Ur[Dr];if(void 0!==jr)return LN(jr)}(Zt),An=Et.message;void 0===_t&&(_t=pe.INTERNAL,An="Unknown error status: "+Zt+" with message "+Et.message),R=!0,V.Fi(new Ne(_t,An)),w.close()}else $e("Connection","WebChannel received:",Re),V.Oi(Re)}}),H(u,zB.STAT_EVENT,X=>{X.stat===tN.PROXY?$e("Connection","Detected buffering proxy"):X.stat===tN.NOPROXY&&$e("Connection","Detected no buffering proxy")}),setTimeout(()=>{V.$i()},0),V}}function VF(){return"undefined"!=typeof window?window:null}function _C(){return"undefined"!=typeof document?document:null}function Iv(n){return new kU(n,!0)}class xM{constructor(e,t,r=1e3,i=1.5,l=6e4){this.Oe=e,this.timerId=t,this.Wi=r,this.Gi=i,this.zi=l,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const t=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,t-r);i>0&&$e("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Hi} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,i,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class BF{constructor(e,t,r,i,l,u,f,_){this.Oe=e,this.nr=r,this.sr=i,this.ir=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new xM(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return(0,Ie.Z)(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return(0,Ie.Z)(function*(){if(e.lr())return e.close(0)})()}yr(){this.ar&&(this.ar.cancel(),this.ar=null)}pr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(e,t){var r=this;return(0,Ie.Z)(function*(){r.yr(),r.pr(),r.ur.cancel(),r.rr++,4!==e?r.ur.reset():t&&t.code===pe.RESOURCE_EXHAUSTED?(Lr(t.toString()),Lr("Using maximum backoff delay to prevent overloading the backend."),r.ur.Xi()):t&&t.code===pe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Tr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ni(t)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),t=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.rr===t&&this.Ir(r,i)},r=>{e(()=>{const i=new Ne(pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ar(i)})})}Ir(e,t){const r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di(()=>{r(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(i=>{r(()=>this.Ar(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}dr(){var e=this;this.state=5,this.ur.Zi((0,Ie.Z)(function*(){e.state=0,e.start()}))}Ar(e){return $e("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return t=>{this.Oe.enqueueAndForget(()=>this.rr===e?t():($e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class A2 extends BF{constructor(e,t,r,i,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.k=l}Rr(e,t){return this.ir.Qi("Listen",e,t)}onMessage(e){this.ur.reset();const t=function(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:yt(),i=e.targetChange.targetIds||[],l=function(_,w){return _.C?(xt(void 0===w||"string"==typeof w),pi.fromBase64String(w||"")):(xt(void 0===w||w instanceof Uint8Array),pi.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(_){const w=void 0===_.code?pe.UNKNOWN:LN(_.code);return new Ne(w,_.message||"")}(u);t=new jN(r,i,l,f||null)}else if("documentChange"in e){const r=e.documentChange,i=Rl(n,r.document.name),l=mi(r.document.updateTime),u=new ss({mapValue:{fields:r.document.fields}}),f=lr.newFoundDocument(i,l,u);t=new aC(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const r=e.documentDelete,i=Rl(n,r.document),l=r.readTime?mi(r.readTime):zt.min(),u=lr.newNoDocument(i,l);t=new aC([],r.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const r=e.documentRemove,i=Rl(n,r.document);t=new aC([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return yt();{const r=e.filter,l=new CU(r.count||0);t=new UN(r.targetId,l)}}var _;return t}(this.k,e),r=function(i){if(!("targetChange"in i))return zt.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?zt.min():l.readTime?mi(l.readTime):zt.min()}(e);return this.listener.Pr(t,r)}br(e){const t={};t.database=bv(this.k),t.addTarget=function(i,l){let u;const f=l.target;return u=X0(f)?{documents:XN(i,f)}:{query:JN(i,f)},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?u.resumeToken=GN(i,l.resumeToken):l.snapshotVersion.compareTo(zt.min())>0&&(u.readTime=yv(i,l.snapshotVersion.toTimestamp())),u}(this.k,e);const r=function(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return yt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.gr(t)}vr(e){const t={};t.database=bv(this.k),t.removeTarget=e,this.gr(t)}}class S2 extends BF{constructor(e,t,r,i,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.k=l,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(xt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const t=function(n,e){return n&&n.length>0?(xt(void 0!==e),n.map(t=>function(r,i){let l=mi(r.updateTime?r.updateTime:i);return l.isEqual(zt.min())&&(l=mi(i)),new bU(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=mi(e.commitTime);return this.listener.Cr(r,t)}return xt(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=bv(this.k),this.gr(e)}Dr(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>lC(this.k,r))};this.gr(t)}}class M2 extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=r,this.k=i,this.$r=!1}Fr(){if(this.$r)throw new Ne(pe.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,t,r){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.ir.Bi(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ne(pe.UNKNOWN,i.toString())})}ji(e,t,r){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.ir.ji(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ne(pe.UNKNOWN,i.toString())})}terminate(){this.$r=!0}}class x2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}Br(){0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Mr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Or=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(Lr(t),this.Lr=!1):$e("OnlineStateTracker",t)}jr(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}class R2{constructor(e,t,r,i,l){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=l,this.Hr.Ei(f=>{r.enqueueAndForget((0,Ie.Z)(function*(){var _;hd(u)&&($e("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,Ie.Z)(function*(w){const T=et(w);T.Gr.add(4),yield Xm(T),T.Jr.set("Unknown"),T.Gr.delete(4),yield Tv(T)}),function(w){return _.apply(this,arguments)})(u))}))}),this.Jr=new x2(r,i)}}function Tv(n){return RM.apply(this,arguments)}function RM(){return RM=(0,Ie.Z)(function*(n){if(hd(n))for(const e of n.zr)yield e(!0)}),RM.apply(this,arguments)}function Xm(n){return kM.apply(this,arguments)}function kM(){return kM=(0,Ie.Z)(function*(n){for(const e of n.zr)yield e(!1)}),kM.apply(this,arguments)}function yC(n,e){const t=et(n);t.Wr.has(e.targetId)||(t.Wr.set(e.targetId,e),NM(t)?PM(t):eg(t).lr()&&OM(t,e))}function Av(n,e){const t=et(n),r=eg(t);t.Wr.delete(e),r.lr()&&UF(t,e),0===t.Wr.size&&(r.lr()?r._r():hd(t)&&t.Jr.set("Unknown"))}function OM(n,e){n.Yr.X(e.targetId),eg(n).br(e)}function UF(n,e){n.Yr.X(e),eg(n).vr(e)}function PM(n){n.Yr=new MU({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Wr.get(e)||null}),eg(n).start(),n.Jr.Br()}function NM(n){return hd(n)&&!eg(n).hr()&&n.Wr.size>0}function hd(n){return 0===et(n).Gr.size}function jF(n){n.Yr=void 0}function k2(n){return FM.apply(this,arguments)}function FM(){return FM=(0,Ie.Z)(function*(n){n.Wr.forEach((e,t)=>{OM(n,e)})}),FM.apply(this,arguments)}function O2(n,e){return LM.apply(this,arguments)}function LM(){return LM=(0,Ie.Z)(function*(n,e){jF(n),NM(n)?(n.Jr.Kr(e),PM(n)):n.Jr.set("Unknown")}),LM.apply(this,arguments)}function P2(n,e,t){return VM.apply(this,arguments)}function VM(){return VM=(0,Ie.Z)(function*(n,e,t){if(n.Jr.set("Online"),e instanceof jN&&2===e.state&&e.cause)try{yield(r=(0,Ie.Z)(function*(i,l){const u=l.cause;for(const f of l.targetIds)i.Wr.has(f)&&(yield i.remoteSyncer.rejectListen(f,u),i.Wr.delete(f),i.Yr.removeTarget(f))}),function(i,l){return r.apply(this,arguments)})(n,e)}catch(r){$e("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield vC(n,r)}else if(e instanceof aC?n.Yr.ot(e):e instanceof UN?n.Yr.dt(e):n.Yr.ut(e),!t.isEqual(zt.min()))try{const r=yield xF(n.localStore);t.compareTo(r)>=0&&(yield function(i,l){const u=i.Yr.gt(l);return u.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const w=i.Wr.get(_);w&&i.Wr.set(_,w.withResumeToken(f.resumeToken,l))}}),u.targetMismatches.forEach(f=>{const _=i.Wr.get(f);if(!_)return;i.Wr.set(f,_.withResumeToken(pi.EMPTY_BYTE_STRING,_.snapshotVersion)),UF(i,f);const w=new ld(_.target,f,1,_.sequenceNumber);OM(i,w)}),i.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(r){$e("RemoteStore","Failed to raise snapshot:",r),yield vC(n,r)}var r}),VM.apply(this,arguments)}function vC(n,e,t){return BM.apply(this,arguments)}function BM(){return BM=(0,Ie.Z)(function*(n,e,t){if(!rf(e))throw e;n.Gr.add(1),yield Xm(n),n.Jr.set("Offline"),t||(t=()=>xF(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ie.Z)(function*(){$e("RemoteStore","Retrying IndexedDB access"),yield t(),n.Gr.delete(1),yield Tv(n)}))}),BM.apply(this,arguments)}function HF(n,e){return e().catch(t=>vC(n,t,e))}function Jm(n){return UM.apply(this,arguments)}function UM(){return UM=(0,Ie.Z)(function*(n){const e=et(n),t=fd(e);let r=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;N2(e);)try{const i=yield h2(e.localStore,r);if(null===i){0===e.Qr.length&&t._r();break}r=i.batchId,F2(e,i)}catch(i){yield vC(e,i)}$F(e)&&zF(e)}),UM.apply(this,arguments)}function N2(n){return hd(n)&&n.Qr.length<10}function F2(n,e){n.Qr.push(e);const t=fd(n);t.lr()&&t.Sr&&t.Dr(e.mutations)}function $F(n){return hd(n)&&!fd(n).hr()&&n.Qr.length>0}function zF(n){fd(n).start()}function L2(n){return jM.apply(this,arguments)}function jM(){return jM=(0,Ie.Z)(function*(n){fd(n).kr()}),jM.apply(this,arguments)}function V2(n){return HM.apply(this,arguments)}function HM(){return HM=(0,Ie.Z)(function*(n){const e=fd(n);for(const t of n.Qr)e.Dr(t.mutations)}),HM.apply(this,arguments)}function B2(n,e,t){return $M.apply(this,arguments)}function $M(){return $M=(0,Ie.Z)(function*(n,e,t){const r=n.Qr.shift(),i=lM.from(r,e,t);yield HF(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Jm(n)}),$M.apply(this,arguments)}function U2(n,e){return zM.apply(this,arguments)}function zM(){return zM=(0,Ie.Z)(function*(n,e){var t;e&&fd(n).Sr&&(yield(t=(0,Ie.Z)(function*(r,i){if(FN(l=i.code)&&l!==pe.ABORTED){const u=r.Qr.shift();fd(r).wr(),yield HF(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,i)),yield Jm(r)}var l}),function(r,i){return t.apply(this,arguments)})(n,e)),$F(n)&&zF(n)}),zM.apply(this,arguments)}function GM(n,e){return qM.apply(this,arguments)}function qM(){return qM=(0,Ie.Z)(function*(n,e){const t=et(n);e?(t.Gr.delete(2),yield Tv(t)):e||(t.Gr.add(2),yield Xm(t),t.Jr.set("Unknown"))}),qM.apply(this,arguments)}function eg(n){return n.Xr||(n.Xr=function(e,t,r){const i=et(e);return i.Fr(),new A2(t,i.ir,i.authCredentials,i.appCheckCredentials,i.k,r)}(n.datastore,n.asyncQueue,{Di:k2.bind(null,n),Ni:O2.bind(null,n),Pr:P2.bind(null,n)}),n.zr.push(function(){var e=(0,Ie.Z)(function*(t){t?(n.Xr.wr(),NM(n)?PM(n):n.Jr.set("Unknown")):(yield n.Xr.stop(),jF(n))});return function(t){return e.apply(this,arguments)}}())),n.Xr}function fd(n){return n.Zr||(n.Zr=function(e,t,r){const i=et(e);return i.Fr(),new S2(t,i.ir,i.authCredentials,i.appCheckCredentials,i.k,r)}(n.datastore,n.asyncQueue,{Di:L2.bind(null,n),Ni:U2.bind(null,n),Nr:V2.bind(null,n),Cr:B2.bind(null,n)}),n.zr.push(function(){var e=(0,Ie.Z)(function*(t){t?(n.Zr.wr(),yield Jm(n)):(yield n.Zr.stop(),n.Qr.length>0&&($e("RemoteStore",`Stopping write stream with ${n.Qr.length} pending writes`),n.Qr=[]))});return function(t){return e.apply(this,arguments)}}())),n.Zr}class WM{constructor(e,t,r,i,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=l,this.deferred=new hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,r,i,l){const u=Date.now()+r,f=new WM(e,t,u,i,l);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ne(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tg(n,e){if(Lr("AsyncQueue",`${e}: ${n}`),rf(n))return new Ne(pe.UNAVAILABLE,`${e}: ${n}`);throw n}class ng{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ft.comparator(t.key,r.key):(t,r)=>ft.comparator(t.key,r.key),this.keyedMap=rM(),this.sortedSet=new Qr(this.comparator)}static emptySet(e){return new ng(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ng)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new ng;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class GF{constructor(){this.eo=new Qr(ft.comparator)}track(e){const t=e.doc.key,r=this.eo.get(t);r?0!==e.type&&3===r.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==r.type?this.eo=this.eo.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.eo=this.eo.remove(t):1===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):yt():this.eo=this.eo.insert(t,e)}no(){const e=[];return this.eo.inorderTraversal((t,r)=>{e.push(r)}),e}}class rg{constructor(e,t,r,i,l,u,f,_){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=_}static fromInitialDocuments(e,t,r,i){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new rg(e,t,ng.emptySet(t),l,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class j2{constructor(){this.so=void 0,this.listeners=[]}}class H2{constructor(){this.queries=new Zm(e=>EN(e),dv),this.onlineState="Unknown",this.io=new Set}}function KM(n,e){return ZM.apply(this,arguments)}function ZM(){return ZM=(0,Ie.Z)(function*(n,e){const t=et(n),r=e.query;let i=!1,l=t.queries.get(r);if(l||(i=!0,l=new j2),i)try{l.so=yield t.onListen(r)}catch(u){const f=tg(u,`Initialization of query '${eM(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,l),l.listeners.push(e),e.ro(t.onlineState),l.so&&e.oo(l.so)&&XM(t)}),ZM.apply(this,arguments)}function YM(n,e){return QM.apply(this,arguments)}function QM(){return QM=(0,Ie.Z)(function*(n,e){const t=et(n),r=e.query;let i=!1;const l=t.queries.get(r);if(l){const u=l.listeners.indexOf(e);u>=0&&(l.listeners.splice(u,1),i=0===l.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),QM.apply(this,arguments)}function $2(n,e){const t=et(n);let r=!1;for(const i of e){const u=t.queries.get(i.query);if(u){for(const f of u.listeners)f.oo(i)&&(r=!0);u.so=i}}r&&XM(t)}function z2(n,e,t){const r=et(n),i=r.queries.get(e);if(i)for(const l of i.listeners)l.onError(t);r.queries.delete(e)}function XM(n){n.io.forEach(e=>{e.next()})}class JM{constructor(e,t,r){this.query=e,this.ao=t,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}oo(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new rg(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.co?this.ho(e)&&(this.ao.next(e),t=!0):this.lo(e,this.onlineState)&&(this.fo(e),t=!0),this.uo=e,t}onError(e){this.ao.error(e)}ro(e){this.onlineState=e;let t=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}lo(e,t){return!e.fromCache||!(this.options.wo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=rg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}class G2{constructor(e,t){this.payload=e,this.byteLength=t}_o(){return"metadata"in this.payload}}class qF{constructor(e){this.k=e}Hn(e){return Rl(this.k,e)}Jn(e){return e.metadata.exists?YN(this.k,e.document,!1):lr.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}Yn(e){return mi(e)}}class q2{constructor(e,t,r){this.mo=e,this.localStore=t,this.k=r,this.queries=[],this.documents=[],this.progress=WF(e)}yo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}po(e){const t=new Map,r=new qF(this.k);for(const i of e)if(i.metadata.queries){const l=r.Hn(i.metadata.name);for(const u of i.metadata.queries){const f=(t.get(u)||Hn()).add(l);t.set(u,f)}}return t}complete(){var e=this;return(0,Ie.Z)(function*(){const t=yield function(n,e,t,r){return wM.apply(this,arguments)}(e.localStore,new qF(e.k),e.documents,e.mo.id),r=e.po(e.documents);for(const i of e.queries)yield m2(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",new l2(Object.assign({},e.progress),t)})()}}function WF(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class KF{constructor(e){this.key=e}}class ZF{constructor(e){this.key=e}}class YF{constructor(e,t){this.query=e,this.To=t,this.Eo=null,this.current=!1,this.Io=Hn(),this.mutatedKeys=Hn(),this.Ao=wN(e),this.Ro=new ng(this.Ao)}get Po(){return this.To}bo(e,t){const r=t?t.vo:new GF,i=t?t.Ro:this.Ro;let l=t?t.mutatedKeys:this.mutatedKeys,u=i,f=!1;const _=eC(this.query)&&i.size===this.query.limit?i.last():null,w=tC(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((T,R)=>{const V=i.get(T),H=hv(this.query,R)?R:null,X=!!V&&this.mutatedKeys.has(V.key),_e=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let Re=!1;V&&H?V.data.isEqual(H.data)?X!==_e&&(r.track({type:3,doc:H}),Re=!0):this.Vo(V,H)||(r.track({type:2,doc:H}),Re=!0,(_&&this.Ao(H,_)>0||w&&this.Ao(H,w)<0)&&(f=!0)):!V&&H?(r.track({type:0,doc:H}),Re=!0):V&&!H&&(r.track({type:1,doc:V}),Re=!0,(_||w)&&(f=!0)),Re&&(H?(u=u.add(H),l=_e?l.add(T):l.delete(T)):(u=u.delete(T),l=l.delete(T)))}),eC(this.query)||tC(this.query))for(;u.size>this.query.limit;){const T=eC(this.query)?u.last():u.first();u=u.delete(T.key),l=l.delete(T.key),r.track({type:1,doc:T})}return{Ro:u,vo:r,Bn:f,mutatedKeys:l}}Vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const l=e.vo.no();l.sort((w,T)=>function(R,V){const H=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt()}};return H(R)-H(V)}(w.type,T.type)||this.Ao(w.doc,T.doc)),this.So(r);const u=t?this.Do():[],f=0===this.Io.size&&this.current?1:0,_=f!==this.Eo;return this.Eo=f,0!==l.length||_?{snapshot:new rg(this.query,e.Ro,i,l,e.mutatedKeys,0===f,_,!1),Co:u}:{Co:u}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new GF,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(t=>this.To=this.To.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.To=this.To.delete(t)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=Hn(),this.Ro.forEach(r=>{this.No(r.key)&&(this.Io=this.Io.add(r.key))});const t=[];return e.forEach(r=>{this.Io.has(r)||t.push(new ZF(r))}),this.Io.forEach(r=>{e.has(r)||t.push(new KF(r))}),t}ko(e){this.To=e.zn,this.Io=Hn();const t=this.bo(e.documents);return this.applyChanges(t,!0)}xo(){return rg.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class W2{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class K2{constructor(e){this.key=e,this.$o=!1}}class Z2{constructor(e,t,r,i,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Fo={},this.Oo=new Zm(f=>EN(f),dv),this.Mo=new Map,this.Lo=new Set,this.Bo=new Qr(ft.comparator),this.Uo=new Map,this.qo=new DM,this.Ko={},this.jo=new Map,this.Qo=af.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function Y2(n,e){return ex.apply(this,arguments)}function ex(){return ex=(0,Ie.Z)(function*(n,e){const t=Cx(n);let r,i;const l=t.Oo.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),i=l.view.xo();else{const u=yield Ym(t.localStore,ha(e)),f=t.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,i=yield tx(t,e,r,"current"===f),t.isPrimaryClient&&yC(t.remoteStore,u)}return i}),ex.apply(this,arguments)}function tx(n,e,t,r){return nx.apply(this,arguments)}function nx(){return nx=(0,Ie.Z)(function*(n,e,t,r){n.Go=(T,R,V)=>{return(H=(0,Ie.Z)(function*(X,_e,Re,pt){let Et=_e.view.bo(Re);Et.Bn&&(Et=yield pC(X.localStore,_e.query,!1).then(({documents:An})=>_e.view.bo(An,Et)));const Zt=pt&&pt.targetChanges.get(_e.targetId),_t=_e.view.applyChanges(Et,X.isPrimaryClient,Zt);return hx(X,_e.targetId,_t.Co),_t.snapshot}),function(X,_e,Re,pt){return H.apply(this,arguments)})(n,T,R,V);var H};const i=yield pC(n.localStore,e,!0),l=new YF(e,i.zn),u=l.bo(i.documents),f=_v.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),_=l.applyChanges(u,n.isPrimaryClient,f);hx(n,t,_.Co);const w=new W2(e,t,l);return n.Oo.set(e,w),n.Mo.has(t)?n.Mo.get(t).push(e):n.Mo.set(t,[e]),_.snapshot}),nx.apply(this,arguments)}function Q2(n,e){return rx.apply(this,arguments)}function rx(){return rx=(0,Ie.Z)(function*(n,e){const t=et(n),r=t.Oo.get(e),i=t.Mo.get(r.targetId);if(i.length>1)return t.Mo.set(r.targetId,i.filter(l=>!dv(l,e))),void t.Oo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Qm(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Av(t.remoteStore,r.targetId),ig(t,r.targetId)}).catch(lf))):(ig(t,r.targetId),yield Qm(t.localStore,r.targetId,!0))}),rx.apply(this,arguments)}function ix(){return ix=(0,Ie.Z)(function*(n,e,t){const r=Dx(n);try{const i=yield function(l,u){const f=et(l),_=fi.now(),w=u.reduce((R,V)=>R.add(V.key),Hn());let T;return f.persistence.runTransaction("Locally write mutations","readwrite",R=>f.Wn.vn(R,w).next(V=>{T=V;const H=[];for(const X of u){const _e=wU(X,T.get(X.key));null!=_e&&H.push(new od(X.key,_e,pN(_e.value.mapValue),Br.exists(!0)))}return f.An.addMutationBatch(R,_,H,u)})).then(R=>(R.applyToLocalDocumentSet(T),{batchId:R.batchId,changes:T}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,u,f){let _=l.Ko[l.currentUser.toKey()];_||(_=new Qr(rn)),_=_.insert(u,f),l.Ko[l.currentUser.toKey()]=_}(r,i.batchId,t),yield Gc(r,i.changes),yield Jm(r.remoteStore)}catch(i){const l=tg(i,"Failed to persist write");t.reject(l)}}),ix.apply(this,arguments)}function QF(n,e){return sx.apply(this,arguments)}function sx(){return sx=(0,Ie.Z)(function*(n,e){const t=et(n);try{const r=yield d2(t.localStore,e);e.targetChanges.forEach((i,l)=>{const u=t.Uo.get(l);u&&(xt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.$o=!0:i.modifiedDocuments.size>0?xt(u.$o):i.removedDocuments.size>0&&(xt(u.$o),u.$o=!1))}),yield Gc(t,r,e)}catch(r){yield lf(r)}}),sx.apply(this,arguments)}function XF(n,e,t){const r=et(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.Oo.forEach((l,u)=>{const f=u.view.ro(e);f.snapshot&&i.push(f.snapshot)}),function(l,u){const f=et(l);f.onlineState=u;let _=!1;f.queries.forEach((w,T)=>{for(const R of T.listeners)R.ro(u)&&(_=!0)}),_&&XM(f)}(r.eventManager,e),i.length&&r.Fo.Pr(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function J2(n,e,t){return ox.apply(this,arguments)}function ox(){return ox=(0,Ie.Z)(function*(n,e,t){const r=et(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Uo.get(e),l=i&&i.key;if(l){let u=new Qr(ft.comparator);u=u.insert(l,lr.newNoDocument(l,zt.min()));const f=Hn().add(l),_=new gv(zt.min(),new Map,new wr(rn),u,f);yield QF(r,_),r.Bo=r.Bo.remove(l),r.Uo.delete(e),fx(r)}else yield Qm(r.localStore,e,!1).then(()=>ig(r,e,t)).catch(lf)}),ox.apply(this,arguments)}function ej(n,e){return ax.apply(this,arguments)}function ax(){return ax=(0,Ie.Z)(function*(n,e){const t=et(n),r=e.batch.batchId;try{const i=yield u2(t.localStore,e);dx(t,r,null),ux(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Gc(t,i)}catch(i){yield lf(i)}}),ax.apply(this,arguments)}function tj(n,e,t){return lx.apply(this,arguments)}function lx(){return lx=(0,Ie.Z)(function*(n,e,t){const r=et(n);try{const i=yield function(l,u){const f=et(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return f.An.lookupMutationBatch(_,u).next(T=>(xt(null!==T),w=T.keys(),f.An.removeMutationBatch(_,T))).next(()=>f.An.performConsistencyCheck(_)).next(()=>f.Wn.vn(_,w))})}(r.localStore,e);dx(r,e,t),ux(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Gc(r,i)}catch(i){yield lf(i)}}),lx.apply(this,arguments)}function cx(){return cx=(0,Ie.Z)(function*(n,e){const t=et(n);hd(t.remoteStore)||$e("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const u=et(l);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.An.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.jo.get(r)||[];i.push(e),t.jo.set(r,i)}catch(r){const i=tg(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),cx.apply(this,arguments)}function ux(n,e){(n.jo.get(e)||[]).forEach(t=>{t.resolve()}),n.jo.delete(e)}function dx(n,e,t){const r=et(n);let i=r.Ko[r.currentUser.toKey()];if(i){const l=i.get(e);l&&(t?l.reject(t):l.resolve(),i=i.remove(e)),r.Ko[r.currentUser.toKey()]=i}}function ig(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Mo.get(e))n.Oo.delete(r),t&&n.Fo.zo(r,t);n.Mo.delete(e),n.isPrimaryClient&&n.qo.us(e).forEach(r=>{n.qo.containsKey(r)||JF(n,r)})}function JF(n,e){n.Lo.delete(e.path.canonicalString());const t=n.Bo.get(e);null!==t&&(Av(n.remoteStore,t),n.Bo=n.Bo.remove(e),n.Uo.delete(t),fx(n))}function hx(n,e,t){for(const r of t)r instanceof KF?(n.qo.addReference(r.key,e),rj(n,r)):r instanceof ZF?($e("SyncEngine","Document no longer in limbo: "+r.key),n.qo.removeReference(r.key,e),n.qo.containsKey(r.key)||JF(n,r.key)):yt()}function rj(n,e){const t=e.key,r=t.path.canonicalString();n.Bo.get(t)||n.Lo.has(r)||($e("SyncEngine","New document in limbo: "+t),n.Lo.add(r),fx(n))}function fx(n){for(;n.Lo.size>0&&n.Bo.size<n.maxConcurrentLimboResolutions;){const e=n.Lo.values().next().value;n.Lo.delete(e);const t=new ft(kn.fromString(e)),r=n.Qo.next();n.Uo.set(r,new K2(t)),n.Bo=n.Bo.insert(t,r),yC(n.remoteStore,new ld(ha(Fm(t.path)),r,2,ko.I))}}function Gc(n,e,t){return px.apply(this,arguments)}function px(){return px=(0,Ie.Z)(function*(n,e,t){const r=et(n),i=[],l=[],u=[];var f;r.Oo.isEmpty()||(r.Oo.forEach((f,_)=>{u.push(r.Go(_,e,t).then(w=>{if(w){r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,w.fromCache?"not-current":"current"),i.push(w);const T=yM.$n(_.targetId,w);l.push(T)}}))}),yield Promise.all(u),r.Fo.Pr(i),yield(f=(0,Ie.Z)(function*(_,w){const T=et(_);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>Pe.forEach(w,V=>Pe.forEach(V.kn,H=>T.persistence.referenceDelegate.addReference(R,V.targetId,H)).next(()=>Pe.forEach(V.xn,H=>T.persistence.referenceDelegate.removeReference(R,V.targetId,H)))))}catch(R){if(!rf(R))throw R;$e("LocalStore","Failed to update sequence numbers: "+R)}for(const R of w){const V=R.targetId;if(!R.fromCache){const H=T.qn.get(V),_e=H.withLastLimboFreeSnapshotVersion(H.snapshotVersion);T.qn=T.qn.insert(V,_e)}}}),function(_,w){return f.apply(this,arguments)})(r.localStore,l))}),px.apply(this,arguments)}function ij(n,e){return mx.apply(this,arguments)}function mx(){return mx=(0,Ie.Z)(function*(n,e){const t=et(n);if(!t.currentUser.isEqual(e)){$e("SyncEngine","User change. New user:",e.toKey());const r=yield MF(t.localStore,e);t.currentUser=e,(i=t).jo.forEach(u=>{u.forEach(f=>{f.reject(new Ne(pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.jo.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Gc(t,r.Gn)}var i}),mx.apply(this,arguments)}function sj(n,e){const t=et(n),r=t.Uo.get(e);if(r&&r.$o)return Hn().add(r.key);{let i=Hn();const l=t.Mo.get(e);if(!l)return i;for(const u of l){const f=t.Oo.get(u);i=i.unionWith(f.view.Po)}return i}}function oj(n,e){return gx.apply(this,arguments)}function gx(){return gx=(0,Ie.Z)(function*(n,e){const t=et(n),r=yield pC(t.localStore,e.query,!0),i=e.view.ko(r);return t.isPrimaryClient&&hx(t,e.targetId,i.Co),i}),gx.apply(this,arguments)}function aj(n){return _x.apply(this,arguments)}function _x(){return _x=(0,Ie.Z)(function*(n){const e=et(n);return OF(e.localStore).then(t=>Gc(e,t))}),_x.apply(this,arguments)}function lj(n,e,t,r){return yx.apply(this,arguments)}function yx(){return yx=(0,Ie.Z)(function*(n,e,t,r){const i=et(n),l=yield function(u,f){const _=et(u),w=et(_.An);return _.persistence.runTransaction("Lookup mutation documents","readonly",T=>w.Zt(T,f).next(R=>R?_.Wn.vn(T,R):Pe.resolve(null)))}(i.localStore,e);var f;null!==l?("pending"===t?yield Jm(i.remoteStore):"acknowledged"===t||"rejected"===t?(dx(i,e,r||null),ux(i,e),f=e,et(et(i.localStore).An).ee(f)):yt(),yield Gc(i,l)):$e("SyncEngine","Cannot apply mutation batch with id: "+e)}),yx.apply(this,arguments)}function vx(){return vx=(0,Ie.Z)(function*(n,e){const t=et(n);if(Cx(t),Dx(t),!0===e&&!0!==t.Wo){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield e1(t,r.toArray());t.Wo=!0,yield GM(t.remoteStore,!0);for(const l of i)yC(t.remoteStore,l)}else if(!1===e&&!1!==t.Wo){const r=[];let i=Promise.resolve();t.Mo.forEach((l,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(ig(t,u),Qm(t.localStore,u,!0))),Av(t.remoteStore,u)}),yield i,yield e1(t,r),function(l){const u=et(l);u.Uo.forEach((f,_)=>{Av(u.remoteStore,_)}),u.qo.hs(),u.Uo=new Map,u.Bo=new Qr(ft.comparator)}(t),t.Wo=!1,yield GM(t.remoteStore,!1)}}),vx.apply(this,arguments)}function e1(n,e,t){return bx.apply(this,arguments)}function bx(){return bx=(0,Ie.Z)(function*(n,e,t){const r=et(n),i=[],l=[];for(const u of e){let f;const _=r.Mo.get(u);if(_&&0!==_.length){f=yield Ym(r.localStore,ha(_[0]));for(const w of _){const T=r.Oo.get(w),R=yield oj(r,T);R.snapshot&&l.push(R.snapshot)}}else{const w=yield kF(r.localStore,u);f=yield Ym(r.localStore,w),yield tx(r,t1(w),u,!1)}i.push(f)}return r.Fo.Pr(l),i}),bx.apply(this,arguments)}function t1(n){return vN(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function uj(n){const e=et(n);return et(et(e.localStore).persistence).Tn()}function dj(n,e,t,r){return Ex.apply(this,arguments)}function Ex(){return Ex=(0,Ie.Z)(function*(n,e,t,r){const i=et(n);if(i.Wo)$e("SyncEngine","Ignoring unexpected query state notification.");else if(i.Mo.has(e))switch(t){case"current":case"not-current":{const l=yield OF(i.localStore),u=gv.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Gc(i,l,u);break}case"rejected":yield Qm(i.localStore,e,!0),ig(i,e,r);break;default:yt()}}),Ex.apply(this,arguments)}function hj(n,e,t){return wx.apply(this,arguments)}function wx(){return wx=(0,Ie.Z)(function*(n,e,t){const r=Cx(n);if(r.Wo){for(const i of e){if(r.Mo.has(i)){$e("SyncEngine","Adding an already active target "+i);continue}const l=yield kF(r.localStore,i),u=yield Ym(r.localStore,l);yield tx(r,t1(l),u.targetId,!1),yC(r.remoteStore,u)}for(const i of t)r.Mo.has(i)&&(yield Qm(r.localStore,i,!1).then(()=>{Av(r.remoteStore,i),ig(r,i)}).catch(lf))}}),wx.apply(this,arguments)}function Cx(n){const e=et(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=QF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=J2.bind(null,e),e.Fo.Pr=$2.bind(null,e.eventManager),e.Fo.zo=z2.bind(null,e.eventManager),e}function Dx(n){const e=et(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ej.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tj.bind(null,e),e}class n1{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ie.Z)(function*(){t.k=Iv(e.databaseInfo.databaseId),t.sharedClientState=t.Jo(e),t.persistence=t.Yo(e),yield t.persistence.start(),t.gcScheduler=t.Xo(e),t.localStore=t.Zo(e)})()}Xo(e){return null}Zo(e){return SF(this.persistence,new AF,e.initialUser,this.k)}Yo(e){return new E2(IM.ks,this.k)}Jo(e){return new FF}terminate(){var e=this;return(0,Ie.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class r1 extends n1{constructor(e,t,r){super(),this.ta=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Ie.Z)(function*(){yield t().call(r,e),yield function(n){return EM.apply(this,arguments)}(r.localStore),yield r.ta.initialize(r,e),yield Dx(r.ta.syncEngine),yield Jm(r.ta.remoteStore),yield r.persistence.sn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Zo(e){return SF(this.persistence,new AF,e.initialUser,this.k)}Xo(e){return new t2(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Yo(e){const t=_M(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?to.withCacheSize(this.cacheSizeBytes):to.DEFAULT;return new gM(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,VF(),_C(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new FF}}class pj extends r1{constructor(e,t){super(e,t,!1),this.ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Ie.Z)(function*(){yield t().call(r,e);const i=r.ta.syncEngine;r.sharedClientState instanceof MM&&(r.sharedClientState.syncEngine={mi:lj.bind(null,i),gi:dj.bind(null,i),yi:hj.bind(null,i),Tn:uj.bind(null,i),_i:aj.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.sn(function(){var l=(0,Ie.Z)(function*(u){yield function(n,e){return vx.apply(this,arguments)}(r.ta.syncEngine,u),r.gcScheduler&&(u&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):u||r.gcScheduler.stop())});return function(u){return l.apply(this,arguments)}}())})()}Jo(e){const t=VF();if(!MM.bt(t))throw new Ne(pe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=_M(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new MM(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Ix{initialize(e,t){var r=this;return(0,Ie.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>XF(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=ij.bind(null,r.syncEngine),yield GM(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new H2}createDatastore(e){const t=Iv(e.databaseInfo.databaseId),r=new T2(e.databaseInfo);return new M2(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,l=f=>XF(this.syncEngine,f,0),u=LF.bt()?new LF:new C2,new R2(t,r,i,l,u);var t,r,i,l,u}createSyncEngine(e,t){return function(r,i,l,u,f,_,w){const T=new Z2(r,i,l,u,f,_);return w&&(T.Wo=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ie.Z)(function*(t){const r=et(t);$e("RemoteStore","RemoteStore shutting down."),r.Gr.add(5),yield Xm(r),r.Hr.shutdown(),r.Jr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function s1(n,e=10240){let t=0;return{read:()=>(0,Ie.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Ie.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class bC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ea(this.observer.next,e)}error(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}na(){this.muted=!0}ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class mj{constructor(e,t){this.sa=e,this.k=t,this.metadata=new hi,this.buffer=new Uint8Array,this.ia=new TextDecoder("utf-8"),this.ra().then(r=>{r&&r._o()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.sa.cancel()}getMetadata(){var e=this;return(0,Ie.Z)(function*(){return e.metadata.promise})()}Ho(){var e=this;return(0,Ie.Z)(function*(){return yield e.getMetadata(),e.ra()})()}ra(){var e=this;return(0,Ie.Z)(function*(){const t=yield e.oa();if(null===t)return null;const r=e.ia.decode(t),i=Number(r);isNaN(i)&&e.aa(`length string (${r}) is not valid number`);const l=yield e.ca(i);return new G2(JSON.parse(l),t.length+i)})()}ua(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}oa(){var e=this;return(0,Ie.Z)(function*(){for(;e.ua()<0&&!(yield e.ha()););if(0===e.buffer.length)return null;const t=e.ua();t<0&&e.aa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ca(e){var t=this;return(0,Ie.Z)(function*(){for(;t.buffer.length<e;)(yield t.ha())&&t.aa("Reached the end of bundle when more is expected.");const r=t.ia.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}aa(e){throw this.sa.cancel(),new Error(`Invalid bundle format: ${e}`)}ha(){var e=this;return(0,Ie.Z)(function*(){const t=yield e.sa.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class gj{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ie.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ne(pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Ie.Z)(function*(l,u){const f=et(l),_=bv(f.k)+"/documents",w={documents:u.map(H=>vv(f.k,H))},T=yield f.ji("BatchGetDocuments",_,w),R=new Map;T.forEach(H=>{const X=function(n,e){return"found"in e?function(t,r){xt(!!r.found);const i=Rl(t,r.found.name),l=mi(r.found.updateTime),u=new ss({mapValue:{fields:r.found.fields}});return lr.newFoundDocument(i,l,u)}(n,e):"missing"in e?function(t,r){xt(!!r.missing),xt(!!r.readTime);const i=Rl(t,r.missing),l=mi(r.readTime);return lr.newNoDocument(i,l)}(n,e):yt()}(f.k,H);R.set(X.key.toString(),X)});const V=[];return u.forEach(H=>{const X=R.get(H.toString());xt(!!X),V.push(X)}),V}),function(l,u){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new mv(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ie.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const l=ft.fromPath(i);e.mutations.push(new nM(l,e.precondition(l)))}),yield(r=(0,Ie.Z)(function*(i,l){const u=et(i),f=bv(u.k)+"/documents",_={writes:l.map(w=>lC(u.k,w))};yield u.Bi("Commit",f,_)}),function(i,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw yt();t=zt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ne(pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Br.updateTime(t):Br.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(zt.min()))throw new Ne(pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Br.updateTime(t)}return Br.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class _j{constructor(e,t,r,i){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=i,this.la=5,this.ur=new xM(this.asyncQueue,"transaction_retry")}run(){this.la-=1,this.fa()}fa(){var e=this;this.ur.Zi((0,Ie.Z)(function*(){const t=new gj(e.datastore),r=e.da(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(l=>{e.wa(l)}))}).catch(i=>{e.wa(i)})}))}da(e){try{const t=this.updateFunction(e);return!Xh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}wa(e){this.la>0&&this._a(e)?(this.la-=1,this.asyncQueue.enqueueAndForget(()=>(this.fa(),Promise.resolve()))):this.deferred.reject(e)}_a(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!FN(t)}return!1}}class yj{constructor(e,t,r,i){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Bi.UNAUTHENTICATED,this.clientId=sN.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,Ie.Z)(function*(f){$e("FirestoreClient","Received user=",f.uid),yield l.authCredentialListener(f),l.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,()=>Promise.resolve())}getConfiguration(){var e=this;return(0,Ie.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ne(pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ie.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=tg(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function o1(n,e){return Tx.apply(this,arguments)}function Tx(){return Tx=(0,Ie.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),$e("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Ie.Z)(function*(l){r.isEqual(l)||(yield MF(e.localStore,l),r=l)});return function(l){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),Tx.apply(this,arguments)}function a1(n,e){return Ax.apply(this,arguments)}function Ax(){return Ax=(0,Ie.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Sx(n);$e("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>{return(l=(0,Ie.Z)(function*(u,f){const _=et(u);_.asyncQueue.verifyOperationInProgress(),$e("RemoteStore","RemoteStore received new credentials");const w=hd(_);_.Gr.add(3),yield Xm(_),w&&_.Jr.set("Unknown"),yield _.remoteSyncer.handleCredentialChange(f),_.Gr.delete(3),yield Tv(_)}),function(u,f){return l.apply(this,arguments)})(e.remoteStore,i);var l}),n.onlineComponents=e}),Ax.apply(this,arguments)}function Sx(n){return Mx.apply(this,arguments)}function Mx(){return Mx=(0,Ie.Z)(function*(n){return n.offlineComponents||($e("FirestoreClient","Using default OfflineComponentProvider"),yield o1(n,new n1)),n.offlineComponents}),Mx.apply(this,arguments)}function EC(n){return xx.apply(this,arguments)}function xx(){return xx=(0,Ie.Z)(function*(n){return n.onlineComponents||($e("FirestoreClient","Using default OnlineComponentProvider"),yield a1(n,new Ix)),n.onlineComponents}),xx.apply(this,arguments)}function l1(n){return Sx(n).then(e=>e.persistence)}function Rx(n){return Sx(n).then(e=>e.localStore)}function c1(n){return EC(n).then(e=>e.remoteStore)}function kx(n){return EC(n).then(e=>e.syncEngine)}function sg(n){return Ox.apply(this,arguments)}function Ox(){return Ox=(0,Ie.Z)(function*(n){const e=yield EC(n),t=e.eventManager;return t.onListen=Y2.bind(null,e.syncEngine),t.onUnlisten=Q2.bind(null,e.syncEngine),t}),Ox.apply(this,arguments)}function u1(n,e,t={}){const r=new hi;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(i,l,u,f,_){const w=new bC({next:R=>{l.enqueueAndForget(()=>YM(i,T));const V=R.docs.has(u);!V&&R.fromCache?_.reject(new Ne(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&R.fromCache&&f&&"server"===f.source?_.reject(new Ne(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(R)},error:R=>_.reject(R)}),T=new JM(Fm(u.path),w,{includeMetadataChanges:!0,wo:!0});return KM(i,T)}(yield sg(n),n.asyncQueue,e,t,r)})),r.promise}function d1(n,e,t={}){const r=new hi;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(i,l,u,f,_){const w=new bC({next:R=>{l.enqueueAndForget(()=>YM(i,T)),R.fromCache&&"server"===f.source?_.reject(new Ne(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(R)},error:R=>_.reject(R)}),T=new JM(u,w,{includeMetadataChanges:!0,wo:!0});return KM(i,T)}(yield sg(n),n.asyncQueue,e,t,r)})),r.promise}class Aj{constructor(e,t,r,i,l,u,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class og{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof og&&e.projectId===this.projectId&&e.database===this.database}}const h1=new Map;function Px(n,e,t){if(!t)throw new Ne(pe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function f1(n,e,t,r){if(!0===e&&!0===r)throw new Ne(pe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function p1(n){if(!ft.isDocumentKey(n))throw new Ne(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function m1(n){if(ft.isDocumentKey(n))throw new Ne(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function wC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":yt()}function yn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ne(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=wC(n);throw new Ne(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function g1(n,e){if(e<=0)throw new Ne(pe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class _1{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ne(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ne(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,f1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sv{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _1({}),this._settingsFrozen=!1,e instanceof og?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Ne(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new og(i.options.projectId)}(e))}get app(){if(!this._app)throw new Ne(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ne(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _1(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new ZB;switch(t.type){case"gapi":const r=t.client;return xt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new JB(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ne(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=h1.get(e);t&&($e("ComponentProvider","Removing Datastore"),h1.delete(e),t.terminate())}(this),Promise.resolve()}}class sr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ol(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sr(this.firestore,e,this._key)}}class as{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new as(this.firestore,e,this._query)}}class Ol extends as{constructor(e,t,r){super(e,t,Fm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sr(this.firestore,null,new ft(e))}withConverter(e){return new Ol(this.firestore,e,this._path)}}function y1(n,e,...t){if(n=(0,Jt.m9)(n),Px("collection","path",e),n instanceof Sv){const r=kn.fromString(e,...t);return m1(r),new Ol(n,null,r)}{if(!(n instanceof sr||n instanceof Ol))throw new Ne(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(kn.fromString(e,...t));return m1(r),new Ol(n.firestore,null,r)}}function CC(n,e,...t){if(n=(0,Jt.m9)(n),1===arguments.length&&(e=sN.A()),Px("doc","path",e),n instanceof Sv){const r=kn.fromString(e,...t);return p1(r),new sr(n,null,new ft(r))}{if(!(n instanceof sr||n instanceof Ol))throw new Ne(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(kn.fromString(e,...t));return p1(r),new sr(n.firestore,n instanceof Ol?n.converter:null,new ft(r))}}function v1(n,e){return n=(0,Jt.m9)(n),e=(0,Jt.m9)(e),(n instanceof sr||n instanceof Ol)&&(e instanceof sr||e instanceof Ol)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function b1(n,e){return n=(0,Jt.m9)(n),e=(0,Jt.m9)(e),n instanceof as&&e instanceof as&&n.firestore===e.firestore&&dv(n._query,e._query)&&n.converter===e.converter}class xj{constructor(){this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new xM(this,"async_queue_retry"),this.Ra=()=>{const t=_C();t&&$e("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ur.er()};const e=_C();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ra)}get isShuttingDown(){return this.ya}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pa(),this.ba(e)}enterRestrictedMode(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;const t=_C();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ra)}}enqueue(e){if(this.Pa(),this.ya)return new Promise(()=>{});const t=new hi;return this.ba(()=>this.ya&&this.Ia?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ga.push(e),this.va()))}va(){var e=this;return(0,Ie.Z)(function*(){if(0!==e.ga.length){try{yield e.ga[0](),e.ga.shift(),e.ur.reset()}catch(t){if(!rf(t))throw t;$e("AsyncQueue","Operation failed with retryable error: "+t)}e.ga.length>0&&e.ur.Zi(()=>e.va())}})()}ba(e){const t=this.ma.then(()=>(this.Ea=!0,e().catch(r=>{throw this.Ta=r,this.Ea=!1,Lr("INTERNAL UNHANDLED ERROR: ",function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),u}(r)),r}).then(r=>(this.Ea=!1,r))));return this.ma=t,t}enqueueAfterDelay(e,t,r){this.Pa(),this.Aa.indexOf(e)>-1&&(t=0);const i=WM.createAndSchedule(this,e,t,r,l=>this.Va(l));return this.pa.push(i),i}Pa(){this.Ta&&yt()}verifyOperationInProgress(){}Sa(){var e=this;return(0,Ie.Z)(function*(){let t;do{t=e.ma,yield t}while(t!==e.ma)})()}Da(e){for(const t of this.pa)if(t.timerId===e)return!0;return!1}Ca(e){return this.Sa().then(()=>{this.pa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.pa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Sa()})}Na(e){this.Aa.push(e)}Va(e){const t=this.pa.indexOf(e);this.pa.splice(t,1)}}function Nx(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class Rj{constructor(){this._progressObserver={},this._taskCompletionResolver=new hi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class mr extends Sv{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new xj,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||E1(this),this._firestoreClient.terminate()}}function Oj(n=(0,Vc.getApp)()){return(0,Vc._getProvider)(n,"firestore").getImmediate()}function Xr(n){return n._firestoreClient||E1(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function E1(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Aj(n._databaseId,l,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var l,f;n._firestoreClient=new yj(n._authCredentials,n._appCheckCredentials,n._queue,r)}function w1(n,e,t){const r=new hi;return n.asyncQueue.enqueue((0,Ie.Z)(function*(){try{yield o1(n,t),yield a1(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(l=i).name?l.code===pe.FAILED_PRECONDITION||l.code===pe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var l})).then(()=>r.promise)}function C1(n){if(n._initialized||n._terminated)throw new Ne(pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class qc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ne(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ui(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Pl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pl(pi.fromBase64String(e))}catch(t){throw new Ne(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Pl(pi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class cf{constructor(e){this._methodName=e}}class DC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ne(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ne(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return rn(this._lat,e._lat)||rn(this._long,e._long)}}const Hj=/^__.*__$/;class $j{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new od(e,this.data,this.fieldMask,t,this.fieldTransforms):new pv(e,this.data,t,this.fieldTransforms)}}class D1{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new od(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function I1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt()}}class IC{constructor(e,t,r,i,l,u){this.settings=e,this.databaseId=t,this.k=r,this.ignoreUndefinedProperties=i,void 0===l&&this.ka(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get xa(){return this.settings.xa}$a(e){return new IC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Fa(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.$a({path:r,Oa:!1});return i.Ma(e),i}La(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.$a({path:r,Oa:!1});return i.ka(),i}Ba(e){return this.$a({path:void 0,Oa:!0})}Ua(e){return AC(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ka(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}Ma(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(I1(this.xa)&&Hj.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}class zj{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=r||Iv(e)}ja(e,t,r,i=!1){return new IC({xa:e,methodName:t,Ka:r,path:Ui.emptyPath(),Oa:!1,qa:i},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function uf(n){const e=n._freezeSettings(),t=Iv(n._databaseId);return new zj(n._databaseId,!!e.ignoreUndefinedProperties,t)}function TC(n,e,t,r,i,l={}){const u=n.ja(l.merge||l.mergeFields?2:0,e,t,i);Bx("Data must be an object, but it was:",u,r);const f=S1(r,u);let _,w;if(l.merge)_=new km(u.fieldMask),w=u.fieldTransforms;else if(l.mergeFields){const T=[];for(const R of l.mergeFields){const V=Ux(e,R,t);if(!u.contains(V))throw new Ne(pe.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);x1(T,V)||T.push(V)}_=new km(T),w=u.fieldTransforms.filter(R=>_.covers(R.field))}else _=null,w=u.fieldTransforms;return new $j(new ss(f),_,w)}class Mv extends cf{_toFieldTransform(e){if(2!==e.xa)throw e.Ua(1===e.xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mv}}function T1(n,e,t){return new IC({xa:3,Ka:e.settings.Ka,methodName:n._methodName,Oa:t},e.databaseId,e.k,e.ignoreUndefinedProperties)}class Fx extends cf{_toFieldTransform(e){return new fv(e.path,new Vm)}isEqual(e){return e instanceof Fx}}class Gj extends cf{constructor(e,t){super(e),this.Qa=t}_toFieldTransform(e){const t=T1(this,e,!0),r=this.Qa.map(l=>df(l,t)),i=new ef(r);return new fv(e.path,i)}isEqual(e){return this===e}}class qj extends cf{constructor(e,t){super(e),this.Qa=t}_toFieldTransform(e){const t=T1(this,e,!0),r=this.Qa.map(l=>df(l,t)),i=new tf(r);return new fv(e.path,i)}isEqual(e){return this===e}}class Wj extends cf{constructor(e,t){super(e),this.Wa=t}_toFieldTransform(e){const t=new Bm(e.k,IN(e.k,this.Wa));return new fv(e.path,t)}isEqual(e){return this===e}}function Lx(n,e,t,r){const i=n.ja(1,e,t);Bx("Data must be an object, but it was:",i,r);const l=[],u=ss.empty();Qh(r,(_,w)=>{const T=jx(e,_,t);w=(0,Jt.m9)(w);const R=i.La(T);if(w instanceof Mv)l.push(T);else{const V=df(w,R);null!=V&&(l.push(T),u.set(T,V))}});const f=new km(l);return new D1(u,f,i.fieldTransforms)}function Vx(n,e,t,r,i,l){const u=n.ja(1,e,t),f=[Ux(e,r,t)],_=[i];if(l.length%2!=0)throw new Ne(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<l.length;V+=2)f.push(Ux(e,l[V])),_.push(l[V+1]);const w=[],T=ss.empty();for(let V=f.length-1;V>=0;--V)if(!x1(w,f[V])){const H=f[V];let X=_[V];X=(0,Jt.m9)(X);const _e=u.La(H);if(X instanceof Mv)w.push(H);else{const Re=df(X,_e);null!=Re&&(w.push(H),T.set(H,Re))}}const R=new km(w);return new D1(T,R,u.fieldTransforms)}function A1(n,e,t,r=!1){return df(t,n.ja(r?4:3,e))}function df(n,e){if(M1(n=(0,Jt.m9)(n)))return Bx("Unsupported field value:",e,n),S1(n,e);if(n instanceof cf)return function(t,r){if(!I1(r.xa))throw r.Ua(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Ua(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Oa&&4!==e.xa)throw e.Ua("Nested arrays are not supported");return function(t,r){const i=[];let l=0;for(const u of t){let f=df(u,r.Ba(l));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),l++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Jt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return IN(r.k,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=fi.fromDate(t);return{timestampValue:yv(r.k,i)}}if(t instanceof fi){const i=new fi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:yv(r.k,i)}}if(t instanceof DC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Pl)return{bytesValue:GN(r.k,t._byteString)};if(t instanceof sr){const i=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(i))throw r.Ua(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:iM(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.Ua(`Unsupported field value: ${wC(t)}`)}(n,e)}function S1(n,e){const t={};return lN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qh(n,(r,i)=>{const l=df(i,e.Fa(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function M1(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof fi||n instanceof DC||n instanceof Pl||n instanceof sr||n instanceof cf)}function Bx(n,e,t){if(!M1(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=wC(t);throw e.Ua("an object"===r?n+" a custom object":n+" "+r)}var r}function Ux(n,e,t){if((e=(0,Jt.m9)(e))instanceof qc)return e._internalPath;if("string"==typeof e)return jx(n,e);throw AC("Field path arguments must be of type string or FieldPath.",n,!1,void 0,t)}const Kj=new RegExp("[~\\*/\\[\\]]");function jx(n,e,t){if(e.search(Kj)>=0)throw AC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new qc(...e.split("."))._internalPath}catch(r){throw AC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function AC(n,e,t,r,i){const l=r&&!r.isEmpty(),u=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(l||u)&&(_+=" (found",l&&(_+=` in field ${r}`),u&&(_+=` in document ${i}`),_+=")"),new Ne(pe.INVALID_ARGUMENT,f+n+_)}function x1(n,e){return n.some(t=>t.isEqual(e))}class xv{constructor(e,t,r,i,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new sr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Zj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(SC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Zj extends xv{data(){return super.data()}}function SC(n,e){return"string"==typeof e?jx(n,e):e instanceof qc?e._internalPath:e._delegate._internalPath}class hf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wc extends xv{constructor(e,t,r,i,l,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Rv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(SC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Rv extends Wc{data(e={}){return super.data(e)}}class pd{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new hf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Rv(this._firestore,this._userDataWriter,r.key,r,new hf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ne(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(u=>({type:"added",doc:new Rv(r._firestore,r._userDataWriter,u.doc.key,u.doc,new hf(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>i||3!==u.type).map(u=>{const f=new Rv(r._firestore,r._userDataWriter,u.doc.key,u.doc,new hf(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,w=-1;return 0!==u.type&&(_=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),1!==u.type&&(l=l.add(u.doc),w=l.indexOf(u.doc.key)),{type:Yj(u.type),doc:f,oldIndex:_,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Yj(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt()}}function R1(n,e){return n instanceof Wc&&e instanceof Wc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof pd&&e instanceof pd&&n._firestore===e._firestore&&b1(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function k1(n){if(tC(n)&&0===n.explicitOrderBy.length)throw new Ne(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kv{}function md(n,...e){for(const t of e)n=t._apply(n);return n}class Qj extends kv{constructor(e,t,r){super(),this.Ga=e,this.za=t,this.Ha=r,this.type="where"}_apply(e){const t=uf(e.firestore),r=function(i,l,u,f,_,w,T){let R;if(_.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Ne(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on FieldPath.documentId().`);if("in"===w||"not-in"===w){V1(T,w);const H=[];for(const X of T)H.push(L1(f,i,X));R={arrayValue:{values:H}}}else R=L1(f,i,T)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||V1(T,w),R=A1(u,"where",T,"in"===w||"not-in"===w);const V=xs.create(_,w,R);return function(H,X){if(X.V()){const Re=XS(H);if(null!==Re&&!Re.isEqual(X.field))throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Re.toString()}' and '${X.field.toString()}'`);const pt=QS(H);null!==pt&&B1(0,X.field,pt)}const _e=function(Re,pt){for(const Et of Re.filters)if(pt.indexOf(Et.op)>=0)return Et.op;return null}(H,function(Re){switch(Re){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(X.op));if(null!==_e)throw new Ne(pe.INVALID_ARGUMENT,_e===X.op?`Invalid query. You cannot use more than one '${X.op.toString()}' filter.`:`Invalid query. You cannot use '${X.op.toString()}' filters with '${_e.toString()}' filters.`)}(i,V),V}(e._query,0,t,e.firestore._databaseId,this.Ga,this.za,this.Ha);return new as(e.firestore,e.converter,function(i,l){const u=i.filters.concat([l]);return new Hc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),u,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class Jj extends kv{constructor(e,t){super(),this.Ga=e,this.Ja=t,this.type="orderBy"}_apply(e){const t=function(r,i,l){if(null!==r.startAt)throw new Ne(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ne(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new Nm(i,l);return function(f,_){if(null===QS(f)){const w=XS(f);null!==w&&B1(0,w,_.field)}}(r,u),u}(e._query,this.Ga,this.Ja);return new as(e.firestore,e.converter,function(r,i){const l=r.explicitOrderBy.concat([i]);return new Hc(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class O1 extends kv{constructor(e,t,r){super(),this.type=e,this.Ya=t,this.Xa=r}_apply(e){return new as(e.firestore,e.converter,bN(e._query,this.Ya,this.Xa))}}class P1 extends kv{constructor(e,t,r){super(),this.type=e,this.Za=t,this.tc=r}_apply(e){const t=F1(e,this.type,this.Za,this.tc);return new as(e.firestore,e.converter,(i=t,new Hc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class N1 extends kv{constructor(e,t,r){super(),this.type=e,this.Za=t,this.tc=r}_apply(e){const t=F1(e,this.type,this.Za,this.tc);return new as(e.firestore,e.converter,(i=t,new Hc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function F1(n,e,t,r){if(t[0]=(0,Jt.m9)(t[0]),t[0]instanceof xv)return function(i,l,u,f,_){if(!f)throw new Ne(pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const w=[];for(const T of Lm(i))if(T.field.isKeyField())w.push(Z0(l,f.key));else{const R=f.data.field(T.field);if(qS(R))throw new Ne(pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===R){const V=T.field.canonicalString();throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${V}' (used as the orderBy) does not exist.`)}w.push(R)}return new uv(w,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=uf(n.firestore);return function(l,u,f,_,w,T){const R=l.explicitOrderBy;if(w.length>R.length)throw new Ne(pe.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const V=[];for(let H=0;H<w.length;H++){const X=w[H];if(R[H].field.isKeyField()){if("string"!=typeof X)throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof X}`);if(!JS(l)&&-1!==X.indexOf("/"))throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${_}() must be a plain document ID, but '${X}' contains a slash.`);const _e=l.path.child(kn.fromString(X));if(!ft.isDocumentKey(_e))throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${_}() must result in a valid document path, but '${_e}' is not because it contains an odd number of segments.`);const Re=new ft(_e);V.push(Z0(u,Re))}else{const _e=A1(f,_,X);V.push(_e)}}return new uv(V,T)}(n._query,n.firestore._databaseId,i,e,t,r)}}function L1(n,e,t){if("string"==typeof(t=(0,Jt.m9)(t))){if(""===t)throw new Ne(pe.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!JS(e)&&-1!==t.indexOf("/"))throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(kn.fromString(t));if(!ft.isDocumentKey(r))throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Z0(n,new ft(r))}if(t instanceof sr)return Z0(n,t._key);throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${wC(t)}.`)}function V1(n,e){if(!Array.isArray(n)||0===n.length)throw new Ne(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ne(pe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function B1(n,e,t){if(!t.isEqual(e))throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Hx{convertValue(e,t="none"){switch(Jh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Om(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw yt()}}convertObject(e,t){const r={};return Qh(e.fields,(i,l)=>{r[i]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new DC(Vr(e.latitude),Vr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=cN(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ov(e));default:return null}}convertTimestamp(e){const t=sd(e);return new fi(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=kn.fromString(e);xt(iF(r));const i=new og(r.get(1),r.get(3)),l=new ft(r.popFirst(5));return i.isEqual(t)||Lr(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function MC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class aH extends Hx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new sr(this.firestore,null,t)}}class U1{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=uf(e)}set(e,t,r){this._verifyNotCommitted();const i=gd(e,this._firestore),l=MC(i.converter,t,r),u=TC(this._dataReader,"WriteBatch.set",i._key,l,null!==i.converter,r);return this._mutations.push(u.toMutation(i._key,Br.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const l=gd(e,this._firestore);let u;return u="string"==typeof(t=(0,Jt.m9)(t))||t instanceof qc?Vx(this._dataReader,"WriteBatch.update",l._key,t,r,i):Lx(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(u.toMutation(l._key,Br.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=gd(e,this._firestore);return this._mutations=this._mutations.concat(new mv(t._key,Br.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ne(pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function gd(n,e){if((n=(0,Jt.m9)(n)).firestore!==e)throw new Ne(pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class ff extends Hx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new sr(this.firestore,null,t)}}function j1(n,e,t){n=yn(n,sr);const r=yn(n.firestore,mr),i=MC(n.converter,e,t);return ag(r,[TC(uf(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Br.none())])}function H1(n,e,t,...r){n=yn(n,sr);const i=yn(n.firestore,mr),l=uf(i);let u;return u="string"==typeof(e=(0,Jt.m9)(e))||e instanceof qc?Vx(l,"updateDoc",n._key,e,t,r):Lx(l,"updateDoc",n._key,e),ag(i,[u.toMutation(n._key,Br.exists(!0))])}function $1(n,...e){var t,r,i;n=(0,Jt.m9)(n);let l={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||Nx(e[u])||(l=e[u],u++);const f={includeMetadataChanges:l.includeMetadataChanges};if(Nx(e[u])){const R=e[u];e[u]=null===(t=R.next)||void 0===t?void 0:t.bind(R),e[u+1]=null===(r=R.error)||void 0===r?void 0:r.bind(R),e[u+2]=null===(i=R.complete)||void 0===i?void 0:i.bind(R)}let _,w,T;if(n instanceof sr)w=yn(n.firestore,mr),T=Fm(n._key.path),_={next:R=>{e[u]&&e[u]($x(w,n,R))},error:e[u+1],complete:e[u+2]};else{const R=yn(n,as);w=yn(R.firestore,mr),T=R._query;const V=new ff(w);_={next:H=>{e[u]&&e[u](new pd(w,V,R,H))},error:e[u+1],complete:e[u+2]},k1(n._query)}return function(R,V,H,X){const _e=new bC(X),Re=new JM(V,_e,H);return R.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return KM(yield sg(R),Re)})),()=>{_e.na(),R.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return YM(yield sg(R),Re)}))}}(Xr(w),T,f,_)}function ag(n,e){return function(t,r){const i=new hi;return t.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(n,e,t){return ix.apply(this,arguments)}(yield kx(t),r,i)})),i.promise}(Xr(n),e)}function $x(n,e,t){const r=t.docs.get(e._key),i=new ff(n);return new Wc(n,i,e._key,r,new hf(t.hasPendingWrites,t.fromCache),e.converter)}class _H extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=uf(e)}get(e){const t=gd(e,this._firestore),r=new aH(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return yt();const l=i[0];if(l.isFoundDocument())return new xv(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new xv(this._firestore,r,t._key,null,t.converter);throw yt()})}set(e,t,r){const i=gd(e,this._firestore),l=MC(i.converter,t,r),u=TC(this._dataReader,"Transaction.set",i._key,l,null!==i.converter,r);return this._transaction.set(i._key,u),this}update(e,t,r,...i){const l=gd(e,this._firestore);let u;return u="string"==typeof(t=(0,Jt.m9)(t))||t instanceof qc?Vx(this._dataReader,"Transaction.update",l._key,t,r,i):Lx(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,u),this}delete(e){const t=gd(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=gd(e,this._firestore),r=new ff(this._firestore);return super.get(e).then(i=>new Wc(this._firestore,r,t._key,i._document,new hf(!1,!1),t.converter))}}function zx(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ne("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function z1(){if("undefined"==typeof Uint8Array)throw new Ne("unimplemented","Uint8Arrays are not available in this environment.")}function G1(){if("undefined"==typeof atob)throw new Ne("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){xm=Vc.SDK_VERSION,(0,Vc._registerComponent)(new E0.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),l=new mr(i,new QB(t.getProvider("auth-internal")),new eU(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,Vc.registerVersion)(nN,"3.4.1",n),(0,Vc.registerVersion)(nN,"3.4.1","esm2017")}();class Ov{constructor(e){this._delegate=e}static fromBase64String(e){return G1(),new Ov(Pl.fromBase64String(e))}static fromUint8Array(e){return z1(),new Ov(Pl.fromUint8Array(e))}toBase64(){return G1(),this._delegate.toBase64()}toUint8Array(){return z1(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Gx(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of["next","error","complete"])if(r in t&&"function"==typeof t[r])return!0;return!1}(n)}class AH{enableIndexedDbPersistence(e,t){return function(n,e){C1(n=yn(n,mr));const t=Xr(n),r=n._freezeSettings(),i=new Ix;return w1(t,i,new r1(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){C1(n=yn(n,mr));const e=Xr(n),t=n._freezeSettings(),r=new Ix;return w1(e,r,new pj(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new Ne(pe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new hi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ie.Z)(function*(){try{yield(t=(0,Ie.Z)(function*(r){if(!$a.bt())return Promise.resolve();const i=r+"main";yield $a.delete(i)}),function(r){return t.apply(this,arguments)})(_M(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class q1{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof og||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&iv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function(n,e,t,r={}){var i;const l=(n=yn(n,Sv))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&iv("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let u,f;if("string"==typeof r.mockUserToken)u=r.mockUserToken,f=Bi.MOCK_USER;else{u=(0,Jt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Ne(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Bi(_)}n._authCredentials=new YB(new rN(u,f))}}(this._delegate,e,t,r)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,Ie.Z)(function*(){const e=yield l1(n),t=yield c1(n);return e.setNetworkEnabled(!0),function(r){const i=et(r);return i.Gr.delete(0),Tv(i)}(t)}))}(Xr(n=yn(n,mr)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,Ie.Z)(function*(){const e=yield l1(n),t=yield c1(n);return e.setNetworkEnabled(!1),(r=(0,Ie.Z)(function*(i){const l=et(i);l.Gr.add(0),yield Xm(l),l.Jr.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Xr(n=yn(n,mr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,f1("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new hi;return e.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(n,e){return cx.apply(this,arguments)}(yield kx(e),t)})),t.promise}(Xr(n=yn(n,mr)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new bC(e);return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return r=yield sg(n),i=t,et(r).io.add(i),void i.next();var r,i})),()=>{t.na(),n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return r=yield sg(n),i=t,void et(r).io.delete(i);var r,i}))}}(Xr(n=yn(n,mr)),Nx(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ne("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new lg(this,y1(this._delegate,e))}catch(t){throw Rs(t,"collection()","Firestore.collection()")}}doc(e){try{return new pa(this,CC(this._delegate,e))}catch(t){throw Rs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ks(this,function(n,e){if(n=yn(n,Sv),Px("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ne(pe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new as(n,null,(t=e,new Hc(kn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Rs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e){return function(n,e){const t=new hi;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){const r=yield(i=n,EC(i).then(l=>l.datastore));var i;new _j(n.asyncQueue,r,e,t).run()})),t.promise}(Xr(n=yn(n,mr)),t=>e(new _H(n,t)))}(this._delegate,t=>e(new W1(this,t)))}batch(){return Xr(this._delegate),new K1(new U1(this._delegate,e=>ag(this._delegate,e)))}loadBundle(e){return function(n,e){const t=Xr(n=yn(n,mr)),r=new Rj;return function(n,e,t,r){const i=function(l,u){let f;return f="string"==typeof l?(new TextEncoder).encode(l):l,_=function(_,w){if(_ instanceof Uint8Array)return s1(_,w);if(_ instanceof ArrayBuffer)return s1(new Uint8Array(_),w);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new mj(_,u);var _}(t,Iv(e));n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){!function(n,e,t){const r=et(n);var i;(i=(0,Ie.Z)(function*(l,u,f){try{const _=yield u.getMetadata();if(yield function(V,H){const X=et(V),_e=mi(H.createTime);return X.persistence.runTransaction("hasNewerBundle","readonly",Re=>X.Ye.getBundleMetadata(Re,H.id)).then(Re=>!!Re&&Re.createTime.compareTo(_e)>=0)}(l.localStore,_))return yield u.close(),void f._completeWith((V=_,{taskState:"Success",documentsLoaded:V.totalDocuments,bytesLoaded:V.totalBytes,totalDocuments:V.totalDocuments,totalBytes:V.totalBytes}));f._updateProgress(WF(_));const w=new q2(_,l.localStore,u.k);let T=yield u.Ho();for(;T;){const V=yield w.yo(T);V&&f._updateProgress(V),T=yield u.Ho()}const R=yield w.complete();yield Gc(l,R.In,void 0),yield function(V,H){const X=et(V);return X.persistence.runTransaction("Save bundle","readwrite",_e=>X.Ye.saveBundleMetadata(_e,H))}(l.localStore,_),f._completeWith(R.progress)}catch(_){iv("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_)}var V}),function(l,u,f){return i.apply(this,arguments)})(r,e,t).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield kx(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue((0,Ie.Z)(function*(){return function(t,r){const i=et(t);return i.persistence.runTransaction("Get named query","readonly",l=>i.Ye.getNamedQuery(l,r))}(yield Rx(n),e)}))}(Xr(n=yn(n,mr)),e).then(t=>t?new as(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ks(this,t):null)}}class xC extends Hx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ov(new Pl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return pa.forKey(t,this.firestore,null)}}class W1{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new xC(e)}get(e){const t=mf(e);return this._delegate.get(t).then(r=>new Pv(this._firestore,new Wc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=mf(e);return r?(zx("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=mf(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=mf(e);return this._delegate.delete(t),this}}class K1{constructor(e){this._delegate=e}set(e,t,r){const i=mf(e);return r?(zx("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=mf(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=mf(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class pf{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Rv(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Nv(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=pf.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let l=i.get(t);return l||(l=new pf(e,new xC(e),t),i.set(t,l)),l}}pf.INSTANCES=new WeakMap;class pa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new xC(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ne("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new pa(t,new sr(t._delegate,r,new ft(e)))}static forKey(e,t,r){return new pa(t,new sr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new lg(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new lg(this.firestore,y1(this._delegate,e))}catch(t){throw Rs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Jt.m9)(e))instanceof sr&&v1(this._delegate,e)}set(e,t){t=zx("DocumentReference.set",t);try{return t?j1(this._delegate,e,t):j1(this._delegate,e)}catch(r){throw Rs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?H1(this._delegate,e):H1(this._delegate,e,t,...r)}catch(i){throw Rs(i,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return ag(yn(n.firestore,mr),[new mv(n._key,Br.none())])}(this._delegate)}onSnapshot(...e){const t=Z1(e),r=Y1(e,i=>new Pv(this.firestore,new Wc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return $1(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=yn(n,sr);const e=yn(n.firestore,mr),t=Xr(e),r=new ff(e);return function(n,e){const t=new hi;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return(r=(0,Ie.Z)(function*(i,l,u){try{const f=yield function(_,w){const T=et(_);return T.persistence.runTransaction("read document","readonly",R=>T.Wn.Rn(R,w))}(i,l);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new Ne(pe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=tg(f,`Failed to get document '${l} from cache`);u.reject(_)}}),function(i,l,u){return r.apply(this,arguments)})(yield Rx(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Wc(e,r,n._key,i,new hf(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=yn(n,sr);const e=yn(n.firestore,mr);return u1(Xr(e),n._key,{source:"server"}).then(t=>$x(e,n,t))}(this._delegate):function(n){n=yn(n,sr);const e=yn(n.firestore,mr);return u1(Xr(e),n._key).then(t=>$x(e,n,t))}(this._delegate),t.then(r=>new Pv(this.firestore,new Wc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new pa(this.firestore,this._delegate.withConverter(e?pf.getInstance(this.firestore,e):null))}}function Rs(n,e,t){return n.message=n.message.replace(e,t),n}function Z1(n){for(const e of n)if("object"==typeof e&&!Gx(e))return e;return{}}function Y1(n,e){var t,r;let i;return i=Gx(n[0])?n[0]:Gx(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{i.next&&i.next(e(l))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Pv{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new pa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return R1(this._delegate,e._delegate)}}class Nv extends Pv{data(e){const t=this._delegate.data(e);return function(n,e){n||yt()}(void 0!==t),t}}class ks{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new xC(e)}where(e,t,r){try{return new ks(this.firestore,md(this._delegate,function(n,e,t){const r=e,i=SC("where",n);return new Qj(i,r,t)}(e,t,r)))}catch(i){throw Rs(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ks(this.firestore,md(this._delegate,function(n,e="asc"){const t=e,r=SC("orderBy",n);return new Jj(r,t)}(e,t)))}catch(r){throw Rs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ks(this.firestore,md(this._delegate,function(n){return g1("limit",n),new O1("limit",n,"F")}(e)))}catch(t){throw Rs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ks(this.firestore,md(this._delegate,function(n){return g1("limitToLast",n),new O1("limitToLast",n,"L")}(e)))}catch(t){throw Rs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ks(this.firestore,md(this._delegate,function(...n){return new P1("startAt",n,!0)}(...e)))}catch(t){throw Rs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ks(this.firestore,md(this._delegate,function(...n){return new P1("startAfter",n,!1)}(...e)))}catch(t){throw Rs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ks(this.firestore,md(this._delegate,function(...n){return new N1("endBefore",n,!0)}(...e)))}catch(t){throw Rs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ks(this.firestore,md(this._delegate,function(...n){return new N1("endAt",n,!1)}(...e)))}catch(t){throw Rs(t,"endAt()","Query.endAt()")}}isEqual(e){return b1(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=yn(n,as);const e=yn(n.firestore,mr),t=Xr(e),r=new ff(e);return function(n,e){const t=new hi;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return(r=(0,Ie.Z)(function*(i,l,u){try{const f=yield pC(i,l,!0),_=new YF(l,f.zn),w=_.bo(f.documents),T=_.applyChanges(w,!1);u.resolve(T.snapshot)}catch(f){const _=tg(f,`Failed to execute query '${l} against cache`);u.reject(_)}}),function(i,l,u){return r.apply(this,arguments)})(yield Rx(n),e,t);var r})),t.promise}(t,n._query).then(i=>new pd(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=yn(n,as);const e=yn(n.firestore,mr),t=Xr(e),r=new ff(e);return d1(t,n._query,{source:"server"}).then(i=>new pd(e,r,n,i))}(this._delegate):function(n){n=yn(n,as);const e=yn(n.firestore,mr),t=Xr(e),r=new ff(e);return k1(n._query),d1(t,n._query).then(i=>new pd(e,r,n,i))}(this._delegate),t.then(r=>new qx(this.firestore,new pd(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=Z1(e),r=Y1(e,i=>new qx(this.firestore,new pd(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return $1(this._delegate,t,r)}withConverter(e){return new ks(this.firestore,this._delegate.withConverter(e?pf.getInstance(this.firestore,e):null))}}class MH{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Nv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class qx{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ks(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Nv(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new MH(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Nv(this._firestore,r))})}isEqual(e){return R1(this._delegate,e._delegate)}}class lg extends ks{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new pa(this.firestore,e):null}doc(e){try{return new pa(this.firestore,void 0===e?CC(this._delegate):CC(this._delegate,e))}catch(t){throw Rs(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=yn(n.firestore,mr),r=CC(n),i=MC(n.converter,e);return ag(t,[TC(uf(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Br.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new pa(this.firestore,t))}isEqual(e){return v1(this._delegate,e._delegate)}withConverter(e){return new lg(this.firestore,this._delegate.withConverter(e?pf.getInstance(this.firestore,e):null))}}function mf(n){return yn(n,sr)}class Wx{constructor(...e){this._delegate=new qc(...e)}static documentId(){return new Wx(Ui.keyField().canonicalString())}isEqual(e){return(e=(0,Jt.m9)(e))instanceof qc&&this._delegate._internalPath.isEqual(e._internalPath)}}class gf{constructor(e){this._delegate=e}static serverTimestamp(){const e=new Fx("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new gf(e)}static delete(){const e=new Mv("deleteField");return e._methodName="FieldValue.delete",new gf(e)}static arrayUnion(...e){const t=function(...n){return new Gj("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new gf(t)}static arrayRemove(...e){const t=function(...n){return new qj("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new gf(t)}static increment(e){const t=function(n){return new Wj("increment",n)}(e);return t._methodName="FieldValue.increment",new gf(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const xH={Firestore:q1,GeoPoint:DC,Timestamp:fi,Blob:Ov,Transaction:W1,WriteBatch:K1,DocumentReference:pa,DocumentSnapshot:Pv,Query:ks,QueryDocumentSnapshot:Nv,QuerySnapshot:qx,CollectionReference:lg,FieldPath:Wx,FieldValue:gf,setLogLevel:function(n){!function(n){id.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function(n){(function(n,e){n.INTERNAL.registerComponent(new E0.wA("firestore-compat",t=>((e,t)=>new q1(e,t,new AH))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},xH)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.10")}(BV.Z);var RC=N(4763),OH=N(1733);class PH extends nn.x{constructor(e=1/0,t=1/0,r=OH.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:l,_windowTime:u}=this;t||(r.push(e),!i&&r.push(l.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,l=i.slice();for(let u=0;u<l.length&&!e.closed;u+=r?1:2)e.next(l[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,l=(i?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!i){const u=t.now();let f=0;for(let _=1;_<r.length&&r[_]<=u;_+=2)f=_;f&&r.splice(0,f+1)}}}var Q1=N(3174);function X1(n,e,t){var r,i;let l,u=!1;return n&&"object"==typeof n?(l=null!==(r=n.bufferSize)&&void 0!==r?r:1/0,e=null!==(i=n.windowTime)&&void 0!==i?i:1/0,u=!!n.refCount,t=n.scheduler):l=null!=n?n:1/0,(0,Q1.B)({connector:()=>new PH(l,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:u})}function J1(n,e){return(0,ci.m)(e)?fr(()=>n,e):fr(()=>n)}var Kx=N(5222),_f=N(7713);class cg{constructor(e){return e}}class eL{constructor(){return(0,_f.C6)()}}const Zx=new d.OlP("angularfire2._apps"),FH={provide:cg,useFactory:function(n){return n&&1===n.length?n[0]:new cg((0,_f.Mq)())},deps:[[new d.FiY,Zx]]},LH={provide:eL,deps:[[new d.FiY,Zx]]};function VH(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new cg(r)}}let BH=(()=>{class n{constructor(t){(0,_f.KN)("angularfire",Kn.q4.full,"core"),(0,_f.KN)("angularfire",Kn.q4.full,"app"),(0,_f.KN)("angular",d.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.Lbi))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[FH,LH]}),n})();function UH(n,...e){return{ngModule:BH,providers:[{provide:Zx,useFactory:VH(n),multi:!0,deps:[d.R0b,d.zs3,Kn.HU,...e]}]}}const jH=(0,Kn.u3)(_f.ZF,!0),tL=new Map,HH={activated:!1,tokenObservers:[]},$H={initialized:!1,enabled:!1};function _i(n){return tL.get(n)||HH}function za(n,e){tL.set(n,e)}function kC(){return $H}class KH{constructor(e,t,r,i,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=i,i>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ie.Z)(function*(){t.stop();try{t.pending=new Jt.BH,yield function(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Jt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Os=new Jt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function rL(n){if(!_i(n).activated)throw Os.create("use-before-activation",{appName:n.name})}function Xx(n,e){return Jx.apply(this,arguments)}function Jx(){return Jx=(0,Ie.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});i&&(r["X-Firebase-Client"]=i.getPlatformInfoString());const l={method:"POST",body:JSON.stringify(e),headers:r};let u,f;try{u=yield fetch(n,l)}catch(R){throw Os.create("fetch-network-error",{originalErrorMessage:R.message})}if(200!==u.status)throw Os.create("fetch-status-error",{httpStatus:u.status});try{f=yield u.json()}catch(R){throw Os.create("fetch-parse-error",{originalErrorMessage:R.message})}const _=f.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw Os.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const w=1e3*Number(_[1]),T=Date.now();return{token:f.attestationToken,expireTimeMillis:T+w,issuedAtTimeMillis:T}}),Jx.apply(this,arguments)}function e$(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Fv="firebase-app-check-store";let NC=null;function sL(){return NC||(NC=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Os.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Fv,{keyPath:"compositeKey"})}}catch(t){e(Os.create("storage-open",{originalErrorMessage:t.message}))}}),NC)}function eR(){return eR=(0,Ie.Z)(function*(n,e){const r=(yield sL()).transaction(Fv,"readwrite"),l=r.objectStore(Fv).put({compositeKey:n,value:e});return new Promise((u,f)=>{l.onsuccess=_=>{u()},r.onerror=_=>{var w;f(Os.create("storage-set",{originalErrorMessage:null===(w=_.target.error)||void 0===w?void 0:w.message}))}})}),eR.apply(this,arguments)}const Lv=new td.Yd("@firebase/app-check");function cL(n,e){return(0,Jt.hl)()?function(n,e){return function(n,e){return eR.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Lv.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function uL(){return kC().enabled}function dL(){return iR.apply(this,arguments)}function iR(){return iR=(0,Ie.Z)(function*(){const n=kC();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),iR.apply(this,arguments)}const u$={error:"UNKNOWN_ERROR"};function d$(n){return Jt.US.encodeString(JSON.stringify(n),!1)}function FC(n){return sR.apply(this,arguments)}function sR(){return sR=(0,Ie.Z)(function*(n,e=!1){const t=n.app;rL(t);const r=_i(t);let l,i=r.token;if(!i){const _=yield r.cachedTokenPromise;_&&LC(_)&&(i=_)}if(!e&&i&&LC(i))return{token:i.token};let f,u=!1;if(uL()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Xx(e$(t,yield dL()),n.platformLoggerProvider).then(w=>(r.exchangeTokenPromise=void 0,w)),u=!0);const _=yield r.exchangeTokenPromise;return yield cL(t,_),za(t,Object.assign(Object.assign({},r),{token:_})),{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(_=>(r.exchangeTokenPromise=void 0,_)),u=!0),i=yield r.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?Lv.warn(_.message):Lv.error(_),l=_}return i?(f={token:i.token},za(t,Object.assign(Object.assign({},r),{token:i})),yield cL(t,i)):f=f$(l),u&&fL(t,f),f}),sR.apply(this,arguments)}function aR(n,e){const t=_i(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),za(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function hL(n){const{app:e}=n,t=_i(e);let r=t.tokenRefresher;r||(r=function(n){const{app:e}=n;return new KH((0,Ie.Z)(function*(){let r;if(r=_i(e).token?yield FC(n,!0):yield FC(n),r.error)throw r.error}),()=>!0,()=>{const t=_i(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),za(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function fL(n,e){const t=_i(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function LC(n){return n.expireTimeMillis-Date.now()>0}function f$(n){return{token:d$(u$),error:n}}class p${constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=_i(this.app);for(const t of e)aR(this.app,t.next);return Promise.resolve()}}const EL="app-check-internal";(0,Vc._registerComponent)(new E0.wA("app-check",n=>function(n,e){return new p$(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(EL).initialize()})),(0,Vc._registerComponent)(new E0.wA(EL,n=>function(n){return{getToken:e=>FC(n,e),addTokenListener:e=>function(n,e,t,r){const{app:i}=n,l=_i(i),u={next:t,error:r,type:e};if(za(i,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,u]})),l.token&&LC(l.token)){const f=l.token;Promise.resolve().then(()=>{t({token:f.token}),hL(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>hL(n))}(n,"INTERNAL",e),removeTokenListener:e=>aR(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Vc.registerVersion)("@firebase/app-check","0.5.2");class BC{constructor(){return(0,Kn.vb)("app-check")}}"undefined"!=typeof window&&window,N(7892);const CL=new d.OlP("angularfire2.auth.use-emulator"),DL=new d.OlP("angularfire2.auth.settings"),IL=new d.OlP("angularfire2.auth.tenant-id"),TL=new d.OlP("angularfire2.auth.langugage-code"),AL=new d.OlP("angularfire2.auth.use-device-language"),SL=new d.OlP("angularfire.auth.persistence"),ML=(n,e,t,r,i,l,u,f)=>(0,ja.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,l&&_.useDeviceLanguage(),u)for(const[w,T]of Object.entries(u))_.settings[w]=T;return f&&_.setPersistence(f),_},[t,r,i,l,u,f]);let xL=(()=>{class n{constructor(t,r,i,l,u,f,_,w,T,R,V,H){const X=new nn.x,_e=nt(void 0).pipe((0,RC.Q)(u.outsideAngular),fr(()=>l.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,2115)))),(0,bt.U)(()=>(0,ja.on)(t,l,r)),(0,bt.U)(Re=>ML(Re,l,f,w,T,R,_,V)),X1({bufferSize:1,refCount:!1}));if($r(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=nt(null);else{_e.pipe(_o()).subscribe();const pt=_e.pipe(fr(_t=>_t.getRedirectResult().then(An=>An,()=>null)),Kn.iC,X1({bufferSize:1,refCount:!1})),Et=_e.pipe(fr(_t=>new hr.y(An=>({unsubscribe:l.runOutsideAngular(()=>_t.onAuthStateChanged(Dr=>An.next(Dr),Dr=>An.error(Dr),()=>An.complete()))})))),Zt=_e.pipe(fr(_t=>new hr.y(An=>({unsubscribe:l.runOutsideAngular(()=>_t.onIdTokenChanged(Dr=>An.next(Dr),Dr=>An.error(Dr),()=>An.complete()))}))));this.authState=pt.pipe(J1(Et),(0,Kx.R)(u.outsideAngular),(0,RC.Q)(u.insideAngular)),this.user=pt.pipe(J1(Zt),(0,Kx.R)(u.outsideAngular),(0,RC.Q)(u.insideAngular)),this.idToken=this.user.pipe(fr(_t=>_t?(0,xn.D)(_t.getIdToken()):nt(null))),this.idTokenResult=this.user.pipe(fr(_t=>_t?(0,xn.D)(_t.getIdTokenResult()):nt(null))),this.credential=(0,Ri.T)(pt,X,this.authState.pipe(Gn(_t=>!_t))).pipe((0,bt.U)(_t=>(null==_t?void 0:_t.user)?_t:null),(0,Kx.R)(u.outsideAngular),(0,RC.Q)(u.insideAngular))}return(0,ja.pX)(this,_e,l,{spy:{apply:(Re,pt,Et)=>{(Re.startsWith("signIn")||Re.startsWith("createUser"))&&Et.then(Zt=>X.next(Zt))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ja.Dh),d.LFG(ja.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Kn.HU),d.LFG(CL,8),d.LFG(DL,8),d.LFG(IL,8),d.LFG(TL,8),d.LFG(AL,8),d.LFG(SL,8),d.LFG(BC,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function RL(n,e){return function(n,e=Ru.z){return new hr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function hR(n,e){return RL(n,e).pipe((0,bt.U)(t=>({payload:t,type:"query"})))}function UC(n,e){return hR(n,e).pipe(Gr(void 0),XA(),(0,bt.U)(([t,r])=>{const i=r.payload.docChanges(),l=i.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((u,f)=>{const _=i.find(T=>T.doc.ref.isEqual(u.ref)),w=null==t?void 0:t.payload.docs.find(T=>T.ref.isEqual(u.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(u.metadata)||!_&&w&&JSON.stringify(w.metadata)===JSON.stringify(u.metadata)||l.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:u}})}),l}))}function kL(n,e,t){return UC(n,t).pipe(Ti((r,i)=>function(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return fR(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return fR(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return fR(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(l=>l.payload),e),[]),gp(),(0,bt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function fR(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function OL(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class PL{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=UC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,bt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Gr(void 0),XA(),Gn(([r,i])=>i.length>0||!r),(0,bt.U)(([r,i])=>i),Kn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ti((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=OL(e);return kL(this.query,t,this.afs.schedulers.outsideAngular).pipe(Kn.iC)}valueChanges(e={}){return hR(this.query,this.afs.schedulers.outsideAngular).pipe((0,bt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Kn.iC)}get(e){return(0,xn.D)(this.query.get(e)).pipe(Kn.iC)}add(e){return this.ref.add(e)}doc(e){return new NL(this.ref.doc(e),this.afs)}}class NL{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:l}=FL(r,t);return new PL(i,l,this.afs)}snapshotChanges(){return function(n,e){return RL(n,e).pipe(Gr(void 0),XA(),(0,bt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Kn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,bt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,xn.D)(this.ref.get(e)).pipe(Kn.iC)}}class V${constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?UC(this.query,this.afs.schedulers.outsideAngular).pipe((0,bt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Gn(t=>t.length>0),Kn.iC):UC(this.query,this.afs.schedulers.outsideAngular).pipe(Kn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ti((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=OL(e);return kL(this.query,t,this.afs.schedulers.outsideAngular).pipe(Kn.iC)}valueChanges(e={}){return hR(this.query,this.afs.schedulers.outsideAngular).pipe((0,bt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Kn.iC)}get(e){return(0,xn.D)(this.query.get(e)).pipe(Kn.iC)}}const B$=new d.OlP("angularfire2.enableFirestorePersistence"),U$=new d.OlP("angularfire2.firestore.persistenceSettings"),j$=new d.OlP("angularfire2.firestore.settings"),H$=new d.OlP("angularfire2.firestore.use-emulator");function FL(n,e=(t=>t)){return{query:e(n),ref:n}}let LL=(()=>{class n{constructor(t,r,i,l,u,f,_,w,T,R,V,H,X,_e,Re,pt,Et){this.schedulers=_;const Zt=(0,ja.on)(t,f,r),_t=T;R&&ML(Zt,f,V,X,_e,Re,H,pt),[this.firestore,this.persistenceEnabled$]=(0,ja.cc)(`${Zt.name}.firestore`,"AngularFirestore",Zt.name,()=>{const An=f.runOutsideAngular(()=>Zt.firestore());if(l&&An.settings(l),_t&&An.useEmulator(..._t),i&&!$r(u)){const Dr=()=>{try{return(0,xn.D)(An.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(jr){return"undefined"!=typeof console&&console.warn(jr),nt(!1)}};return[An,f.runOutsideAngular(Dr)]}return[An,nt(!1)]},[l,_t,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:u}=FL(i,r),f=this.schedulers.ngZone.run(()=>l);return new PL(f,u,this)}collectionGroup(t,r){const i=r||(u=>u),l=this.firestore.collectionGroup(t);return new V$(i(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new NL(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ja.Dh),d.LFG(ja.xv,8),d.LFG(B$,8),d.LFG(j$,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Kn.HU),d.LFG(U$,8),d.LFG(H$,8),d.LFG(xL,8),d.LFG(CL,8),d.LFG(DL,8),d.LFG(IL,8),d.LFG(TL,8),d.LFG(AL,8),d.LFG(SL,8),d.LFG(BC,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const $$=["*",[["mat-card-footer"]]],z$=["*","mat-card-footer"];let G$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),q$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),W$=(()=>{class n{constructor(t){this._animationMode=t}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Fc,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,r){2&t&&d.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)},exportAs:["matCard"],ngContentSelectors:z$,decls:2,vars:0,template:function(t,r){1&t&&(d.F$t($$),d.Hsn(0),d.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),K$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Is],Is]}),n})(),Z$=(()=>{class n{constructor(){this.cardAction=[{title:"Waterfall",description:"Everyone has to start drinking at the same time. As soon as player 1 stops drinking, player 2 may stop drinking. Player 3 may stop as soon as player 2 stops drinking, and so on."},{title:"You",description:"You decide who drinks"},{title:"Me",description:"Congrats! Drink a shot!"},{title:"Category",description:"Come up with a category (e.g. Colors). Each player must enumerate one item from the category."},{title:"Bust a jive",description:"Player 1 makes a dance move. Player 2 repeats the dance move and adds a second one. "},{title:"Chicks",description:"All girls drink."},{title:"Heaven",description:"Put your hands up! The last player drinks!"},{title:"Mate",description:"Pick a mate. Your mate must always drink when you drink and the other way around."},{title:"Thumbmaster",description:""},{title:"Men",description:"All men drink."},{title:"Quizmaster",description:""},{title:"Never have i ever...",description:"Say something you nnever did. Everyone who did it has to drink."},{title:"Rule",description:"Make a rule. Everyone needs to drink when he breaks the rule."}],this.title="",this.description=""}ngOnInit(){}ngOnChanges(){if(this.card){console.log("Current card is:",this.card);let t=+this.card.split("_")[1];this.title=this.cardAction[t-1].title,this.description=this.cardAction[t-1].description}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-game-info"]],inputs:{card:"card"},features:[d.TTD],decls:5,vars:2,template:function(t,r){1&t&&(d.TgZ(0,"mat-card"),d.TgZ(1,"mat-card-title"),d._uU(2),d.qZA(),d.TgZ(3,"mat-card-content"),d._uU(4),d.qZA(),d.qZA()),2&t&&(d.xp6(2),d.hij(" ",r.card?r.title:"Please add at least one player and then pick a card"," "),d.xp6(2),d.hij(" ",r.card?r.description:"At first please click the pink add button at the top right and then click on the card stack to select the next card."," "))},directives:[W$,q$,G$],styles:["@media (max-width: 720px){mat-card[_ngcontent-%COMP%]{min-height:120px}}"]}),n})();class Q${}class _d{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),l=i.toLowerCase(),u=t.slice(r+1).trim();this.maybeSetNormalizedName(i,l),this.headers.has(l)?this.headers.get(l).push(u):this.headers.set(l,[u])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof _d?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new _d;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof _d?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const l=e.value;if(l){let u=this.headers.get(t);if(!u)return;u=u.filter(f=>-1===l.indexOf(f)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class X${encodeKey(e){return VL(e)}encodeValue(e){return VL(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const ez=/%(\d[a-f0-9])/gi,tz={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function VL(n){return encodeURIComponent(n).replace(ez,(e,t)=>{var r;return null!=(r=tz[t])?r:e})}function BL(n){return`${n}`}class yd{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new X$,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const l=i.indexOf("="),[u,f]=-1==l?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,l)),e.decodeValue(i.slice(l+1))],_=t.get(u)||[];_.push(f),t.set(u,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(l=>{t.push({param:r,value:l,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new yd({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(BL(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(BL(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class nz{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function UL(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function jL(n){return"undefined"!=typeof Blob&&n instanceof Blob}function HL(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Vv{constructor(e,t,r,i){let l;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,l=i):l=r,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new _d),this.context||(this.context=new nz),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+u}}else this.params=new yd,this.urlWithParams=t}serializeBody(){return null===this.body?null:UL(this.body)||jL(this.body)||HL(this.body)||function(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof yd?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||HL(this.body)?null:jL(this.body)?this.body.type||null:UL(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof yd?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var R;const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,l=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let _=e.headers||this.headers,w=e.params||this.params;const T=null!=(R=e.context)?R:this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((V,H)=>V.set(H,e.setHeaders[H]),_)),e.setParams&&(w=Object.keys(e.setParams).reduce((V,H)=>V.set(H,e.setParams[H]),w)),new Vv(t,r,l,{params:w,headers:_,context:T,reportProgress:f,responseType:i,withCredentials:u})}}var $i=(()=>(($i=$i||{})[$i.Sent=0]="Sent",$i[$i.UploadProgress=1]="UploadProgress",$i[$i.ResponseHeader=2]="ResponseHeader",$i[$i.DownloadProgress=3]="DownloadProgress",$i[$i.Response=4]="Response",$i[$i.User=5]="User",$i))();class pR extends class{constructor(e,t=200,r="OK"){this.headers=e.headers||new _d,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=$i.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new pR({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function mR(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let zL=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let l;if(t instanceof Vv)l=t;else{let _,w;_=i.headers instanceof _d?i.headers:new _d(i.headers),i.params&&(w=i.params instanceof yd?i.params:new yd({fromObject:i.params})),l=new Vv(t,r,void 0!==i.body?i.body:null,{headers:_,context:i.context,params:w,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const u=nt(l).pipe(vs(_=>this.handler.handle(_)));if(t instanceof Vv||"events"===i.observe)return u;const f=u.pipe(Gn(_=>_ instanceof pR));switch(i.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return f.pipe((0,bt.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return f.pipe((0,bt.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return f.pipe((0,bt.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return f.pipe((0,bt.U)(_=>_.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new yd).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,mR(i,r))}post(t,r,i={}){return this.request("POST",t,mR(i,r))}put(t,r,i={}){return this.request("PUT",t,mR(i,r))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Q$))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const az=["*"];let jC;function Bv(n){var e;return(null==(e=function(){if(void 0===jC&&(jC=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(jC=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return jC}())?void 0:e.createHTML(n))||n}function GL(n){return Error(`Unable to find icon with the name "${n}"`)}function qL(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function WL(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class yf{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let HC=(()=>{class n{constructor(t,r,i,l){this._httpClient=t,this._sanitizer=r,this._errorHandler=l,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,l){return this._addSvgIconConfig(t,r,new yf(i,null,l))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,l){const u=this._sanitizer.sanitize(d.q3G.HTML,i);if(!u)throw WL(i);const f=Bv(u);return this._addSvgIconConfig(t,r,new yf("",f,l))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new yf(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const l=this._sanitizer.sanitize(d.q3G.HTML,r);if(!l)throw WL(r);const u=Bv(l);return this._addSvgIconSetConfig(t,new yf("",u,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,t);if(!r)throw qL(t);const i=this._cachedIconsByUrl.get(r);return i?nt($C(i)):this._loadSvgIconFromConfig(new yf(t,null)).pipe((0,br.b)(l=>this._cachedIconsByUrl.set(r,l)),(0,bt.U)(l=>$C(l)))}getNamedSvgIcon(t,r=""){const i=KL(r,t);let l=this._svgIconConfigs.get(i);if(l)return this._getSvgFromConfig(l);if(l=this._getIconConfigFromResolvers(r,t),l)return this._svgIconConfigs.set(i,l),this._getSvgFromConfig(l);const u=this._iconSetConfigs.get(r);return u?this._getSvgFromIconSetConfigs(t,u):function(n,e){const t=(0,ci.m)(n)?n:()=>n,r=i=>i.error(t());return new hr.y(r)}(GL(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?nt($C(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,bt.U)(r=>$C(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?nt(i):gA(r.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(Rr(f=>{const w=`Loading icon set URL: ${this._sanitizer.sanitize(d.q3G.RESOURCE_URL,u.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(w)),nt(null)})))).pipe((0,bt.U)(()=>{const u=this._extractIconWithNameFromAnySet(t,r);if(!u)throw GL(t);return u}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const l=r[i];if(l.svgText&&l.svgText.toString().indexOf(t)>-1){const u=this._svgElementFromConfig(l),f=this._extractSvgIconFromSet(u,t,l.options);if(f)return f}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,br.b)(r=>t.svgText=r),(0,bt.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?nt(null):this._fetchIcon(t).pipe((0,br.b)(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const l=t.querySelector(`[id="${r}"]`);if(!l)return null;const u=l.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,i);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),i);const f=this._svgElementFromString(Bv("<svg></svg>"));return f.appendChild(u),this._setSvgAttributes(f,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(Bv("<svg></svg>")),i=t.attributes;for(let l=0;l<i.length;l++){const{name:u,value:f}=i[l];"id"!==u&&r.setAttribute(u,f)}for(let l=0;l<t.childNodes.length;l++)t.childNodes[l].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[l].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){var w;const{url:r,options:i}=t,l=null!=(w=null==i?void 0:i.withCredentials)&&w;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const u=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,r);if(!u)throw qL(r);const f=this._inProgressUrlFetches.get(u);if(f)return f;const _=this._httpClient.get(u,{responseType:"text",withCredentials:l}).pipe((0,bt.U)(T=>Bv(T)),gu(()=>this._inProgressUrlFetches.delete(u)),(0,Q1.B)());return this._inProgressUrlFetches.set(u,_),_}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(KL(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const l=this._resolvers[i](r,t);if(l)return dz(l)?new yf(l.url,null,l.options):new yf(l,null)}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(zL,8),d.LFG(ul),d.LFG(ne,8),d.LFG(d.qLn))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $C(n){return n.cloneNode(!0)}function KL(n,e){return n+":"+e}function dz(n){return!(!n.url||!n.options)}const hz=ry(class{constructor(n){this._elementRef=n}}),fz=new d.OlP("mat-icon-location",{providedIn:"root",factory:function(){const n=(0,d.f3M)(ne),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),ZL=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],mz=ZL.map(n=>`[${n}]`).join(", "),gz=/^url\(['"]?#(.*?)['"]?\)$/;let _z=(()=>{class n extends hz{constructor(t,r,i,l,u){super(t),this._iconRegistry=r,this._location=l,this._errorHandler=u,this._inline=!1,this._currentIconFetch=$s.w0.EMPTY,i||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Il(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=t.querySelectorAll("style");for(let l=0;l<r.length;l++)r[l].textContent+=" ";const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();r!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),r&&t.classList.add(r),this._previousFontSetClass=r),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,l)=>{i.forEach(u=>{l.setAttribute(u.name,`url('${t}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(mz),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let l=0;l<r.length;l++)ZL.forEach(u=>{const f=r[l],_=f.getAttribute(u),w=_?_.match(gz):null;if(w){let T=i.get(f);T||(T=[],i.set(f,T)),T.push({name:u,value:w[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe((0,vr.q)(1)).subscribe(l=>this._setSvgElement(l),l=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${l.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(HC),d.$8M("aria-hidden"),d.Y36(fz),d.Y36(d.qLn))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,r){2&t&&(d.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),d.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[d.qOj],ngContentSelectors:az,decls:1,vars:0,template:function(t,r){1&t&&(d.F$t(),d.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),yz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Is],Is]}),n})(),vz=(()=>{class n{constructor(){this.image="player2.png",this.playerActive=!1}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-player"]],inputs:{name:"name",image:"image",playerActive:"playerActive"},decls:4,vars:4,consts:[[1,"player"],[3,"src"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0),d._UZ(1,"img",1),d.TgZ(2,"span"),d._uU(3),d.qZA(),d.qZA()),2&t&&(d.ekj("player-active",r.playerActive),d.xp6(1),d.MGl("src","/assets/portfolio/ringoffire/assets/img/profile/",r.image,"",d.LSH),d.xp6(2),d.Oqu(r.name))},styles:[".player[_ngcontent-%COMP%]{overflow:hidden;display:flex;align-items:center;width:224px;border-top-left-radius:50px;border-bottom-left-radius:50px;font-family:Arial,Helvetica,sans-serif;background-color:#646464cc}.player[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px;margin-left:16px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.player[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;object-fit:cover;border-top-left-radius:50px;border-bottom-left-radius:50px}.player-active[_ngcontent-%COMP%]{background-color:#ff0!important}"]}),n})(),bz=(()=>{class n{constructor(){this.image="player2.png",this.playerActive=!1}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-player-mobile"]],inputs:{name:"name",image:"image",playerActive:"playerActive"},decls:5,vars:4,consts:[[1,"player"],[3,"src"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"span"),d.TgZ(2,"b"),d._uU(3),d.qZA(),d.qZA(),d._UZ(4,"img",1),d.qZA()),2&t&&(d.ekj("player-active",r.playerActive),d.xp6(3),d.Oqu(r.name),d.xp6(1),d.MGl("src","/assets/portfolio/ringoffire/assets/img/profile/",r.image,"",d.LSH))},styles:[".player[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;width:75px;border-bottom-left-radius:50px;border-bottom-right-radius:50px;font-family:Arial,Helvetica,sans-serif;padding-top:8px;background-color:#646464cc;font-size:18px}.player[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;text-align:center;height:24px}.player[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:16px;width:75px;height:80px;object-fit:cover;border-bottom-left-radius:50px;border-bottom-right-radius:50px}.player-active[_ngcontent-%COMP%]{background-color:#ff0!important}"]}),n})();const Ez=function(n){return{"top.px":n}};function wz(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"app-player",8),d.NdJ("click",function(){const l=d.CHM(t).index;return d.oxw().editPlayer(l)}),d.qZA()}if(2&n){const t=e.$implicit,r=e.index,i=d.oxw();d.Q6J("ngStyle",d.VKq(4,Ez,24+60*r))("playerActive",r==i.game.currentPlayer)("image",i.game.player_images[r])("name",t)}}function Cz(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"app-player-mobile",9),d.NdJ("click",function(){const l=d.CHM(t).index;return d.oxw().editPlayer(l)}),d.qZA()}if(2&n){const t=e.$implicit,r=e.index,i=d.oxw();d.Q6J("playerActive",r==i.game.currentPlayer)("image",i.game.player_images[r])("name",t)}}const Dz=function(n){return{"right.px":n}};function Iz(n,e){1&n&&d._UZ(0,"img",17),2&n&&d.Q6J("ngStyle",d.VKq(1,Dz,5*e.index))}const Tz=function(){return[0,1,2,3]};function Az(n,e){1&n&&(d.TgZ(0,"div"),d.YNc(1,Iz,1,3,"img",16),d.qZA()),2&n&&(d.xp6(1),d.Q6J("ngForOf",d.DdM(1,Tz)))}function Sz(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"img",18),d.NdJ("click",function(){return d.CHM(t),d.oxw(2).takeCard()}),d.qZA()}}function Mz(n,e){1&n&&d._UZ(0,"img",19),2&n&&d.MGl("src","assets/img/cards/",e.$implicit,".png",d.LSH)}function xz(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"img",20),d.NdJ("click",function(){return d.CHM(t),d.oxw(2).takeCard()}),d.qZA()}if(2&n){const t=d.oxw(2);d.MGl("src","assets/img/cards/",t.game.currentCard,".png",d.LSH)}}function Rz(n,e){if(1&n&&(d.TgZ(0,"div",10),d.TgZ(1,"div",11),d.YNc(2,Az,2,2,"div",12),d.YNc(3,Sz,1,0,"img",13),d.YNc(4,Mz,1,1,"img",14),d.YNc(5,xz,1,1,"img",15),d.qZA(),d.qZA()),2&n){const t=d.oxw();d.xp6(2),d.Q6J("ngIf",t.game.stack.length>0),d.xp6(1),d.Q6J("ngIf",t.game.stack.length>0),d.xp6(1),d.Q6J("ngForOf",t.game.playedCards),d.xp6(1),d.Q6J("ngIf",t.game.pickCardAnimation)}}const kz=[{path:"",component:(()=>{class n{constructor(t,r){this.firestore=t,this.router=r}ngOnInit(){}newGame(){let t=new ip;this.firestore.collection("games").add(t.toJSON()).then(r=>{console.log(r),this.router.navigateByUrl("/game/"+r.id)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(LL),d.Y36(ts))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-start-screen"]],decls:16,vars:0,consts:[[1,"start-screen"],[1,"gold-framework"],[1,"start-framework"],[1,"start-inner-framework"],[1,"headline"],[1,"of"],[1,"start-label-box",3,"click"],[2,"color","black"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0),d._UZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"div",3),d.TgZ(4,"div",4),d.TgZ(5,"h1"),d._uU(6,"RING"),d._UZ(7,"br"),d.TgZ(8,"div",5),d._uU(9,"OF"),d._UZ(10,"br"),d.qZA(),d._uU(11," FIRE "),d.qZA(),d.qZA(),d.TgZ(12,"div",6),d.NdJ("click",function(){return r.newGame()}),d.TgZ(13,"p",7),d._uU(14,"Start game"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d._UZ(15,"div",1),d.qZA())},styles:[".start-screen[_ngcontent-%COMP%]{background-color:#404040;width:100vw;height:100vh;max-width:100%;display:flex;justify-content:center;align-items:center;flex-direction:column}.gold-framework[_ngcontent-%COMP%]{background-color:gold;width:512px;height:16px}@media (max-width: 513px){.gold-framework[_ngcontent-%COMP%]{width:324px}}.start-framework[_ngcontent-%COMP%]{background-color:gold;width:512px;height:100%;display:flex;justify-content:center;align-items:center}@media (max-width: 513px){.start-framework[_ngcontent-%COMP%]{width:324px}}.start-inner-framework[_ngcontent-%COMP%]{background:linear-gradient(.5turn,#7c0000,red,#7c0000);color:#fff;font-family:Arial,Helvetica,sans-serif;font-size:1.8em;width:480px;height:100%;display:flex;justify-content:center;align-items:center;text-align:center;flex-direction:column}@media (max-width: 513px){.start-inner-framework[_ngcontent-%COMP%]{width:300px}}.of[_ngcontent-%COMP%]{font-size:.6em}.start-label-box[_ngcontent-%COMP%]{background:linear-gradient(.35turn,gold,#ffe554,gold,gold,#ffe554,gold,gold,#ffe554,gold);width:256px;height:64px;display:flex;justify-content:center;align-items:center;color:#000;font-size:.8em;margin-bottom:128px}.start-label-box[_ngcontent-%COMP%]:hover{filter:brightness(1.75);transition:1s;cursor:pointer}@media (max-width: 513px){.start-label-box[_ngcontent-%COMP%]{width:225px}}.headline[_ngcontent-%COMP%]{margin-bottom:32px}"]}),n})()},{path:"game/:id",component:(()=>{class n{constructor(t,r,i){this.route=t,this.firestore=r,this.dialog=i,this.enoughCards=!0,this.noCards=!1,this.gameOver=!1}ngOnInit(){this.newGame(),this.route.params.subscribe(t=>{console.log(t.id),this.gameId=t.id,this.firestore.collection("games").doc(this.gameId).valueChanges().subscribe(r=>{console.log("Game update",r),this.game.currentPlayer=r.currentPlayer,this.game.playedCards=r.playedCards,this.game.players=r.players,this.game.player_images=r.player_images,this.game.stack=r.stack,this.game.pickCardAnimation=r.pickCardAnimation,this.game.currentCard=r.currentCard})})}newGame(){this.game=new ip,console.log(this.game)}takeCard(){0==this.game.stack.length?this.gameOver=!0:!this.game.pickCardAnimation&&this.game.stack.length>0&&this.game.players.length>0&&(this.game.currentCard=this.game.stack.pop(),this.game.pickCardAnimation=!0,console.log("New card: "+this.game.currentCard),console.log("Game is ",this.game),this.game.currentPlayer++,this.game.currentPlayer=this.game.currentPlayer%this.game.players.length,this.saveGame(),setTimeout(()=>{this.game.playedCards.push(this.game.currentCard),this.game.pickCardAnimation=!1,this.saveGame()},1e3),this.verificationOfTheNumberOfCards())}verificationOfTheNumberOfCards(){0==this.game.stack.length&&(this.enoughCards=!1,this.noCards=!0)}editPlayer(t){console.log("Edit player",t),this.dialog.open(VV).afterClosed().subscribe(i=>{i&&("DELETE"==i?(this.game.players.splice(t,1),this.game.player_images.splice(t,1)):this.game.player_images[t]=i,this.saveGame())})}openDialog(){this.dialog.open(FV).afterClosed().subscribe(r=>{r&&r.length>0&&(this.game.players.push(r),this.game.player_images.push("player2.png"),this.saveGame())})}saveGame(){this.firestore.collection("games").doc(this.gameId).update(this.game.toJSON())}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(sa),d.Y36(LL),d.Y36(sm))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-game"]],decls:10,vars:5,consts:[[1,"pin-bottom",3,"card"],["mat-fab","","color","primary",1,"button-add",3,"click"],[1,""],["class","player-position hide-mobile",3,"ngStyle","playerActive","image","name","click",4,"ngFor","ngForOf"],[1,"scroll-container-mobile"],["class","hide-desktop",3,"playerActive","image","name","click",4,"ngFor","ngForOf"],["class","field",4,"ngIf"],[1,"preloadImage",3,"src"],[1,"player-position","hide-mobile",3,"ngStyle","playerActive","image","name","click"],[1,"hide-desktop",3,"playerActive","image","name","click"],[1,"field"],[1,"card-stack"],[4,"ngIf"],["class","top-card","style","right: 32px; top: -50px","src","assets/img/cards/card_cover.png",3,"click",4,"ngIf"],["class","played-card",3,"src",4,"ngFor","ngForOf"],["class","pick-card","style","right: 25px; top: -50px",3,"src","click",4,"ngIf"],["class","stack","style","top: -50px","src","assets/img/cards/card_cover.png",3,"ngStyle",4,"ngFor","ngForOf"],["src","assets/img/cards/card_cover.png",1,"stack",2,"top","-50px",3,"ngStyle"],["src","assets/img/cards/card_cover.png",1,"top-card",2,"right","32px","top","-50px",3,"click"],[1,"played-card",3,"src"],[1,"pick-card",2,"right","25px","top","-50px",3,"src","click"]],template:function(t,r){1&t&&(d._UZ(0,"app-game-info",0),d.TgZ(1,"button",1),d.NdJ("click",function(){return r.openDialog()}),d.TgZ(2,"mat-icon"),d._uU(3,"add"),d.qZA(),d.qZA(),d.TgZ(4,"div",2),d.YNc(5,wz,1,6,"app-player",3),d.qZA(),d.TgZ(6,"div",4),d.YNc(7,Cz,1,3,"app-player-mobile",5),d.qZA(),d.YNc(8,Rz,6,4,"div",6),d._UZ(9,"img",7)),2&t&&(d.Q6J("card",r.game.currentCard),d.xp6(5),d.Q6J("ngForOf",r.game.players),d.xp6(2),d.Q6J("ngForOf",r.game.players),d.xp6(1),d.Q6J("ngIf",!r.gameOver),d.xp6(1),d.MGl("src","assets/img/cards/",r.game.stack[r.game.stack.length-1],".png",d.LSH))},directives:[Z$,QA,_z,Lo,ds,vz,oi,bz],styles:['@charset "UTF-8";.field[_ngcontent-%COMP%]{width:100vw;height:100vh;max-width:100%;background-image:url(/assets/portfolio/ringoffire/assets/img/background2.jpg);background-size:cover;background-position:top;display:flex;justify-content:center;align-items:center}.card-stack[_ngcontent-%COMP%]{position:relative}.card-stack[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;width:128px}@media (max-width: 720px){.card-stack[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px}}@media (max-width: 720px){.stack[_ngcontent-%COMP%]{top:0px!important}}.top-card[_ngcontent-%COMP%]{cursor:pointer;transition:all 125ms ease-in-out}.top-card[_ngcontent-%COMP%]:hover{transform:scale(1.1) translatey(-10px)}@media (max-width: 720px){.top-card[_ngcontent-%COMP%]{top:0px!important}}.played-card[_ngcontent-%COMP%]{right:25px;transform:scale(1.3) translate(150px) translateY(-180px) rotate(-10deg)}@media (max-width: 720px){.played-card[_ngcontent-%COMP%]{top:50px!important;right:50px!important}}@media (max-width: 400px){.played-card[_ngcontent-%COMP%]{top:70px!important;right:70px!important}}.pick-card[_ngcontent-%COMP%]{animation:pick-card-animation 1s ease-in-out;transform:scale(1.3) translate(150px) translateY(-180px) rotate(-10deg)}@media (max-width: 720px){.pick-card[_ngcontent-%COMP%]{top:0px!important}}@keyframes pick-card-animation{0%{transform:scale(1.3)}40%{transform:scale(1.7)}60%{transform:scale(1.7)}to{transform:scale(1.3) translate(150px) translateY(-180px) rotate(-10deg)}}.player-position[_ngcontent-%COMP%]{position:absolute;right:0;z-index:1}.button-add[_ngcontent-%COMP%]{position:absolute;right:32px;bottom:50px}@media (max-width: 720px){.button-add[_ngcontent-%COMP%]{bottom:180px;right:32px}}.pin-bottom[_ngcontent-%COMP%]{position:absolute;bottom:32px;left:100px;right:100px}@media (max-width: 720px){.pin-bottom[_ngcontent-%COMP%]{bottom:0px;left:0px;right:0px}}.displayNone[_ngcontent-%COMP%]{display:none!important}.scroll-container-mobile[_ngcontent-%COMP%]{position:absolute;display:flex;left:0;right:0;top:0;overflow-x:auto;overflow-y:hidden}.scroll-container-mobile[_ngcontent-%COMP%]   app-player-mobile[_ngcontent-%COMP%]{margin-left:8px}app-player[_ngcontent-%COMP%], app-player-mobile[_ngcontent-%COMP%]{cursor:pointer}app-player[_ngcontent-%COMP%]:hover, app-player-mobile[_ngcontent-%COMP%]:hover{filter:brightness(1.2)}.preloadImage[_ngcontent-%COMP%]{opacity:0;height:0px;width:0px;z-index:-9999999999}']}),n})()}];let Oz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[jg.forRoot(kz)],jg]}),n})(),Pz=(()=>{class n{constructor(){this.title="ringoffire"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&d._UZ(0,"router-outlet")},directives:[Ud],styles:[""]}),n})();N(8224);class QL{constructor(){return(0,Kn.vb)("auth")}}class yR{constructor(e){return e}}const XL="firestore",vR=new d.OlP("angularfire2.firestore-instances");function Uz(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new yR(r)}}const jz={provide:class{constructor(){return(0,Kn.vb)(XL)}},deps:[[new d.FiY,vR]]},Hz={provide:yR,useFactory:function(n,e){const t=(0,Kn.JM)(XL,n,e);return t&&new yR(t)},deps:[[new d.FiY,vR],cg]};let $z=(()=>{class n{constructor(){(0,_f.KN)("angularfire",Kn.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Hz,jz]}),n})();function zz(n,...e){return{ngModule:$z,providers:[{provide:vR,useFactory:Uz(n),multi:!0,deps:[d.R0b,d.zs3,Kn.HU,eL,[new d.FiY,QL],[new d.FiY,BC],...e]}]}}const Gz=(0,Kn.u3)(Oj,!0),bR_firebase={projectId:"ring-of-fire-3ca12",appId:"1:1027882156461:web:cff86a47204f83bd466124",storageBucket:"ring-of-fire-3ca12.appspot.com",apiKey:"AIzaSyBjOCei3PSJlM4FROwDolHMPbAZqyaMRFk",authDomain:"ring-of-fire-3ca12.firebaseapp.com",messagingSenderId:"1027882156461"};let qz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n,bootstrap:[Pz]}),n.\u0275inj=d.cJS({providers:[],imports:[[ja.hO.initializeApp(bR_firebase),rl,Oz,NV,yz,Mw,MV,By,K$,xT,UH(()=>jH(bR_firebase)),zz(()=>Gz())]]}),n})();(0,d.G48)(),nl().bootstrapModule(qz).catch(n=>console.error(n))},9162:(tt,ve,N)=>{"use strict";function le(se,fe,be,De){return new(be||(be=Promise))(function(me,Tt){function dn(Mt){try{St(De.next(Mt))}catch(Rt){Tt(Rt)}}function Zn(Mt){try{St(De.throw(Mt))}catch(Rt){Tt(Rt)}}function St(Mt){Mt.done?me(Mt.value):function(me){return me instanceof be?me:new be(function(Tt){Tt(me)})}(Mt.value).then(dn,Zn)}St((De=De.apply(se,fe||[])).next())})}function de(se){return this instanceof de?(this.v=se,this):new de(se)}function J(se,fe,be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,De=be.apply(se,fe||[]),me=[];return Le={},Tt("next"),Tt("throw"),Tt("return"),Le[Symbol.asyncIterator]=function(){return this},Le;function Tt(vn){De[vn]&&(Le[vn]=function(gr){return new Promise(function(_r,sn){me.push([vn,gr,_r,sn])>1||dn(vn,gr)})})}function dn(vn,gr){try{!function(vn){vn.value instanceof de?Promise.resolve(vn.value.v).then(St,Mt):Rt(me[0][2],vn)}(De[vn](gr))}catch(_r){Rt(me[0][3],_r)}}function St(vn){dn("next",vn)}function Mt(vn){dn("throw",vn)}function Rt(vn,gr){vn(gr),me.shift(),me.length&&dn(me[0][0],me[0][1])}}function Te(se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,fe=se[Symbol.asyncIterator];return fe?fe.call(se):(se=function(se){var fe="function"==typeof Symbol&&Symbol.iterator,be=fe&&se[fe],De=0;if(be)return be.call(se);if(se&&"number"==typeof se.length)return{next:function(){return se&&De>=se.length&&(se=void 0),{value:se&&se[De++],done:!se}}};throw new TypeError(fe?"Object is not iterable.":"Symbol.iterator is not defined.")}(se),be={},De("next"),De("throw"),De("return"),be[Symbol.asyncIterator]=function(){return this},be);function De(me){be[me]=se[me]&&function(Tt){return new Promise(function(dn,Zn){!function(me,Tt,dn,Zn){Promise.resolve(Zn).then(function(St){me({value:St,done:dn})},Tt)}(dn,Zn,(Tt=se[me](Tt)).done,Tt.value)})}}}N.d(ve,{mG:()=>le,qq:()=>de,FC:()=>J,KL:()=>Te})},3668:(tt,ve,N)=>{"use strict";N.d(ve,{deG:()=>ea,tb:()=>wy,AFp:()=>vy,ip1:()=>Yu,CZH:()=>Ts,hGG:()=>Ly,z2F:()=>Vh,sBO:()=>xA,Sil:()=>um,_Vd:()=>xh,EJc:()=>Dy,SBq:()=>Rh,qLn:()=>zd,vpe:()=>Va,tBr:()=>Wn,XFs:()=>st,OlP:()=>Fn,zs3:()=>Ao,ZZ4:()=>zh,aQg:()=>Gh,soG:()=>Nh,YKP:()=>LT,h0i:()=>zu,PXZ:()=>gm,R0b:()=>Pi,FiY:()=>cn,Lbi:()=>Ey,g9A:()=>Ww,Qsj:()=>MT,FYo:()=>ey,JOm:()=>aa,q3G:()=>g,tp0:()=>Pr,Rgc:()=>tm,dDg:()=>Iy,q4F:()=>kT,GfV:()=>RT,s_b:()=>ay,ifc:()=>Ke,eFA:()=>_m,G48:()=>vm,Gpc:()=>$,f3M:()=>Oe,X6Q:()=>Ay,_c5:()=>HA,VLi:()=>Ua,c2e:()=>Cy,zSh:()=>Hb,wAp:()=>It,vHH:()=>je,EiD:()=>qf,mCW:()=>ka,qzn:()=>gl,JVY:()=>dc,pB0:()=>bg,eBb:()=>Ff,L6k:()=>yl,LAX:()=>Lf,cg1:()=>B_,kL8:()=>Np,yhl:()=>_l,dqk:()=>Qt,sIi:()=>pp,CqO:()=>uE,QGY:()=>h_,F4k:()=>jI,RDi:()=>Hl,AaK:()=>le,z3N:()=>Eo,qOj:()=>Wb,TTD:()=>Gi,_Bn:()=>Mh,xp6:()=>Zd,uIk:()=>Yb,ekj:()=>Dp,Suo:()=>Aw,Xpm:()=>$n,lG2:()=>jt,Yz7:()=>sn,cJS:()=>wn,oAB:()=>Ae,Yjl:()=>Pt,Y36:()=>bh,_UZ:()=>BI,BQk:()=>d_,ynx:()=>u_,qZA:()=>aE,TgZ:()=>oE,EpF:()=>Ic,n5z:()=>Jo,Ikx:()=>Pp,LFG:()=>j,$8M:()=>vr,$Z:()=>rE,NdJ:()=>dE,CRH:()=>hy,oxw:()=>HI,Hsn:()=>vp,F$t:()=>f_,Q6J:()=>iE,MGl:()=>p_,DdM:()=>HT,VKq:()=>$T,iGM:()=>uy,CHM:()=>Ki,LSH:()=>O,WFA:()=>hE,d8E:()=>L_,YNc:()=>wI,_uU:()=>wh,Oqu:()=>Vu,hij:()=>Ch,Gf:()=>dy});var d=N(273),B=N(7908),P=N(8305),oe=N(3719),ae=N(3174);function ge(s){for(let o in s)if(s[o]===ge)return o;throw Error("Could not find renamed property on target object.")}function ne(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function le(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(le).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function he(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const G=ge({__forward_ref__:ge});function $(s){return s.__forward_ref__=$,s.toString=function(){return le(this())},s}function ie(s){return Be(s)?s():s}function Be(s){return"function"==typeof s&&s.hasOwnProperty(G)&&s.__forward_ref__===$}class je extends Error{constructor(o,a){super(function(s,o){return`${s?`NG0${s}: `:""}${o}`}(o,a)),this.code=o}}function J(s){return"string"==typeof s?s:null==s?"":String(s)}function ce(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():J(s)}function ke(s,o){const a=o?` in ${o}`:"";throw new je("201",`No provider for ${ce(s)} found${a}`)}function Mt(s,o){null==s&&function(s,o,a,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${a} ${c} ${o} <=Actual]`))}(o,s,null,"!=")}function sn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function wn(s){return{providers:s.providers||[],imports:s.imports||[]}}function On(s){return Xt(s,Fe)||Xt(s,Yn)}function Xt(s,o){return s.hasOwnProperty(o)?s[o]:null}function vi(s){return s&&(s.hasOwnProperty(Cn)||s.hasOwnProperty(ti))?s[Cn]:null}const Fe=ge({\u0275prov:ge}),Cn=ge({\u0275inj:ge}),Yn=ge({ngInjectableDef:ge}),ti=ge({ngInjectorDef:ge});var st=(()=>((st=st||{})[st.Default=0]="Default",st[st.Host=1]="Host",st[st.Self=2]="Self",st[st.SkipSelf=4]="SkipSelf",st[st.Optional=8]="Optional",st))();let qt;function Qn(s){const o=qt;return qt=s,o}function mt(s,o,a){const c=On(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&st.Optional?null:void 0!==o?o:void ke(le(s),"Injector")}function Ft(s){return{toString:s}.toString()}var Ut=(()=>((Ut=Ut||{})[Ut.OnPush=0]="OnPush",Ut[Ut.Default=1]="Default",Ut))(),Ke=(()=>{return(s=Ke||(Ke={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Ke;var s})();const ut="undefined"!=typeof globalThis&&globalThis,ma="undefined"!=typeof window&&window,hn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Qt=ut||"undefined"!=typeof global&&global||ma||hn,z={},U=[],W=ge({\u0275cmp:ge}),Ce=ge({\u0275dir:ge}),re=ge({\u0275pipe:ge}),it=ge({\u0275mod:ge}),lt=ge({\u0275fac:ge}),on=ge({__NG_ELEMENT_ID__:ge});let Jn=0;function $n(s){return Ft(()=>{const a={},c={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Ut.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||U,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Ke.Emulated,id:"c",styles:s.styles||U,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,m=s.features,y=s.pipes;return c.id+=Jn++,c.inputs=Ct(s.inputs,a),c.outputs=Ct(s.outputs),m&&m.forEach(E=>E(c)),c.directiveDefs=h?()=>("function"==typeof h?h():h).map(te):null,c.pipeDefs=y?()=>("function"==typeof y?y():y).map(Y):null,c})}function te(s){return Ht(s)||function(s){return s[Ce]||null}(s)}function Y(s){return function(s){return s[re]||null}(s)}const K={};function Ae(s){return Ft(()=>{const o={type:s.type,bootstrap:s.bootstrap||U,declarations:s.declarations||U,imports:s.imports||U,exports:s.exports||U,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(K[s.id]=s.type),o})}function Ct(s,o){if(null==s)return z;const a={};for(const c in s)if(s.hasOwnProperty(c)){let h=s[c],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),a[h]=c,o&&(o[h]=m)}return a}const jt=$n;function Pt(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Ht(s){return s[W]||null}function Dt(s,o){const a=s[it]||null;if(!a&&!0===o)throw new Error(`Type ${le(s)} does not have '\u0275mod' property.`);return a}function zi(s){return Array.isArray(s)&&"object"==typeof s[1]}function Mn(s){return Array.isArray(s)&&!0===s[1]}function Xc(s){return 0!=(8&s.flags)}function Ls(s){return 2==(2&s.flags)}function Wa(s){return 1==(1&s.flags)}function oi(s){return null!==s.template}function Jc(s){return 0!=(512&s[2])}function Bs(s,o){return s.hasOwnProperty(lt)?s[lt]:null}class _a{constructor(o,a,c){this.previousValue=o,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function Gi(){return qi}function qi(s){return s.type.prototype.ngOnChanges&&(s.setInput=cu),lu}function lu(){const s=io(this),o=null==s?void 0:s.current;if(o){const a=s.previous;if(a===z)s.previous=o;else for(let c in o)a[c]=o[c];s.current=null,this.ngOnChanges(o)}}function cu(s,o,a,c){const h=io(s)||function(s,o){return s[Ei]=o}(s,{previous:z,current:null}),m=h.current||(h.current={}),y=h.previous,E=this.declaredInputs[a],C=y[E];m[E]=new _a(C&&C.currentValue,o,y===z),s[c]=o}Gi.ngInherit=!0;const Ei="__ngSimpleChanges__";function io(s){return s[Ei]||null}let Za;function Hl(s){Za=s}function mn(s){return!!s.listen}const so={createRenderer:(s,o)=>void 0!==Za?Za:"undefined"!=typeof document?document:void 0};function Bn(s){for(;Array.isArray(s);)s=s[0];return s}function Wi(s,o){return Bn(o[s])}function Tr(s,o){return Bn(o[s.index])}function Bo(s,o){return s.data[o]}function Wt(s,o){const a=o[s];return zi(a)?a:a[0]}function Ya(s){return 4==(4&s[2])}function Us(s){return 128==(128&s[2])}function Mr(s,o){return null==o?null:s[o]}function jo(s){s[18]=0}function dr(s,o){s[5]+=o;let a=s,c=s[3];for(;null!==c&&(1===o&&1===a[5]||-1===o&&0===a[5]);)c[5]+=o,a=c,c=c[3]}const gt={lFrame:Ea(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Xa(){return gt.bindingsEnabled}function xe(){return gt.lFrame.lView}function $t(){return gt.lFrame.tView}function Ki(s){return gt.lFrame.contextLView=s,s[8]}function Un(){let s=el();for(;null!==s&&64===s.type;)s=s.parent;return s}function el(){return gt.lFrame.currentTNode}function Ar(s,o){const a=gt.lFrame;a.currentTNode=s,a.isParent=o}function va(){return gt.lFrame.isParent}function js(){gt.lFrame.isParent=!1}function Ho(){return gt.isInCheckNoChangesMode}function $o(s){gt.isInCheckNoChangesMode=s}function or(){const s=gt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function zo(){return gt.lFrame.bindingIndex++}function qo(s,o){const a=gt.lFrame;a.bindingIndex=a.bindingRootIndex=s,co(o)}function co(s){gt.lFrame.currentDirectiveIndex=s}function nl(s){const o=gt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function Wo(){return gt.lFrame.currentQueryIndex}function rl(s){gt.lFrame.currentQueryIndex=s}function il(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Wl(s,o,a){if(a&st.SkipSelf){let h=o,m=s;for(;!(h=h.parent,null!==h||a&st.Host||(h=il(m),null===h||(m=m[15],10&h.type))););if(null===h)return!1;o=h,s=m}const c=gt.lFrame=Kl();return c.currentTNode=o,c.lView=s,!0}function ba(s){const o=Kl(),a=s[1];gt.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Kl(){const s=gt.lFrame,o=null===s?null:s.child;return null===o?Ea(s):o}function Ea(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Zl(){const s=gt.lFrame;return gt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const sl=Zl;function Yl(){const s=Zl();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Nn(){return gt.lFrame.selectedIndex}function Hs(s){gt.lFrame.selectedIndex=s}function In(){const s=gt.lFrame;return Bo(s.tView,s.selectedIndex)}function Ko(s,o){for(let a=o.directiveStart,c=o.directiveEnd;a<c;a++){const m=s.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:E,ngAfterViewInit:C,ngAfterViewChecked:S,ngOnDestroy:x}=m;y&&(s.contentHooks||(s.contentHooks=[])).push(-a,y),E&&((s.contentHooks||(s.contentHooks=[])).push(a,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,E)),C&&(s.viewHooks||(s.viewHooks=[])).push(-a,C),S&&((s.viewHooks||(s.viewHooks=[])).push(a,S),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,S)),null!=x&&(s.destroyHooks||(s.destroyHooks=[])).push(a,x)}}function Zo(s,o,a){Dd(s,o,3,a)}function Jl(s,o,a,c){(3&s[2])===a&&Dd(s,o,a,c)}function al(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function Dd(s,o,a,c){const m=null!=c?c:-1,y=o.length-1;let E=0;for(let C=void 0!==c?65535&s[18]:0;C<y;C++)if("number"==typeof o[C+1]){if(E=o[C],null!=c&&E>=c)break}else o[C]<0&&(s[18]+=65536),(E<m||-1==m)&&(ll(s,a,o,C),s[18]=(4294901760&s[18])+C+2),C++}function ll(s,o,a,c){const h=a[c]<0,m=a[c+1],E=s[h?-a[c]:a[c]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{m.call(E)}finally{}}}else try{m.call(E)}finally{}}class Ca{constructor(o,a,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function xn(s,o,a){const c=mn(s);let h=0;for(;h<a.length;){const m=a[h];if("number"==typeof m){if(0!==m)break;h++;const y=a[h++],E=a[h++],C=a[h++];c?s.setAttribute(o,E,C,y):o.setAttributeNS(y,E,C)}else{const y=m,E=a[++h];nt(y)?c&&s.setProperty(o,y,E):c?s.setAttribute(o,y,E):o.setAttribute(y,E),h++}}return h}function uo(s){return 3===s||4===s||6===s}function nt(s){return 64===s.charCodeAt(0)}function nn(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let c=0;c<o.length;c++){const h=o[c];"number"==typeof h?a=h:0===a||li(s,a,h,null,-1===a||2===a?o[++c]:null)}}return s}function li(s,o,a,c,h){let m=0,y=s.length;if(-1===o)y=-1;else for(;m<s.length;){const E=s[m++];if("number"==typeof E){if(E===o){y=-1;break}if(E>o){y=m-1;break}}}for(;m<s.length;){const E=s[m];if("number"==typeof E)break;if(E===a){if(null===c)return void(null!==h&&(s[m+1]=h));if(c===s[m+1])return void(s[m+2]=h)}m++,null!==c&&m++,null!==h&&m++}-1!==y&&(s.splice(y,0,o),m=y+1),s.splice(m++,0,a),null!==c&&s.splice(m++,0,c),null!==h&&s.splice(m++,0,h)}function hr(s){return-1!==s}function Yo(s){return 32767&s}function Da(s,o){let a=function(s){return s>>16}(s),c=o;for(;a>0;)c=c[15],a--;return c}let ho=!0;function Di(s){const o=ho;return ho=s,o}let Ad=0;function gs(s,o){const a=zn(s,o);if(-1!==a)return a;const c=o[1];c.firstCreatePass&&(s.injectorIndex=o.length,Qo(c.data,s),Qo(o,null),Qo(c.blueprint,null));const h=po(s,o),m=s.injectorIndex;if(hr(h)){const y=Yo(h),E=Da(h,o),C=E[1].data;for(let S=0;S<8;S++)o[m+S]=E[y+S]|C[y+S]}return o[m+8]=h,m}function Qo(s,o){s.push(0,0,0,0,0,0,0,0,o)}function zn(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function po(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,c=null,h=o;for(;null!==h;){const m=h[1],y=m.type;if(c=2===y?m.declTNode:1===y?h[6]:null,null===c)return-1;if(a++,h=h[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function mo(s,o,a){!function(s,o,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(on)&&(c=a[on]),null==c&&(c=a[on]=Ad++);const h=255&c;o.data[s+(h>>5)]|=1<<h}(s,o,a)}function Ii(s,o,a){if(a&st.Optional)return s;ke(o,"NodeInjector")}function tc(s,o,a,c){if(a&st.Optional&&void 0===c&&(c=null),0==(a&(st.Self|st.Host))){const h=s[9],m=Qn(void 0);try{return h?h.get(o,c,a&st.Optional):mt(o,c,a&st.Optional)}finally{Qn(m)}}return Ii(c,o,a)}function Ia(s,o,a,c=st.Default,h){if(null!==s){const m=function(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(on)?s[on]:void 0;return"number"==typeof o?o>=0?255&o:xd:o}(a);if("function"==typeof m){if(!Wl(o,s,c))return c&st.Host?Ii(h,a,c):tc(o,a,c,h);try{const y=m(c);if(null!=y||c&st.Optional)return y;ke(a)}finally{sl()}}else if("number"==typeof m){let y=null,E=zn(s,o),C=-1,S=c&st.Host?o[16][6]:null;for((-1===E||c&st.SkipSelf)&&(C=-1===E?po(s,o):o[E+8],-1!==C&&Gt(c,!1)?(y=o[1],E=Yo(C),o=Da(C,o)):E=-1);-1!==E;){const x=o[1];if($s(m,E,x.data)){const F=Xo(E,o,a,y,c,S);if(F!==_s)return F}C=o[E+8],-1!==C&&Gt(c,o[1].data[E+8]===S)&&$s(m,E,o)?(y=x,E=Yo(C),o=Da(C,o)):E=-1}}}return tc(o,a,c,h)}const _s={};function xd(){return new go(Un(),xe())}function Xo(s,o,a,c,h,m){const y=o[1],E=y.data[s+8],x=xr(E,y,a,null==c?Ls(E)&&ho:c!=y&&0!=(3&E.type),h&st.Host&&m===E);return null!==x?ys(o,y,x,E):_s}function xr(s,o,a,c,h){const m=s.providerIndexes,y=o.data,E=1048575&m,C=s.directiveStart,x=m>>20,q=h?E+x:s.directiveEnd;for(let ee=c?E:E+x;ee<q;ee++){const Ee=y[ee];if(ee<C&&a===Ee||ee>=C&&Ee.type===a)return ee}if(h){const ee=y[C];if(ee&&oi(ee)&&ee.type===a)return C}return null}function ys(s,o,a,c){let h=s[a];const m=o.data;if(function(s){return s instanceof Ca}(h)){const y=h;y.resolving&&function(s,o){throw new je("200",`Circular dependency in DI detected for ${s}`)}(ce(m[a]));const E=Di(y.canSeeViewProviders);y.resolving=!0;const C=y.injectImpl?Qn(y.injectImpl):null;Wl(s,c,st.Default);try{h=s[a]=y.factory(void 0,m,s,c),o.firstCreatePass&&a>=c.directiveStart&&function(s,o,a){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:m}=o.type.prototype;if(c){const y=qi(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,y)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,h),m&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,m),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,m))}(a,m[a],o)}finally{null!==C&&Qn(C),Di(E),y.resolving=!1,sl()}}return h}function $s(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function Gt(s,o){return!(s&st.Self||s&st.Host&&o)}class go{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,c){return Ia(this._tNode,this._lView,o,c,a)}}function Jo(s){return Ft(()=>{const o=s.prototype.constructor,a=o[lt]||fr(o),c=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==c;){const m=h[lt]||fr(h);if(m&&m!==a)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function fr(s){return Be(s)?()=>{const o=fr(ie(s));return o&&o()}:Bs(s)}function vr(s){return function(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const c=a.length;let h=0;for(;h<c;){const m=a[h];if(uo(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<c&&"string"==typeof a[h];)h++;else{if(m===o)return a[h+1];h+=2}}}return null}(Un(),s)}const zs="__parameters__";function Rn(s,o,a){return Ft(()=>{const c=function(s){return function(...a){if(s){const c=s(...a);for(const h in c)this[h]=c[h]}}}(o);function h(...m){if(this instanceof h)return c.apply(this,m),this;const y=new h(...m);return E.annotation=y,E;function E(C,S,x){const F=C.hasOwnProperty(zs)?C[zs]:Object.defineProperty(C,zs,{value:[]})[zs];for(;F.length<=x;)F.push(null);return(F[x]=F[x]||[]).push(y),C}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class Fn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=sn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ea=new Fn("AnalyzeForEntryComponents");function Ai(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let c=s[a];Array.isArray(c)?(o===s&&(o=s.slice(0,a)),Ai(c,o)):o!==s&&o.push(c)}return o}function Si(s,o){s.forEach(a=>Array.isArray(a)?Si(a,o):o(a))}function fl(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function Aa(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function yo(s,o){const a=[];for(let c=0;c<s;c++)a.push(o);return a}function Or(s,o,a){let c=bs(s,o);return c>=0?s[1|c]=a:(c=~c,function(s,o,a,c){let h=s.length;if(h==o)s.push(a,c);else if(1===h)s.push(c,s[0]),s[0]=a;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=a,s[o+1]=c}}(s,c,o,a)),c}function Qi(s,o){const a=bs(s,o);if(a>=0)return s[1|a]}function bs(s,o){return function(s,o,a){let c=0,h=s.length>>a;for(;h!==c;){const m=c+(h-c>>1),y=s[m<<a];if(o===y)return m<<a;y>o?h=m:c=m+1}return~(h<<a)}(s,o,1)}const qr={},Ma="__NG_DI_FLAG__",na="ngTempTokenPath",sc=/\n/gm,Gs="__source",D=ge({provide:String,useValue:ge});let I;function k(s){const o=I;return I=s,o}function L(s,o=st.Default){if(void 0===I)throw new Error("inject() must be called from an injection context");return null===I?mt(s,void 0,o):I.get(s,o&st.Optional?null:void 0,o)}function j(s,o=st.Default){return(qt||L)(ie(s),o)}const Oe=j;function Qe(s){const o=[];for(let a=0;a<s.length;a++){const c=ie(s[a]);if(Array.isArray(c)){if(0===c.length)throw new Error("Arguments array must have arguments.");let h,m=st.Default;for(let y=0;y<c.length;y++){const E=c[y],C=Yt(E);"number"==typeof C?-1===C?h=E.token:m|=C:h=E}o.push(j(h,m))}else o.push(j(c))}return o}function Xe(s,o){return s[Ma]=o,s.prototype[Ma]=o,s}function Yt(s){return s[Ma]}const Wn=Xe(Rn("Inject",s=>({token:s})),-1),cn=Xe(Rn("Optional"),8),Pr=Xe(Rn("SkipSelf"),4);let es;function vo(s){var o;return(null==(o=function(){if(void 0===es&&(es=null,Qt.trustedTypes))try{es=Qt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return es}())?void 0:o.createHTML(s))||s}class bo{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class cc extends bo{getTypeName(){return"HTML"}}class Fd extends bo{getTypeName(){return"Style"}}class vg extends bo{getTypeName(){return"Script"}}class uc extends bo{getTypeName(){return"URL"}}class Ld extends bo{getTypeName(){return"ResourceURL"}}function Eo(s){return s instanceof bo?s.changingThisBreaksApplicationSecurity:s}function gl(s,o){const a=_l(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}function _l(s){return s instanceof bo&&s.getTypeName()||null}function dc(s){return new cc(s)}function yl(s){return new Fd(s)}function Ff(s){return new vg(s)}function Lf(s){return new uc(s)}function bg(s){return new Ld(s)}class Eg{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(vo(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class wg{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const c=this.inertDocument.createElement("body");a.appendChild(c)}}getInertBodyElement(o){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=vo(o),a;const c=this.inertDocument.createElement("body");return c.innerHTML=vo(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(o){const a=o.attributes;for(let h=a.length-1;0<h;h--){const y=a.item(h).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&o.removeAttribute(y)}let c=o.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const Vf=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Dg=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ka(s){return(s=String(s)).match(Vf)||s.match(Dg)?s:"unsafe:"+s}function Cs(s){const o={};for(const a of s.split(","))o[a]=!0;return o}function vl(...s){const o={};for(const a of s)for(const c in a)a.hasOwnProperty(c)&&(o[c]=!0);return o}const Vd=Cs("area,br,col,hr,img,wbr"),Uf=Cs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),jf=Cs("rp,rt"),wo=vl(Vd,vl(Uf,Cs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),vl(jf,Cs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),vl(jf,Uf)),fc=Cs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Bd=Cs("srcset"),oa=vl(fc,Bd,Cs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Cs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),pc=Cs("script,style,template");class zf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let a=o.firstChild,c=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?c=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,c&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let h=this.checkClobberedElement(a,a.nextSibling);if(h){a=h;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(o){const a=o.nodeName.toLowerCase();if(!wo.hasOwnProperty(a))return this.sanitizedSomething=!0,!pc.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const c=o.attributes;for(let h=0;h<c.length;h++){const m=c.item(h),y=m.name,E=y.toLowerCase();if(!oa.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let C=m.value;fc[E]&&(C=ka(C)),Bd[E]&&(s=C,C=(s=String(s)).split(",").map(o=>ka(o.trim())).join(", ")),this.buf.push(" ",y,'="',Gf(C),'"')}var s;return this.buf.push(">"),!0}endElement(o){const a=o.nodeName.toLowerCase();wo.hasOwnProperty(a)&&!Vd.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(o){this.buf.push(Gf(o))}checkClobberedElement(o,a){if(a&&(o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return a}}const bl=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ud=/([^\#-~ |!])/g;function Gf(s){return s.replace(/&/g,"&amp;").replace(bl,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Ud,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let mc;function qf(s,o){let a=null;try{mc=mc||function(s){const o=new wg(s);return function(){try{return!!(new window.DOMParser).parseFromString(vo(""),"text/html")}catch(s){return!1}}()?new Eg(o):o}(s);let c=o?String(o):"";a=mc.getInertBodyElement(c);let h=5,m=c;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,c=m,m=a.innerHTML,a=mc.getInertBodyElement(c)}while(c!==m);return vo((new zf).sanitizeChildren(v(a)||a))}finally{if(a){const c=v(a)||a;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function v(s){return"content"in s&&function(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var g=(()=>((g=g||{})[g.NONE=0]="NONE",g[g.HTML=1]="HTML",g[g.STYLE=2]="STYLE",g[g.SCRIPT=3]="SCRIPT",g[g.URL=4]="URL",g[g.RESOURCE_URL=5]="RESOURCE_URL",g))();function O(s){const o=function(){const s=xe();return s&&s[12]}();return o?o.sanitize(g.URL,s)||"":gl(s,"URL")?Eo(s):ka(J(s))}const Au="__ngContext__";function Er(s,o){s[Au]=o}function Su(s){const o=function(s){return s[Au]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function Tg(s){return s.ngOriginalError}function YC(s,...o){s.error(...o)}class zd{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o),c=(s=o)&&s.ngErrorLogger||YC;var s;c(this._console,"ERROR",o),a&&c(this._console,"ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&Tg(o);for(;a&&Tg(a);)a=Tg(a);return a||null}}const zv=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Qt))();function Co(s){return s instanceof Function?s():s}var aa=(()=>((aa=aa||{})[aa.Important=1]="Important",aa[aa.DashCase=2]="DashCase",aa))();function Gd(s,o){return undefined(s,o)}function qd(s){const o=s[3];return Mn(o)?o[3]:o}function xg(s){return Zv(s[13])}function Rg(s){return Zv(s[4])}function Zv(s){for(;null!==s&&!Mn(s);)s=s[4];return s}function yc(s,o,a,c,h){if(null!=c){let m,y=!1;Mn(c)?m=c:zi(c)&&(y=!0,c=c[0]);const E=Bn(c);0===s&&null!==a?null==h?Qv(o,a,E):vc(o,a,E,h||null,!0):1===s&&null!==a?vc(o,a,E,h||null,!0):2===s?function(s,o,a){const c=ep(s,o);c&&function(s,o,a,c){mn(s)?s.removeChild(o,a,c):o.removeChild(a)}(s,c,o,a)}(o,E,y):3===s&&o.destroyNode(E),null!=m&&function(s,o,a,c,h){const m=a[7];m!==Bn(a)&&yc(o,s,c,m,h);for(let E=10;E<a.length;E++){const C=a[E];Wd(C[1],C,s,o,c,m)}}(o,s,m,a,h)}}function Og(s,o,a){return mn(s)?s.createElement(o,a):null===a?s.createElement(o):s.createElementNS(a,o)}function Fg(s,o){const a=s[9],c=a.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,dr(h,-1)),a.splice(c,1)}function Lg(s,o){if(s.length<=10)return;const a=10+o,c=s[a];if(c){const h=c[17];null!==h&&h!==s&&Fg(h,c),o>0&&(s[a-1][4]=c[4]);const m=Aa(s,10+o);!function(s,o){Wd(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const y=m[19];null!==y&&y.detachView(m[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function Vg(s,o){if(!(256&o[2])){const a=o[11];mn(a)&&a.destroyNode&&Wd(s,o,a,3,null,null),function(s){let o=s[13];if(!o)return Jf(s[1],s);for(;o;){let a=null;if(zi(o))a=o[13];else{const c=o[10];c&&(a=c)}if(!a){for(;o&&!o[4]&&o!==s;)zi(o)&&Jf(o[1],o),o=o[3];null===o&&(o=s),zi(o)&&Jf(o[1],o),a=o&&o[4]}o=a}}(o)}}function Jf(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let c=0;c<a.length;c+=2){const h=o[a[c]];if(!(h instanceof Ca)){const m=a[c+1];if(Array.isArray(m))for(let y=0;y<m.length;y+=2){const E=h[m[y]],C=m[y+1];try{C.call(E)}finally{}}else try{m.call(h)}finally{}}}}(s,o),function(s,o){const a=s.cleanup,c=o[7];let h=-1;if(null!==a)for(let m=0;m<a.length-1;m+=2)if("string"==typeof a[m]){const y=a[m+1],E="function"==typeof y?y(o):Bn(o[y]),C=c[h=a[m+2]],S=a[m+3];"boolean"==typeof S?E.removeEventListener(a[m],C,S):S>=0?c[h=S]():c[h=-S].unsubscribe(),m+=2}else{const y=c[h=a[m+1]];a[m].call(y)}if(null!==c){for(let m=h+1;m<c.length;m++)c[m]();o[7]=null}}(s,o),1===o[1].type&&mn(o[11])&&o[11].destroy();const a=o[17];if(null!==a&&Mn(o[3])){a!==o[3]&&Fg(a,o);const c=o[19];null!==c&&c.detachView(s)}}}function Dl(s,o,a){return function(s,o,a){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return a[0];if(2&c.flags){const h=s.data[c.directiveStart].encapsulation;if(h===Ke.None||h===Ke.Emulated)return null}return Tr(c,a)}(s,o.parent,a)}function vc(s,o,a,c,h){mn(s)?s.insertBefore(o,a,c,h):o.insertBefore(a,c,h)}function Qv(s,o,a){mn(s)?s.appendChild(o,a):o.appendChild(a)}function jg(s,o,a,c,h){null!==c?vc(s,o,a,c,h):Qv(s,o,a)}function ep(s,o){return mn(s)?s.parentNode(o):o.parentNode}function Hg(s,o,a){return Jv(s,o,a)}let Jv=function(s,o,a){return 40&s.type?Tr(s,a):null};function np(s,o,a,c){const h=Dl(s,c,o),m=o[11],E=Hg(c.parent||o[6],c,o);if(null!=h)if(Array.isArray(a))for(let C=0;C<a.length;C++)jg(m,h,a[C],E,!1);else jg(m,h,a,E,!1)}function rp(s,o){if(null!==o){const a=o.type;if(3&a)return Tr(o,s);if(4&a)return Gg(-1,s[o.index]);if(8&a){const c=o.child;if(null!==c)return rp(s,c);{const h=s[o.index];return Mn(h)?Gg(-1,h):Bn(h)}}if(32&a)return Gd(o,s)()||Bn(s[o.index]);{const c=zg(s,o);return null!==c?Array.isArray(c)?c[0]:rp(qd(s[16]),c):rp(s,o.next)}}return null}function zg(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Gg(s,o){const a=10+s+1;if(a<o.length){const c=o[a],h=c[1].firstChild;if(null!==h)return rp(c,h)}return o[7]}function ip(s,o,a,c,h,m,y){for(;null!=a;){const E=c[a.index],C=a.type;if(y&&0===o&&(E&&Er(Bn(E),c),a.flags|=4),64!=(64&a.flags))if(8&C)ip(s,o,a.child,c,h,m,!1),yc(o,s,h,E,m);else if(32&C){const S=Gd(a,c);let x;for(;x=S();)yc(o,s,h,x,m);yc(o,s,h,E,m)}else 16&C?eb(s,o,c,a,h,m):yc(o,s,h,E,m);a=y?a.projectionNext:a.next}}function Wd(s,o,a,c,h,m){ip(a,c,s.firstChild,o,h,m,!1)}function eb(s,o,a,c,h,m){const y=a[16],C=y[6].projection[c.projection];if(Array.isArray(C))for(let S=0;S<C.length;S++)yc(o,s,h,C[S],m);else ip(s,o,C,y[3],h,m,!0)}function pr(s,o,a){mn(s)?s.setAttribute(o,"style",a):o.style.cssText=a}function Do(s,o,a){mn(s)?""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a):o.className=a}function pD(s,o,a){let c=s.length;for(;;){const h=s.indexOf(o,a);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const m=o.length;if(h+m===c||s.charCodeAt(h+m)<=32)return h}a=h+1}}const nb="ng-template";function mD(s,o,a){let c=0;for(;c<s.length;){let h=s[c++];if(a&&"class"===h){if(h=s[c],-1!==pD(h.toLowerCase(),o,0))return!0}else if(1===h){for(;c<s.length&&"string"==typeof(h=s[c++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function rb(s){return 4===s.type&&s.value!==nb}function sp(s,o,a){return o===(4!==s.type||a?s.value:nb)}function ib(s,o,a){let c=4;const h=s.attrs||[],m=function(s){for(let o=0;o<s.length;o++)if(uo(s[o]))return o;return s.length}(h);let y=!1;for(let E=0;E<o.length;E++){const C=o[E];if("number"!=typeof C){if(!y)if(4&c){if(c=2|1&c,""!==C&&!sp(s,C,a)||""===C&&1===o.length){if(Io(c))return!1;y=!0}}else{const S=8&c?C:o[++E];if(8&c&&null!==s.attrs){if(!mD(s.attrs,S,a)){if(Io(c))return!1;y=!0}continue}const F=gD(8&c?"class":C,h,rb(s),a);if(-1===F){if(Io(c))return!1;y=!0;continue}if(""!==S){let q;q=F>m?"":h[F+1].toLowerCase();const ee=8&c?q:null;if(ee&&-1!==pD(ee,S,0)||2&c&&S!==q){if(Io(c))return!1;y=!0}}}}else{if(!y&&!Io(c)&&!Io(C))return!1;if(y&&Io(C))continue;y=!1,c=C|1&c}}return Io(c)||y}function Io(s){return 0==(1&s)}function gD(s,o,a,c){if(null===o)return-1;let h=0;if(c||!a){let m=!1;for(;h<o.length;){const y=o[h];if(y===s)return h;if(3===y||6===y)m=!0;else{if(1===y||2===y){let E=o[++h];for(;"string"==typeof E;)E=o[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=m?1:2}return-1}return function(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const c=s[a];if("number"==typeof c)return-1;if(c===o)return a;a++}return-1}(o,s)}function sb(s,o,a=!1){for(let c=0;c<o.length;c++)if(ib(s,o[c],a))return!0;return!1}function ab(s,o){e:for(let a=0;a<o.length;a++){const c=o[a];if(s.length===c.length){for(let h=0;h<s.length;h++)if(s[h]!==c[h])continue e;return!0}}return!1}function lb(s,o){return s?":not("+o.trim()+")":o}function yD(s){let o=s[0],a=1,c=2,h="",m=!1;for(;a<s.length;){let y=s[a];if("string"==typeof y)if(2&c){const E=s[++a];h+="["+y+(E.length>0?'="'+E+'"':"")+"]"}else 8&c?h+="."+y:4&c&&(h+=" "+y);else""!==h&&!Io(y)&&(o+=lb(m,h),h=""),c=y,m=m||!Io(c);a++}return""!==h&&(o+=lb(m,h)),o}const Ot={};function Zd(s){qg($t(),xe(),Nn()+s,Ho())}function qg(s,o,a,c){if(!c)if(3==(3&o[2])){const m=s.preOrderCheckHooks;null!==m&&Zo(o,m,a)}else{const m=s.preOrderHooks;null!==m&&Jl(o,m,0,a)}Hs(a)}function Wg(s,o){return s<<17|o<<2}function To(s){return s>>17&32767}function Kg(s){return 2|s}function Pa(s){return(131068&s)>>2}function Zg(s,o){return-131069&s|o<<2}function Ru(s){return 1|s}function AD(s,o){const a=s.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const h=a[c],m=a[c+1];if(-1!==m){const y=s.data[m];rl(h),y.contentQueries(2,o[m],m)}}}function Ou(s,o,a,c,h,m,y,E,C,S){const x=o.blueprint.slice();return x[0]=h,x[2]=140|c,jo(x),x[3]=x[15]=s,x[8]=a,x[10]=y||s&&s[10],x[11]=E||s&&s[11],x[12]=C||s&&s[12]||null,x[9]=S||s&&s[9]||null,x[6]=m,x[16]=2==o.type?s[16]:x,x}function Cc(s,o,a,c,h){let m=s.data[o];if(null===m)m=function(s,o,a,c,h){const m=el(),y=va(),C=s.data[o]=function(s,o,a,c,h,m){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?m:m&&m.parent,a,o,c,h);return null===s.firstChild&&(s.firstChild=C),null!==m&&(y?null==m.child&&null!==C.parent&&(m.child=C):null===m.next&&(m.next=C)),C}(s,o,a,c,h),gt.lFrame.inI18n&&(m.flags|=64);else if(64&m.type){m.type=a,m.value=c,m.attrs=h;const y=function(){const s=gt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();m.injectorIndex=null===y?-1:y.injectorIndex}return Ar(m,!0),m}function nh(s,o,a,c){if(0===a)return-1;const h=o.length;for(let m=0;m<a;m++)o.push(c),s.blueprint.push(c),s.data.push(null);return h}function up(s,o,a){ba(o);try{const c=s.viewQuery;null!==c&&Vb(1,c,a);const h=s.template;null!==h&&SD(s,o,h,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&AD(s,o),s.staticViewQueries&&Vb(2,s.viewQuery,a);const m=s.components;null!==m&&function(s,o){for(let a=0;a<o.length;a++)UD(s,o[a])}(o,m)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[2]&=-5,Yl()}}function rh(s,o,a,c){const h=o[2];if(256==(256&h))return;ba(o);const m=Ho();try{jo(o),function(s){gt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&SD(s,o,a,2,c);const y=3==(3&h);if(!m)if(y){const S=s.preOrderCheckHooks;null!==S&&Zo(o,S,null)}else{const S=s.preOrderHooks;null!==S&&Jl(o,S,0,null),al(o,0)}if(function(s){for(let o=xg(s);null!==o;o=Rg(o)){if(!o[2])continue;const a=o[9];for(let c=0;c<a.length;c++){const h=a[c],m=h[3];0==(1024&h[2])&&dr(m,1),h[2]|=1024}}}(o),function(s){for(let o=xg(s);null!==o;o=Rg(o))for(let a=10;a<o.length;a++){const c=o[a],h=c[1];Us(c)&&rh(h,c,h.template,c[8])}}(o),null!==s.contentQueries&&AD(s,o),!m)if(y){const S=s.contentCheckHooks;null!==S&&Zo(o,S)}else{const S=s.contentHooks;null!==S&&Jl(o,S,1),al(o,1)}!function(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const h=a[c];if(h<0)Hs(~h);else{const m=h,y=a[++c],E=a[++c];qo(y,m),E(2,o[m])}}}finally{Hs(-1)}}(s,o);const E=s.components;null!==E&&function(s,o){for(let a=0;a<o.length;a++)Ob(s,o[a])}(o,E);const C=s.viewQuery;if(null!==C&&Vb(2,C,c),!m)if(y){const S=s.viewCheckHooks;null!==S&&Zo(o,S)}else{const S=s.viewHooks;null!==S&&Jl(o,S,2),al(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),m||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,dr(o[3],-1))}finally{Yl()}}function UR(s,o,a,c){const h=o[10],m=!Ho(),y=Ya(o);try{m&&!y&&h.begin&&h.begin(),y&&up(s,o,c),rh(s,o,a,c)}finally{m&&!y&&h.end&&h.end()}}function SD(s,o,a,c,h){const m=Nn(),y=2&c;try{Hs(-1),y&&o.length>20&&qg(s,o,20,Ho()),a(c,h)}finally{Hs(m)}}function dp(s,o,a){if(Xc(o)){const h=o.directiveEnd;for(let m=o.directiveStart;m<h;m++){const y=s.data[m];y.contentQueries&&y.contentQueries(1,a[m],m)}}}function ih(s,o,a){!Xa()||(function(s,o,a,c){const h=a.directiveStart,m=a.directiveEnd;s.firstCreatePass||gs(a,o),Er(c,o);const y=a.initialInputs;for(let E=h;E<m;E++){const C=s.data[E],S=oi(C);S&&VD(o,a,C);const x=ys(o,s,E,a);Er(x,o),null!==y&&xb(0,E-h,x,C,0,y),S&&(Wt(a.index,o)[8]=x)}}(s,o,a,Tr(a,o)),128==(128&a.flags)&&function(s,o,a){const c=a.directiveStart,h=a.directiveEnd,y=a.index,E=gt.lFrame.currentDirectiveIndex;try{Hs(y);for(let C=c;C<h;C++){const S=s.data[C],x=o[C];co(C),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&LD(S,x)}}finally{Hs(-1),co(E)}}(s,o,a))}function hp(s,o,a=Tr){const c=o.localNames;if(null!==c){let h=o.index+1;for(let m=0;m<c.length;m+=2){const y=c[m+1],E=-1===y?a(o,s):s[y];s[h++]=E}}}function wb(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Pu(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Pu(s,o,a,c,h,m,y,E,C,S){const x=20+c,F=x+h,q=function(s,o){const a=[];for(let c=0;c<o;c++)a.push(c<s?null:Ot);return a}(x,F),ee="function"==typeof S?S():S;return q[1]={type:s,blueprint:q,template:a,queries:null,viewQuery:E,declTNode:o,data:q.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:C,consts:ee,incompleteFirstPass:!1}}function xD(s,o,a,c){const h=GD(o);null===a?h.push(c):(h.push(a),s.firstCreatePass&&qD(s).push(c,h.length-1))}function RD(s,o,a){for(let c in s)if(s.hasOwnProperty(c)){const h=s[c];(a=null===a?{}:a).hasOwnProperty(c)?a[c].push(o,h):a[c]=[o,h]}return a}function Ri(s,o,a,c,h,m,y,E){const C=Tr(o,a);let x,S=o.inputs;!E&&null!=S&&(x=S[c])?(Ub(s,a,x,c,h),Ls(o)&&function(s,o){const a=Wt(o,s);16&a[2]||(a[2]|=64)}(a,o.index)):3&o.type&&(c=function(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),h=null!=y?y(h,o.value||"",c):h,mn(m)?m.setProperty(C,c,h):nt(c)||(C.setProperty?C.setProperty(c,h):C[c]=h))}function oh(s,o,a,c){let h=!1;if(Xa()){const m=function(s,o,a){const c=s.directiveRegistry;let h=null;if(c)for(let m=0;m<c.length;m++){const y=c[m];sb(a,y.selectors,!1)&&(h||(h=[]),mo(gs(a,o),s,y.type),oi(y)?(Sb(s,a),h.unshift(y)):h.push(y))}return h}(s,o,a),y=null===c?null:{"":-1};if(null!==m){h=!0,t_(a,s.data.length,m.length);for(let x=0;x<m.length;x++){const F=m[x];F.providersResolver&&F.providersResolver(F)}let E=!1,C=!1,S=nh(s,o,m.length,null);for(let x=0;x<m.length;x++){const F=m[x];a.mergedAttrs=nn(a.mergedAttrs,F.hostAttrs),Mb(s,a,o,S,F),WR(S,F,y),null!==F.contentQueries&&(a.flags|=8),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(a.flags|=128);const q=F.type.prototype;!E&&(q.ngOnChanges||q.ngOnInit||q.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),E=!0),!C&&(q.ngOnChanges||q.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),C=!0),S++}!function(s,o){const c=o.directiveEnd,h=s.data,m=o.attrs,y=[];let E=null,C=null;for(let S=o.directiveStart;S<c;S++){const x=h[S],F=x.inputs,q=null===m||rb(o)?null:BD(F,m);y.push(q),E=RD(F,S,E),C=RD(x.outputs,S,C)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=16),E.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=y,o.inputs=E,o.outputs=C}(s,a)}y&&function(s,o,a){if(o){const c=s.localNames=[];for(let h=0;h<o.length;h+=2){const m=a[o[h+1]];if(null==m)throw new je("301",`Export of name '${o[h+1]}' not found!`);c.push(o[h],m)}}}(a,c,y)}return a.mergedAttrs=nn(a.mergedAttrs,a.attrs),h}function e_(s,o,a,c,h,m){const y=m.hostBindings;if(y){let E=s.hostBindingOpCodes;null===E&&(E=s.hostBindingOpCodes=[]);const C=~o.index;(function(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(E)!=C&&E.push(C),E.push(c,h,y)}}function LD(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Sb(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function WR(s,o,a){if(a){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)a[o.exportAs[c]]=s;oi(o)&&(a[""]=s)}}function t_(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function Mb(s,o,a,c,h){s.data[c]=h;const m=h.factory||(h.factory=Bs(h.type)),y=new Ca(m,oi(h),null);s.blueprint[c]=y,a[c]=y,e_(s,o,0,c,nh(s,a,h.hostVars,Ot),h)}function VD(s,o,a){const c=Tr(o,s),h=wb(a),m=s[10],y=Dc(s,Ou(s,h,null,a.onPush?64:16,c,o,m,m.createRenderer(c,a),null,null));s[o.index]=y}function Ks(s,o,a,c,h,m){const y=Tr(s,o);!function(s,o,a,c,h,m,y){if(null==m)mn(s)?s.removeAttribute(o,h,a):o.removeAttribute(h);else{const E=null==y?J(m):y(m,c||"",h);mn(s)?s.setAttribute(o,h,E,a):a?o.setAttributeNS(a,h,E):o.setAttribute(h,E)}}(o[11],y,m,s.value,a,c,h)}function xb(s,o,a,c,h,m){const y=m[o];if(null!==y){const E=c.setInput;for(let C=0;C<y.length;){const S=y[C++],x=y[C++],F=y[C++];null!==E?c.setInput(a,F,S,x):a[x]=F}}}function BD(s,o){let a=null,c=0;for(;c<o.length;){const h=o[c];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,s[h],o[c+1])),c+=2}else c+=2;else c+=4}return a}function Tl(s,o,a,c){return new Array(s,!0,!1,o,null,0,c,a,null,null)}function Ob(s,o){const a=Wt(o,s);if(Us(a)){const c=a[1];80&a[2]?rh(c,a,c.template,a[8]):a[5]>0&&r_(a)}}function r_(s){for(let c=xg(s);null!==c;c=Rg(c))for(let h=10;h<c.length;h++){const m=c[h];if(1024&m[2]){const y=m[1];rh(y,m,y.template,m[8])}else m[5]>0&&r_(m)}const a=s[1].components;if(null!==a)for(let c=0;c<a.length;c++){const h=Wt(a[c],s);Us(h)&&h[5]>0&&r_(h)}}function UD(s,o){const a=Wt(o,s),c=a[1];(function(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(c,a),up(c,a,a[8])}function Dc(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Pb(s){for(;s;){s[2]|=64;const o=qd(s);if(Jc(s)&&!o)return s;s=o}return null}function Fb(s,o,a){const c=o[10];c.begin&&c.begin();try{rh(s,o,s.template,a)}catch(h){throw Bb(o,h),h}finally{c.end&&c.end()}}function Lb(s){!function(s){for(let o=0;o<s.components.length;o++){const a=s.components[o],c=Su(a),h=c[1];UR(h,c,h.template,a)}}(s[8])}function Vb(s,o,a){rl(0),o(s,a)}const ZR=(()=>Promise.resolve(null))();function GD(s){return s[7]||(s[7]=[])}function qD(s){return s.cleanup||(s.cleanup=[])}function WD(s,o,a){return(null===s||oi(s))&&(a=function(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(a[o.index])),a[11]}function Bb(s,o){const a=s[9],c=a?a.get(zd,null):null;c&&c.handleError(o)}function Ub(s,o,a,c,h){for(let m=0;m<a.length;){const y=a[m++],E=a[m++],C=o[y],S=s.data[y];null!==S.setInput?S.setInput(C,h,c,E):C[E]=h}}function Na(s,o,a){const c=Wi(o,s);!function(s,o,a){mn(s)?s.setValue(o,a):o.textContent=a}(s[11],c,a)}function i_(s,o,a){let c=a?s.styles:null,h=a?s.classes:null,m=0;if(null!==o)for(let y=0;y<o.length;y++){const E=o[y];"number"==typeof E?m=E:1==m?h=he(h,E):2==m&&(c=he(c,E+": "+o[++y]+";"))}a?s.styles=c:s.stylesWithoutHost=c,a?s.classes=h:s.classesWithoutHost=h}const jb=new Fn("INJECTOR",-1);class ZD{get(o,a=qr){if(a===qr){const c=new Error(`NullInjectorError: No provider for ${le(o)}!`);throw c.name="NullInjectorError",c}return a}}const Hb=new Fn("Set Injector scope."),fp={},QR={};let $b;function YD(){return void 0===$b&&($b=new ZD),$b}function QD(s,o=null,a=null,c){const h=XD(s,o,a,c);return h._resolveInjectorDefTypes(),h}function XD(s,o=null,a=null,c){return new XR(s,a,o||YD(),c)}class XR{constructor(o,a,c,h=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];a&&Si(a,E=>this.processProvider(E,o,a)),Si([o],E=>this.processInjectorType(E,[],m)),this.records.set(jb,ah(void 0,this));const y=this.records.get(Hb);this.scope=null!=y?y.value:null,this.source=h||("object"==typeof o?null:le(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,a=qr,c=st.Default){this.assertNotDestroyed();const h=k(this),m=Qn(void 0);try{if(!(c&st.SkipSelf)){let E=this.records.get(o);if(void 0===E){const C=("function"==typeof(s=o)||"object"==typeof s&&s instanceof Fn)&&On(o);E=C&&this.injectableDefInScope(C)?ah(zb(o),fp):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(c&st.Self?YD():this.parent).get(o,a=c&st.Optional&&a===qr?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[na]=y[na]||[]).unshift(le(o)),h)throw y;return function(s,o,a,c){const h=s[na];throw o[Gs]&&h.unshift(o[Gs]),s.message=function(s,o,a,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=le(o);if(Array.isArray(o))h=o.map(le).join(" -> ");else if("object"==typeof o){let m=[];for(let y in o)if(o.hasOwnProperty(y)){let E=o[y];m.push(y+":"+("string"==typeof E?JSON.stringify(E):le(E)))}h=`{${m.join(", ")}}`}return`${a}${c?"("+c+")":""}[${h}]: ${s.replace(sc,"\n  ")}`}("\n"+s.message,h,a,c),s.ngTokenPath=h,s[na]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{Qn(m),k(h)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((c,h)=>o.push(le(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(o,a,c){if(!(o=ie(o)))return!1;let h=vi(o);const m=null==h&&o.ngModule||void 0,y=void 0===m?o:m,E=-1!==c.indexOf(y);if(void 0!==m&&(h=vi(m)),null==h)return!1;if(null!=h.imports&&!E){let x;c.push(y);try{Si(h.imports,F=>{this.processInjectorType(F,a,c)&&(void 0===x&&(x=[]),x.push(F))})}finally{}if(void 0!==x)for(let F=0;F<x.length;F++){const{ngModule:q,providers:ee}=x[F];Si(ee,Ee=>this.processProvider(Ee,q,ee||U))}}this.injectorDefTypes.add(y);const C=Bs(y)||(()=>new y);this.records.set(y,ah(C,fp));const S=h.providers;if(null!=S&&!E){const x=o;Si(S,F=>this.processProvider(F,x,S))}return void 0!==m&&void 0!==o.providers}processProvider(o,a,c){let h=lh(o=ie(o))?o:ie(o&&o.provide);const m=(s=o,eI(s)?ah(void 0,s.useValue):ah(JD(s),fp));var s;if(lh(o)||!0!==o.multi)this.records.get(h);else{let y=this.records.get(h);y||(y=ah(void 0,fp,!0),y.factory=()=>Qe(y.multi),this.records.set(h,y)),h=o,y.multi.push(o)}this.records.set(h,m)}hydrate(o,a){return a.value===fp&&(a.value=QR,a.value=a.factory()),"object"==typeof a.value&&a.value&&null!==(s=a.value)&&"object"==typeof s&&"function"==typeof s.ngOnDestroy&&this.onDestroy.add(a.value),a.value;var s}injectableDefInScope(o){if(!o.providedIn)return!1;const a=ie(o.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function zb(s){const o=On(s),a=null!==o?o.factory:Bs(s);if(null!==a)return a;if(s instanceof Fn)throw new Error(`Token ${le(s)} is missing a \u0275prov definition.`);if(s instanceof Function)return function(s){const o=s.length;if(o>0){const c=yo(o,"?");throw new Error(`Can't resolve all parameters for ${le(s)}: (${c.join(", ")}).`)}const a=function(s){const o=s&&(s[Fe]||s[Yn]);if(o){const a=function(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new Error("unreachable")}function JD(s,o,a){let c;if(lh(s)){const h=ie(s);return Bs(h)||zb(h)}if(eI(s))c=()=>ie(s.useValue);else if(function(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...Qe(s.deps||[]));else if(function(s){return!(!s||!s.useExisting)}(s))c=()=>j(ie(s.useExisting));else{const h=ie(s&&(s.useClass||s.provide));if(!function(s){return!!s.deps}(s))return Bs(h)||zb(h);c=()=>new h(...Qe(s.deps))}return c}function ah(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function eI(s){return null!==s&&"object"==typeof s&&D in s}function lh(s){return"function"==typeof s}let Ao=(()=>{class s{static create(a,c){var h;if(Array.isArray(a))return QD({name:""},c,a,"");{const m=null!=(h=a.name)?h:"";return QD({name:m},a.parent,a.providers,m)}}}return s.THROW_IF_NOT_FOUND=qr,s.NULL=new ZD,s.\u0275prov=sn({token:s,providedIn:"any",factory:()=>j(jb)}),s.__NG_ELEMENT_ID__=-1,s})();function pk(s,o){Ko(Su(s)[1],Un())}function Wb(s){let o=function(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const c=[s];for(;o;){let h;if(oi(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Error("Directives cannot inherit Components");h=o.\u0275dir}if(h){if(a){c.push(h);const y=s;y.inputs=Kb(s.inputs),y.declaredInputs=Kb(s.declaredInputs),y.outputs=Kb(s.outputs);const E=h.hostBindings;E&&vk(s,E);const C=h.viewQuery,S=h.contentQueries;if(C&&_k(s,C),S&&yk(s,S),ne(s.inputs,h.inputs),ne(s.declaredInputs,h.declaredInputs),ne(s.outputs,h.outputs),oi(h)&&h.data.animation){const x=s.data;x.animation=(x.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let y=0;y<m.length;y++){const E=m[y];E&&E.ngInherit&&E(s),E===Wb&&(a=!1)}}o=Object.getPrototypeOf(o)}!function(s){let o=0,a=null;for(let c=s.length-1;c>=0;c--){const h=s[c];h.hostVars=o+=h.hostVars,h.hostAttrs=nn(h.hostAttrs,a=nn(a,h.hostAttrs))}}(c)}function Kb(s){return s===z?{}:s===U?[]:s}function _k(s,o){const a=s.viewQuery;s.viewQuery=a?(c,h)=>{o(c,h),a(c,h)}:o}function yk(s,o){const a=s.contentQueries;s.contentQueries=a?(c,h,m)=>{o(c,h,m),a(c,h,m)}:o}function vk(s,o){const a=s.hostBindings;s.hostBindings=a?(c,h)=>{o(c,h),a(c,h)}:o}let s_=null;function ch(){if(!s_){const s=Qt.Symbol;if(s&&s.iterator)s_=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const c=o[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(s_=c)}}}return s_}function pp(s){return!!Zb(s)&&(Array.isArray(s)||!(s instanceof Map)&&ch()in s)}function Zb(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Fa(s,o,a){return s[o]=a}function ki(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function Yb(s,o,a,c){const h=xe();return ki(h,zo(),o)&&($t(),Ks(In(),h,s,o,a,c)),Yb}function dh(s,o,a,c){return ki(s,zo(),a)?o+J(a)+c:Ot}function wI(s,o,a,c,h,m,y,E){const C=xe(),S=$t(),x=s+20,F=S.firstCreatePass?function(s,o,a,c,h,m,y,E,C){const S=o.consts,x=Cc(o,s,4,y||null,Mr(S,E));oh(o,a,x,Mr(S,C)),Ko(o,x);const F=x.tViews=Pu(2,x,c,h,m,o.directiveRegistry,o.pipeRegistry,null,o.schemas,S);return null!==o.queries&&(o.queries.template(o,x),F.queries=o.queries.embeddedTView(x)),x}(x,S,C,o,a,c,h,m,y):S.data[x];Ar(F,!1);const q=C[11].createComment("");np(S,C,q,F),Er(q,C),Dc(C,C[x]=Tl(q,C,q,F)),Wa(F)&&ih(S,C,F),null!=y&&hp(C,F,E)}function bh(s,o=st.Default){const a=xe();return null===a?j(s,o):Ia(Un(),a,ie(s),o)}function rE(){throw new Error("invalid")}function iE(s,o,a){const c=xe();return ki(c,zo(),o)&&Ri($t(),In(),c,s,o,c[11],a,!1),iE}function sE(s,o,a,c,h){const y=h?"class":"style";Ub(s,a,o.inputs[y],y,c)}function oE(s,o,a,c){const h=xe(),m=$t(),y=20+s,E=h[11],C=h[y]=Og(E,o,gt.lFrame.currentNamespace),S=m.firstCreatePass?function(s,o,a,c,h,m,y){const E=o.consts,S=Cc(o,s,2,h,Mr(E,m));return oh(o,a,S,Mr(E,y)),null!==S.attrs&&i_(S,S.attrs,!1),null!==S.mergedAttrs&&i_(S,S.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,S),S}(y,m,h,0,o,a,c):m.data[y];Ar(S,!0);const x=S.mergedAttrs;null!==x&&xn(E,C,x);const F=S.classes;null!==F&&Do(E,C,F);const q=S.styles;null!==q&&pr(E,C,q),64!=(64&S.flags)&&np(m,h,C,S),0===gt.lFrame.elementDepthCount&&Er(C,h),gt.lFrame.elementDepthCount++,Wa(S)&&(ih(m,h,S),dp(m,S,h)),null!==c&&hp(h,S)}function aE(){let s=Un();va()?js():(s=s.parent,Ar(s,!1));const o=s;gt.lFrame.elementDepthCount--;const a=$t();a.firstCreatePass&&(Ko(a,s),Xc(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function(s){return 0!=(16&s.flags)}(o)&&sE(a,o,xe(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function(s){return 0!=(32&s.flags)}(o)&&sE(a,o,xe(),o.stylesWithoutHost,!1)}function BI(s,o,a,c){oE(s,o,a,c),aE()}function u_(s,o,a){const c=xe(),h=$t(),m=s+20,y=h.firstCreatePass?function(s,o,a,c,h){const m=o.consts,y=Mr(m,c),E=Cc(o,s,8,"ng-container",y);return null!==y&&i_(E,y,!0),oh(o,a,E,Mr(m,h)),null!==o.queries&&o.queries.elementStart(o,E),E}(m,h,c,o,a):h.data[m];Ar(y,!0);const E=c[m]=c[11].createComment("");np(h,c,E,y),Er(E,c),Wa(y)&&(ih(h,c,y),dp(h,y,c)),null!=a&&hp(c,y)}function d_(){let s=Un();const o=$t();va()?js():(s=s.parent,Ar(s,!1)),o.firstCreatePass&&(Ko(o,s),Xc(s)&&o.queries.elementEnd(s))}function Ic(){return xe()}function h_(s){return!!s&&"function"==typeof s.then}function jI(s){return!!s&&"function"==typeof s.subscribe}const uE=jI;function dE(s,o,a,c){const h=xe(),m=$t(),y=Un();return fE(m,h,h[11],y,s,o,!!a,c),dE}function hE(s,o){const a=Un(),c=xe(),h=$t();return fE(h,c,WD(nl(h.data),a,c),a,s,o,!1),hE}function fE(s,o,a,c,h,m,y,E){const C=Wa(c),x=s.firstCreatePass&&qD(s),F=o[8],q=GD(o);let ee=!0;if(3&c.type||E){const qe=Tr(c,o),ot=E?E(qe):qe,Se=q.length,vt=E?Kt=>E(Bn(Kt[c.index])):c.index;if(mn(a)){let Kt=null;if(!E&&C&&(Kt=function(s,o,a,c){const h=s.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const y=h[m];if(y===a&&h[m+1]===c){const E=o[7],C=h[m+2];return E.length>C?E[C]:null}"string"==typeof y&&(m+=2)}return null}(s,o,h,c.index)),null!==Kt)(Kt.__ngLastListenerFn__||Kt).__ngNextListenerFn__=m,Kt.__ngLastListenerFn__=m,ee=!1;else{m=yp(c,o,F,m,!1);const Tn=a.listen(ot,h,m);q.push(m,Tn),x&&x.push(h,vt,Se,Se+1)}}else m=yp(c,o,F,m,!0),ot.addEventListener(h,m,y),q.push(m),x&&x.push(h,vt,Se,y)}else m=yp(c,o,F,m,!1);const Ee=c.outputs;let Ve;if(ee&&null!==Ee&&(Ve=Ee[h])){const qe=Ve.length;if(qe)for(let ot=0;ot<qe;ot+=2){const rs=o[Ve[ot]][Ve[ot+1]].subscribe(m),ed=q.length;q.push(m,rs),x&&x.push(h,c.index,ed,-(ed+1))}}}function Eh(s,o,a,c){try{return!1!==a(c)}catch(h){return Bb(s,h),!1}}function yp(s,o,a,c,h){return function m(y){if(y===Function)return c;const E=2&s.flags?Wt(s.index,o):o;0==(32&o[2])&&Pb(E);let C=Eh(o,0,c,y),S=m.__ngNextListenerFn__;for(;S;)C=Eh(o,0,S,y)&&C,S=S.__ngNextListenerFn__;return h&&!1===C&&(y.preventDefault(),y.returnValue=!1),C}}function HI(s=1){return function(s){return(gt.lFrame.contextLView=function(s,o){for(;s>0;)o=o[15],s--;return o}(s,gt.lFrame.contextLView))[8]}(s)}function pE(s,o){let a=null;const c=function(s){const o=s.attrs;if(null!=o){const a=o.indexOf(5);if(0==(1&a))return o[a+1]}return null}(s);for(let h=0;h<o.length;h++){const m=o[h];if("*"!==m){if(null===c?sb(s,m,!0):ab(c,m))return h}else a=h}return a}function f_(s){const o=xe()[16][6];if(!o.projection){const c=o.projection=yo(s?s.length:1,null),h=c.slice();let m=o.child;for(;null!==m;){const y=s?pE(m,s):0;null!==y&&(h[y]?h[y].projectionNext=m:c[y]=m,h[y]=m),m=m.next}}}function vp(s,o=0,a){const c=xe(),h=$t(),m=Cc(h,20+s,16,null,a||null);null===m.projection&&(m.projection=o),js(),64!=(64&m.flags)&&function(s,o,a){eb(o[11],0,o,a,Dl(s,a,o),Hg(a.parent||o[6],a,o))}(h,c,m)}function p_(s,o,a,c,h){const m=xe(),y=dh(m,o,a,c);return y!==Ot&&Ri($t(),In(),m,s,y,m[11],h,!1),p_}function Ep(s,o,a,c,h){const m=s[a+1],y=null===o;let E=c?To(m):Pa(m),C=!1;for(;0!==E&&(!1===C||y);){const x=s[E+1];$k(s[E],o)&&(C=!0,s[E+1]=c?Ru(x):Kg(x)),E=c?To(x):Pa(x)}C&&(s[a+1]=c?Kg(m):Ru(m))}function $k(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&bs(s,o)>=0}function Dp(s,o){return function(s,o,a,c){const h=xe(),m=$t(),y=function(s){const o=gt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}(2);m.firstUpdatePass&&function(s,o,a,c){const h=s.data;if(null===h[a+1]){const m=h[Nn()],y=function(s,o){return o>=s.expandoStartIndex}(s,a);(function(s,o){return 0!=(s.flags&(o?16:32))})(m,c)&&null===o&&!y&&(o=!1),o=function(s,o,a,c){const h=nl(s);let m=c?o.residualClasses:o.residualStyles;if(null===h)0===(c?o.classBindings:o.styleBindings)&&(a=Lu(a=Tp(null,s,o,a,c),o.attrs,c),m=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==h)if(a=Tp(h,s,o,a,c),null===m){let C=function(s,o,a){const c=a?o.classBindings:o.styleBindings;if(0!==Pa(c))return s[To(c)]}(s,o,c);void 0!==C&&Array.isArray(C)&&(C=Tp(null,s,o,C[1],c),C=Lu(C,o.attrs,c),function(s,o,a,c){s[To(a?o.classBindings:o.styleBindings)]=c}(s,o,c,C))}else m=function(s,o,a){let c;const h=o.directiveEnd;for(let m=1+o.directiveStylingLast;m<h;m++)c=Lu(c,s[m].hostAttrs,a);return Lu(c,o.attrs,a)}(s,o,c)}return void 0!==m&&(c?o.residualClasses=m:o.residualStyles=m),a}(h,m,o,c),function(s,o,a,c,h,m){let y=m?o.classBindings:o.styleBindings,E=To(y),C=Pa(y);s[c]=a;let x,S=!1;if(Array.isArray(a)){const F=a;x=F[1],(null===x||bs(F,x)>0)&&(S=!0)}else x=a;if(h)if(0!==C){const q=To(s[E+1]);s[c+1]=Wg(q,E),0!==q&&(s[q+1]=Zg(s[q+1],c)),s[E+1]=function(s,o){return 131071&s|o<<17}(s[E+1],c)}else s[c+1]=Wg(E,0),0!==E&&(s[E+1]=Zg(s[E+1],c)),E=c;else s[c+1]=Wg(C,0),0===E?E=c:s[C+1]=Zg(s[C+1],c),C=c;S&&(s[c+1]=Kg(s[c+1])),Ep(s,x,c,!0),Ep(s,x,c,!1),function(s,o,a,c,h){const m=h?s.residualClasses:s.residualStyles;null!=m&&"string"==typeof o&&bs(m,o)>=0&&(a[c+1]=Ru(a[c+1]))}(o,x,s,c,m),y=Wg(E,C),m?o.classBindings=y:o.styleBindings=y}(h,m,o,a,y,c)}}(m,s,y,c),o!==Ot&&ki(h,y,o)&&function(s,o,a,c,h,m,y,E){if(!(3&o.type))return;const C=s.data,S=C[E+1];Sc(function(s){return 1==(1&s)}(S)?Ap(C,o,a,h,Pa(S),y):void 0)||(Sc(m)||function(s){return 2==(2&s)}(S)&&(m=Ap(C,null,a,h,E,y)),function(s,o,a,c,h){const m=mn(s);if(o)h?m?s.addClass(a,c):a.classList.add(c):m?s.removeClass(a,c):a.classList.remove(c);else{let y=-1===c.indexOf("-")?void 0:aa.DashCase;if(null==h)m?s.removeStyle(a,c,y):a.style.removeProperty(c);else{const E="string"==typeof h&&h.endsWith("!important");E&&(h=h.slice(0,-10),y|=aa.Important),m?s.setStyle(a,c,h,y):a.style.setProperty(c,h,E?"important":"")}}}(c,y,Wi(Nn(),a),h,m))}(m,m.data[Nn()],h,h[11],s,h[y+1]=function(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=le(Eo(s)))),s}(o,a),c,y)}(s,o,null,!0),Dp}function Tp(s,o,a,c,h){let m=null;const y=a.directiveEnd;let E=a.directiveStylingLast;for(-1===E?E=a.directiveStart:E++;E<y&&(m=o[E],c=Lu(c,m.hostAttrs,h),m!==s);)E++;return null!==s&&(a.directiveStylingLast=E),c}function Lu(s,o,a){const c=a?1:2;let h=-1;if(null!==o)for(let m=0;m<o.length;m++){const y=o[m];"number"==typeof y?h=y:h===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Or(s,y,!!a||o[++m]))}return void 0===s?null:s}function Ap(s,o,a,c,h,m){const y=null===o;let E;for(;h>0;){const C=s[h],S=Array.isArray(C),x=S?C[1]:C,F=null===x;let q=a[h+1];q===Ot&&(q=F?U:void 0);let ee=F?Qi(q,c):x===c?q:void 0;if(S&&!Sc(ee)&&(ee=Qi(C,c)),Sc(ee)&&(E=ee,y))return E;const Ee=s[h+1];h=y?To(Ee):Pa(Ee)}if(null!==o){let C=m?o.residualClasses:o.residualStyles;null!=C&&(E=Qi(C,c))}return E}function Sc(s){return void 0!==s}function wh(s,o=""){const a=xe(),c=$t(),h=s+20,m=c.firstCreatePass?Cc(c,h,1,o,null):c.data[h],y=a[h]=function(s,o){return mn(s)?s.createText(o):s.createTextNode(o)}(a[11],o);np(c,a,y,m),Ar(m,!1)}function Vu(s){return Ch("",s,""),Vu}function Ch(s,o,a){const c=xe(),h=dh(c,s,o,a);return h!==Ot&&Na(c,Nn(),h),Ch}function Pp(s,o,a){const c=xe();return ki(c,zo(),o)&&Ri($t(),In(),c,s,o,c[11],a,!0),Pp}function L_(s,o,a){const c=xe();if(ki(c,zo(),o)){const m=$t(),y=In();Ri(m,y,c,s,o,WD(nl(m.data),y,c),a,!0)}return L_}const Rc=void 0;var QI=["en",[["a","p"],["AM","PM"],Rc],[["AM","PM"],Rc,Rc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Rc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Rc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Rc,"{1} 'at' {0}",Rc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(s){const a=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let Bu={};function B_(s){const o=function(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=Fp(o);if(a)return a;const c=o.split("-")[0];if(a=Fp(c),a)return a;if("en"===c)return QI;throw new Error(`Missing locale data for the locale "${s}".`)}function Np(s){return B_(s)[It.PluralCase]}function Fp(s){return s in Bu||(Bu[s]=Qt.ng&&Qt.ng.common&&Qt.ng.common.locales&&Qt.ng.common.locales[s]),Bu[s]}var It=(()=>((It=It||{})[It.LocaleId=0]="LocaleId",It[It.DayPeriodsFormat=1]="DayPeriodsFormat",It[It.DayPeriodsStandalone=2]="DayPeriodsStandalone",It[It.DaysFormat=3]="DaysFormat",It[It.DaysStandalone=4]="DaysStandalone",It[It.MonthsFormat=5]="MonthsFormat",It[It.MonthsStandalone=6]="MonthsStandalone",It[It.Eras=7]="Eras",It[It.FirstDayOfWeek=8]="FirstDayOfWeek",It[It.WeekendRange=9]="WeekendRange",It[It.DateFormat=10]="DateFormat",It[It.TimeFormat=11]="TimeFormat",It[It.DateTimeFormat=12]="DateTimeFormat",It[It.NumberSymbols=13]="NumberSymbols",It[It.NumberFormats=14]="NumberFormats",It[It.CurrencyCode=15]="CurrencyCode",It[It.CurrencySymbol=16]="CurrencySymbol",It[It.CurrencyName=17]="CurrencyName",It[It.Currencies=18]="Currencies",It[It.Directionality=19]="Directionality",It[It.PluralCase=20]="PluralCase",It[It.ExtraData=21]="ExtraData",It))();const Lp="en-US";let kE=Lp;function Yp(s,o,a,c,h){if(s=ie(s),Array.isArray(s))for(let m=0;m<s.length;m++)Yp(s[m],o,a,c,h);else{const m=$t(),y=xe();let E=lh(s)?s:ie(s.provide),C=JD(s);const S=Un(),x=1048575&S.providerIndexes,F=S.directiveStart,q=S.providerIndexes>>20;if(lh(s)||!s.multi){const ee=new Ca(C,h,bh),Ee=Qp(E,o,h?x:x+q,F);-1===Ee?(mo(gs(S,y),m,E),X_(m,s,o.length),o.push(E),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),a.push(ee),y.push(ee)):(a[Ee]=ee,y[Ee]=ee)}else{const ee=Qp(E,o,x+q,F),Ee=Qp(E,o,x,x+q),Ve=ee>=0&&a[ee],qe=Ee>=0&&a[Ee];if(h&&!qe||!h&&!Ve){mo(gs(S,y),m,E);const ot=function(s,o,a,c,h){const m=new Ca(s,a,bh);return m.multi=[],m.index=o,m.componentProviders=0,ow(m,h,c&&!a),m}(h?IT:DT,a.length,h,c,C);!h&&qe&&(a[Ee].providerFactory=ot),X_(m,s,o.length,0),o.push(E),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),a.push(ot),y.push(ot)}else X_(m,s,ee>-1?ee:Ee,ow(a[h?Ee:ee],C,!h&&c));!h&&c&&qe&&a[Ee].componentProviders++}}}function X_(s,o,a,c){const h=lh(o),m=function(s){return!!s.useClass}(o);if(h||m){const C=(m?ie(o.useClass):o).prototype.ngOnDestroy;if(C){const S=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const x=S.indexOf(a);-1===x?S.push(a,[c,C]):S[x+1].push(c,C)}else S.push(a,C)}}}function ow(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function Qp(s,o,a,c){for(let h=a;h<c;h++)if(o[h]===s)return h;return-1}function DT(s,o,a,c){return J_(this.multi,[])}function IT(s,o,a,c){const h=this.multi;let m;if(this.providerFactory){const y=this.providerFactory.componentProviders,E=ys(a,a[1],this.providerFactory.index,c);m=E.slice(0,y),J_(h,m);for(let C=y;C<E.length;C++)m.push(E[C])}else m=[],J_(h,m);return m}function J_(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function Mh(s,o=[]){return a=>{a.providersResolver=(c,h)=>function(s,o,a){const c=$t();if(c.firstCreatePass){const h=oi(s);Yp(a,c.data,c.blueprint,h,!0),Yp(o,c.data,c.blueprint,h,!1)}}(c,h?h(s):s,o)}}class cw{}class TT{resolveComponentFactory(o){throw function(s){const o=Error(`No component factory found for ${le(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let xh=(()=>{class s{}return s.NULL=new TT,s})();function AT(){return $u(Un(),xe())}function $u(s,o){return new Rh(Tr(s,o))}let Rh=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=AT,s})();function Fc(s){return s instanceof Rh?s.nativeElement:s}class ey{}let MT=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function(){const s=xe(),a=Wt(Un().index,s);return function(s){return s[11]}(zi(a)?a:s)}(),s})(),Jk=(()=>{class s{}return s.\u0275prov=sn({token:s,providedIn:"root",factory:()=>null}),s})();class RT{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const kT=new RT("13.0.3"),hw={};function ty(s,o,a,c,h=!1){for(;null!==a;){const m=o[a.index];if(null!==m&&c.push(Bn(m)),Mn(m))for(let E=10;E<m.length;E++){const C=m[E],S=C[1].firstChild;null!==S&&ty(C[1],C,S,c)}const y=a.type;if(8&y)ty(s,o,a.child,c);else if(32&y){const E=Gd(a,o);let C;for(;C=E();)c.push(C)}else if(16&y){const E=zg(o,a);if(Array.isArray(E))c.push(...E);else{const C=qd(o[16]);ty(C[1],C,E,c,!0)}}a=h?a.projectionNext:a.next}return c}class Xp{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return ty(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Mn(o)){const a=o[8],c=a?a.indexOf(this):-1;c>-1&&(Lg(o,c),Aa(a,c))}this._attachedToViewContainer=!1}Vg(this._lView[1],this._lView)}onDestroy(o){xD(this._lView[1],this._lView,null,o)}markForCheck(){Pb(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Fb(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(s,o,a){$o(!0);try{Fb(s,o,a)}finally{$o(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var o;this._appRef=null,Wd(this._lView[1],o=this._lView,o[11],2,null,null)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=o}}class eO extends Xp{constructor(o){super(o),this._view=o}detectChanges(){Lb(this._view)}checkNoChanges(){!function(s){$o(!0);try{Lb(s)}finally{$o(!1)}}(this._view)}get context(){return null}}class OT extends xh{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Ht(o);return new fw(a,this.ngModule)}}function ny(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}const NT=new Fn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>zv});class fw extends cw{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=o.selectors.map(yD).join(","),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return ny(this.componentDef.inputs)}get outputs(){return ny(this.componentDef.outputs)}create(o,a,c,h){const m=(h=h||this.ngModule)?function(s,o){return{get:(a,c,h)=>{const m=s.get(a,hw,h);return m!==hw||c===hw?m:o.get(a,c,h)}}}(o,h.injector):o,y=m.get(ey,so),E=m.get(Jk,null),C=y.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",x=c?function(s,o,a){if(mn(s))return s.selectRootElement(o,a===Ke.ShadowDom);let c="string"==typeof o?s.querySelector(o):o;return c.textContent="",c}(C,c,this.componentDef.encapsulation):Og(y.createRenderer(null,this.componentDef),S,function(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(S)),F=this.componentDef.onPush?576:528,q=function(s,o){return{components:[],scheduler:s||zv,clean:ZR,playerHandler:o||null,flags:0}}(),ee=Pu(0,null,null,1,0,null,null,null,null,null),Ee=Ou(null,ee,q,F,null,null,y,C,E,m);let Ve,qe;ba(Ee);try{const ot=function(s,o,a,c,h,m){const y=a[1];a[20]=s;const C=Cc(y,20,2,"#host",null),S=C.mergedAttrs=o.hostAttrs;null!==S&&(i_(C,S,!0),null!==s&&(xn(h,s,S),null!==C.classes&&Do(h,s,C.classes),null!==C.styles&&pr(h,s,C.styles)));const x=c.createRenderer(s,o),F=Ou(a,wb(o),null,o.onPush?64:16,a[20],C,c,x,m||null,null);return y.firstCreatePass&&(mo(gs(C,a),y,o.type),Sb(y,C),t_(C,a.length,1)),Dc(a,F),a[20]=F}(x,this.componentDef,Ee,y,C);if(x)if(c)xn(C,x,["ng-version",kT.full]);else{const{attrs:Se,classes:vt}=function(s){const o=[],a=[];let c=1,h=2;for(;c<s.length;){let m=s[c];if("string"==typeof m)2===h?""!==m&&o.push(m,s[++c]):8===h&&a.push(m);else{if(!Io(h))break;h=m}c++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);Se&&xn(C,x,Se),vt&&vt.length>0&&Do(C,x,vt.join(" "))}if(qe=Bo(ee,20),void 0!==a){const Se=qe.projection=[];for(let vt=0;vt<this.ngContentSelectors.length;vt++){const Kt=a[vt];Se.push(null!=Kt?Array.from(Kt):null)}}Ve=function(s,o,a,c,h){const m=a[1],y=function(s,o,a){const c=Un();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),Mb(s,c,o,nh(s,o,1,null),a));const h=ys(o,s,c.directiveStart,c);Er(h,o);const m=Tr(c,o);return m&&Er(m,o),h}(m,a,o);if(c.components.push(y),s[8]=y,h&&h.forEach(C=>C(y,o)),o.contentQueries){const C=Un();o.contentQueries(1,y,C.directiveStart)}const E=Un();return!m.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Hs(E.index),e_(a[1],E,0,E.directiveStart,E.directiveEnd,o),LD(o,y)),y}(ot,this.componentDef,Ee,q,[pk]),up(ee,Ee,null)}finally{Yl()}return new FT(this.componentType,Ve,$u(qe,Ee),Ee,qe)}}class FT extends class{}{constructor(o,a,c,h,m){super(),this.location=c,this._rootLView=h,this._tNode=m,this.instance=a,this.hostView=this.changeDetectorRef=new eO(h),this.componentType=o}get injector(){return new go(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class zu{}class LT{}const Gu=new Map;class jT extends zu{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new OT(this);const c=Dt(o);this._bootstrapComponents=Co(c.bootstrap),this._r3Injector=XD(o,a,[{provide:zu,useValue:this},{provide:xh,useValue:this.componentFactoryResolver}],le(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,a=Ao.THROW_IF_NOT_FOUND,c=st.Default){return o===Ao||o===zu||o===jb?this:this._r3Injector.get(o,a,c)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class pw extends LT{constructor(o){super(),this.moduleType=o,null!==Dt(o)&&function(s){const o=new Set;!function a(c){const h=Dt(c,!0),m=h.id;null!==m&&(function(s,o,a){if(o&&o!==a)throw new Error(`Duplicate module registered for ${s} - ${le(o)} vs ${le(o.name)}`)}(m,Gu.get(m),c),Gu.set(m,c));const y=Co(h.imports);for(const E of y)o.has(E)||(o.add(E),a(E))}(s)}(o)}create(o){return new jT(this.moduleType,o)}}function HT(s,o,a){const c=or()+s,h=xe();return h[c]===Ot?Fa(h,c,a?o.call(a):o()):function(s,o){return s[o]}(h,c)}function $T(s,o,a,c){return function(s,o,a,c,h,m){const y=o+a;return ki(s,y,h)?Fa(s,y+1,m?c.call(m,h):c(h)):function(s,o){const a=s[o];return a===Ot?void 0:a}(s,y+1)}(xe(),or(),s,o,a,c)}function vw(s){return o=>{setTimeout(s,void 0,o)}}const Va=class extends d.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,c){var C,S,x;let h=o,m=a||(()=>null),y=c;if(o&&"object"==typeof o){const F=o;h=null==(C=F.next)?void 0:C.bind(F),m=null==(S=F.error)?void 0:S.bind(F),y=null==(x=F.complete)?void 0:x.bind(F)}this.__isAsync&&(m=vw(m),h&&(h=vw(h)),y&&(y=vw(y)));const E=super.subscribe({next:h,error:m,complete:y});return o instanceof B.w0&&o.add(E),E}};function uO(){return this._results[ch()]()}class bw{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=ch(),c=bw.prototype;c[a]||(c[a]=uO)}get changes(){return this._changes||(this._changes=new Va)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const c=this;c.dirty=!1;const h=Ai(o);(this._changesDetected=!function(s,o,a){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let h=s[c],m=o[c];if(a&&(h=a(h),m=a(m)),m!==h)return!1}return!0}(c._results,h,a))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let tm=(()=>{class s{}return s.__NG_ELEMENT_ID__=fO,s})();const dO=tm,hO=class extends dO{constructor(o,a,c){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(o){const a=this._declarationTContainer.tViews,c=Ou(this._declarationLView,a,o,16,null,a.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(c[19]=m.createEmbeddedView(a)),up(a,c,o),new Xp(c)}};function fO(){return oy(Un(),xe())}function oy(s,o){return 4&s.type?new hO(o,s,$u(s,o)):null}let ay=(()=>{class s{}return s.__NG_ELEMENT_ID__=pO,s})();function pO(){return Cw(Un(),xe())}const ZT=ay,nm=class extends ZT{constructor(o,a,c){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=c}get element(){return $u(this._hostTNode,this._hostLView)}get injector(){return new go(this._hostTNode,this._hostLView)}get parentInjector(){const o=po(this._hostTNode,this._hostLView);if(hr(o)){const a=Da(o,this._hostLView),c=Yo(o);return new go(a[1].data[c+8],a)}return new go(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=Ew(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,c){const h=o.createEmbeddedView(a||{});return this.insert(h,c),h}createComponent(o,a,c,h,m){const y=o&&!("function"==typeof o);let E;if(y)E=a;else{const F=a||{};E=F.index,c=F.injector,h=F.projectableNodes,m=F.ngModuleRef}const C=y?o:new fw(Ht(o)),S=c||this.parentInjector;if(!m&&null==C.ngModule&&S){const F=S.get(zu,null);F&&(m=F)}const x=C.create(S,h,void 0,m);return this.insert(x.hostView,E),x}insert(o,a){const c=o._lView,h=c[1];if(Mn(c[3])){const x=this.indexOf(o);if(-1!==x)this.detach(x);else{const F=c[3],q=new nm(F,F[6],F[3]);q.detach(q.indexOf(o))}}const m=this._adjustIndex(a),y=this._lContainer;!function(s,o,a,c){const h=10+c,m=a.length;c>0&&(a[h-1][4]=o),c<m-10?(o[4]=a[h],fl(a,10+c,o)):(a.push(o),o[4]=null),o[3]=a;const y=o[17];null!==y&&a!==y&&function(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(y,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=128}(h,c,y,m);const E=Gg(m,y),C=c[11],S=ep(C,y[7]);return null!==S&&function(s,o,a,c,h,m){c[0]=h,c[6]=o,Wd(s,c,a,1,h,m)}(h,y[6],C,c,S,E),o.attachToViewContainerRef(),fl(ww(y),m,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=Ew(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),c=Lg(this._lContainer,a);c&&(Aa(ww(this._lContainer),a),Vg(c[1],c))}detach(o){const a=this._adjustIndex(o,-1),c=Lg(this._lContainer,a);return c&&null!=Aa(ww(this._lContainer),a)?new Xp(c):null}_adjustIndex(o,a=0){return null==o?this.length+a:o}};function Ew(s){return s[8]}function ww(s){return s[8]||(s[8]=[])}function Cw(s,o){let a;const c=o[s.index];if(Mn(c))a=c;else{let h;if(8&s.type)h=Bn(c);else{const m=o[11];h=m.createComment("");const y=Tr(s,o);vc(m,ep(m,y),h,function(s,o){return mn(s)?s.nextSibling(o):o.nextSibling}(m,y),!1)}o[s.index]=a=Tl(c,o,h,s),Dc(o,a)}return new nm(a,s,o)}class Oh{constructor(o){this.queryList=o,this.matches=null}clone(){return new Oh(this.queryList)}setDirty(){this.queryList.setDirty()}}class ly{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const c=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let m=0;m<c;m++){const y=a.getByIndex(m);h.push(this.queries[y.indexInDeclarationView].clone())}return new ly(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==kw(o,a).matches&&this.queries[a].setDirty()}}class Dw{constructor(o,a,c=null){this.predicate=o,this.flags=a,this.read=c}}class im{constructor(o=[]){this.queries=o}elementStart(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let c=0;c<this.length;c++){const h=null!==a?a.length:0,m=this.getByIndex(c).embeddedTView(o,h);m&&(m.indexInDeclarationView=c,null!==a?a.push(m):a=[m])}return null!==a?new im(a):null}template(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Iw{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new Iw(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const m=c[h];this.matchTNodeWithReadOption(o,a,XT(a,m)),this.matchTNodeWithReadOption(o,a,xr(a,o,m,!1,!1))}else c===tm?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,xr(a,o,c,!1,!1))}matchTNodeWithReadOption(o,a,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===Rh||h===ay||h===tm&&4&a.type)this.addMatch(a.index,-2);else{const m=xr(a,o,h,!1,!1);null!==m&&this.addMatch(a.index,m)}else this.addMatch(a.index,c)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function XT(s,o){const a=s.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===o)return a[c+1];return null}function eA(s,o,a,c){return-1===a?function(s,o){return 11&s.type?$u(s,o):4&s.type?oy(s,o):null}(o,s):-2===a?function(s,o,a){return a===Rh?$u(o,s):a===tm?oy(o,s):a===ay?Cw(o,s):void 0}(s,o,c):ys(s,s[1],a,o)}function Tw(s,o,a,c){const h=o[19].queries[c];if(null===h.matches){const m=s.data,y=a.matches,E=[];for(let C=0;C<y.length;C+=2){const S=y[C];E.push(S<0?null:eA(o,m[S],y[C+1],a.metadata.read))}h.matches=E}return h.matches}function cy(s,o,a,c){const h=s.queries.getByIndex(a),m=h.matches;if(null!==m){const y=Tw(s,o,h,a);for(let E=0;E<m.length;E+=2){const C=m[E];if(C>0)c.push(y[E/2]);else{const S=m[E+1],x=o[-C];for(let F=10;F<x.length;F++){const q=x[F];q[17]===q[3]&&cy(q[1],q,S,c)}if(null!==x[9]){const F=x[9];for(let q=0;q<F.length;q++){const ee=F[q];cy(ee[1],ee,S,c)}}}}}return c}function uy(s){const o=xe(),a=$t(),c=Wo();rl(c+1);const h=kw(a,c);if(s.dirty&&Ya(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const m=h.crossesNgTemplate?cy(a,o,c,[]):Tw(a,o,h,c);s.reset(m,Fc),s.notifyOnChanges()}return!0}return!1}function dy(s,o,a){const c=$t();c.firstCreatePass&&(xw(c,new Dw(s,o,a),-1),2==(2&o)&&(c.staticViewQueries=!0)),Mw(c,xe(),o)}function Aw(s,o,a,c){const h=$t();if(h.firstCreatePass){const m=Un();xw(h,new Dw(o,a,c),m.index),function(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(h,s),2==(2&a)&&(h.staticContentQueries=!0)}Mw(h,xe(),a)}function hy(){return s=xe(),o=Wo(),s[19].queries[o].queryList;var s,o}function Mw(s,o,a){const c=new bw(4==(4&a));xD(s,o,c,c.destroy),null===o[19]&&(o[19]=new ly),o[19].queries.push(new Oh(c))}function xw(s,o,a){null===s.queries&&(s.queries=new im),s.queries.track(new Iw(o,a))}function kw(s,o){return s.queries.getByIndex(o)}function lm(...s){}const Yu=new Fn("Application Initializer");let Ts=(()=>{class s{constructor(a){this.appInits=a,this.resolve=lm,this.reject=lm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const m=this.appInits[h]();if(h_(m))a.push(m);else if(uE(m)){const y=new Promise((E,C)=>{m.subscribe({complete:E,error:C})});a.push(y)}}Promise.all(a).then(()=>{c()}).catch(h=>{this.reject(h)}),0===a.length&&c(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(j(Yu,8))},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})();const vy=new Fn("AppId"),Ml={provide:vy,useFactory:function(){return`${by()}${by()}${by()}`},deps:[]};function by(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ww=new Fn("Platform Initializer"),Ey=new Fn("Platform ID"),wy=new Fn("appBootstrapListener");let Cy=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})();const Nh=new Fn("LocaleId"),Dy=new Fn("DefaultCurrencyCode");class Kw{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let um=(()=>{class s{compileModuleSync(a){return new pw(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),m=Co(Dt(a).declarations).reduce((y,E)=>{const C=Ht(E);return C&&y.push(new fw(C)),y},[]);return new Kw(c,m)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})();const CA=(()=>Promise.resolve(0))();function dm(s){"undefined"==typeof Zone?CA.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Pi{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Va(!1),this.onMicrotaskEmpty=new Va(!1),this.onStable=new Va(!1),this.onError=new Va(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&a,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function(){let s=Qt.requestAnimationFrame,o=Qt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function(s){const o=()=>{!function(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Qt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,hm(s),s.isCheckStableRunning=!0,Fh(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),hm(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,h,m,y,E)=>{try{return fm(s),a.invokeTask(h,m,y,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||s.shouldCoalesceRunChangeDetection)&&o(),Lh(s)}},onInvoke:(a,c,h,m,y,E,C)=>{try{return fm(s),a.invoke(h,m,y,E,C)}finally{s.shouldCoalesceRunChangeDetection&&o(),Lh(s)}},onHasTask:(a,c,h,m)=>{a.hasTask(h,m),c===h&&("microTask"==m.change?(s._hasPendingMicrotasks=m.microTask,hm(s),Fh(s)):"macroTask"==m.change&&(s.hasPendingMacrotasks=m.macroTask))},onHandleError:(a,c,h,m)=>(a.handleError(h,m),s.runOutsideAngular(()=>s.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Pi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Pi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,a,c){return this._inner.run(o,a,c)}runTask(o,a,c,h){const m=this._inner,y=m.scheduleEventTask("NgZoneEvent: "+h,o,Qw,lm,lm);try{return m.runTask(y,a,c)}finally{m.cancelTask(y)}}runGuarded(o,a,c){return this._inner.runGuarded(o,a,c)}runOutsideAngular(o){return this._outer.run(o)}}const Qw={};function Fh(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function hm(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function fm(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Lh(s){s._nesting--,Fh(s)}class e0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Va,this.onMicrotaskEmpty=new Va,this.onStable=new Va,this.onError=new Va}run(o,a,c){return o.apply(a,c)}runGuarded(o,a,c){return o.apply(a,c)}runOutsideAngular(o){return o()}runTask(o,a,c,h){return o.apply(a,c)}}let Iy=(()=>{class s{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Pi.assertNotInAngularZone(),dm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())dm(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,h){let m=-1;c&&c>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==m),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:m,updateCb:h})}whenStable(a,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,c,h){return[]}}return s.\u0275fac=function(a){return new(a||s)(j(Pi))},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})(),Ty=(()=>{class s{constructor(){this._applications=new Map,pm.addToWindow(this)}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return pm.findTestabilityInTree(this,a,c)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})();class Ni{addToWindow(o){}findTestabilityInTree(o,a,c){return null}}function Ua(s){pm=s}let da,pm=new Ni;const mm=new Fn("AllowMultipleToken");class gm{constructor(o,a){this.name=o,this.token=a}}function _m(s,o,a=[]){const c=`Platform: ${o}`,h=new Fn(c);return(m=[])=>{let y=AA();if(!y||y.injector.get(mm,!1))if(s)s(a.concat(m).concat({provide:h,useValue:!0}));else{const E=a.concat(m).concat({provide:h,useValue:!0},{provide:Hb,useValue:"platform"});!function(s){if(da&&!da.destroyed&&!da.injector.get(mm,!1))throw new je("400","");da=s.get(SA);const o=s.get(Ww,null);o&&o.forEach(a=>a())}(Ao.create({providers:E,name:c}))}return function(s){const o=AA();if(!o)throw new je("401","");return o}()}}function AA(){return da&&!da.destroyed?da:null}let SA=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const E=function(s,o){let a;return a="noop"===s?new e0:("zone.js"===s?void 0:s)||new Pi({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),a}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),C=[{provide:Pi,useValue:E}];return E.run(()=>{const S=Ao.create({providers:C,parent:this.injector,name:a.moduleType.name}),x=a.create(S),F=x.injector.get(zd,null);if(!F)throw new je("402","");return E.runOutsideAngular(()=>{const q=E.onError.subscribe({next:ee=>{F.handleError(ee)}});x.onDestroy(()=>{Qu(this._modules,x),q.unsubscribe()})}),function(s,o,a){try{const c=a();return h_(c)?c.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}(F,E,()=>{const q=x.injector.get(Ts);return q.runInitializers(),q.donePromise.then(()=>(function(s){Mt(s,"Expected localeId to be defined"),"string"==typeof s&&(kE=s.toLowerCase().replace(/_/g,"-"))}(x.injector.get(Nh,Lp)||Lp),this._moduleDoBootstrap(x),x))})})}bootstrapModule(a,c=[]){const h=MA({},c);return function(s,o,a){const c=new pw(a);return Promise.resolve(c)}(0,0,a).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(a){const c=a.injector.get(Vh);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new je("403","");a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new je("404","");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(j(Ao))},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})();function MA(s,o){return Array.isArray(o)?o.reduce(MA,s):rt(rt({},s),o)}let Vh=(()=>{class s{constructor(a,c,h,m,y){this._zone=a,this._injector=c,this._exceptionHandler=h,this._componentFactoryResolver=m,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new P.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),C=new P.y(S=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{Pi.assertNotInAngularZone(),dm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const F=this._zone.onUnstable.subscribe(()=>{Pi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{x.unsubscribe(),F.unsubscribe()}});this.isStable=(0,oe.T)(E,C.pipe((0,ae.B)()))}bootstrap(a,c){if(!this._initStatus.done)throw new je("405","");let h;h=a instanceof cw?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(h.componentType);const m=function(s){return s.isBoundToModule}(h)?void 0:this._injector.get(zu),E=h.create(Ao.NULL,[],c||h.selector,m),C=E.location.nativeElement,S=E.injector.get(Iy,null),x=S&&E.injector.get(Ty);return S&&x&&x.registerApplication(C,S),E.onDestroy(()=>{this.detachView(E.hostView),Qu(this.components,E),x&&x.unregisterApplication(C)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new je("101","");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;Qu(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(wy,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(a){return new(a||s)(j(Pi),j(Ao),j(zd),j(xh),j(Ts))},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})();function Qu(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let Bh=!0,n0=!1;function Ay(){return n0=!0,Bh}function vm(){if(n0)throw new Error("Cannot enable prod mode after platform setup.");Bh=!1}let xA=(()=>{class s{}return s.__NG_ELEMENT_ID__=r0,s})();function r0(s){return function(s,o,a){if(Ls(s)&&!a){const c=Wt(s.index,o);return new Xp(c,c)}return 47&s.type?new Xp(o[16],o):null}(Un(),xe(),16==(16&s))}class PA{constructor(){}supports(o){return pp(o)}create(o){return new NO(o)}}const PO=(s,o)=>o;class NO{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||PO}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,c=this._removalsHead,h=0,m=null;for(;a||c;){const y=!c||a&&a.currentIndex<l0(c,h,m)?a:c,E=l0(y,h,m),C=y.currentIndex;if(y===c)h--,c=c._nextRemoved;else if(a=a._next,null==y.previousIndex)h++;else{m||(m=[]);const S=E-h,x=C-h;if(S!=x){for(let q=0;q<S;q++){const ee=q<m.length?m[q]:m[q]=0,Ee=ee+q;x<=Ee&&Ee<S&&(m[q]=ee+1)}m[y.previousIndex]=x-S}}E!==C&&o(y,E,C)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!pp(o))throw new Error(`Error trying to diff '${le(o)}'. Only arrays and iterables are allowed`);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,m,y,a=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)m=o[E],y=this._trackByFn(E,m),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,m,y,E)),Object.is(a.item,m)||this._addIdentityChange(a,m)):(a=this._mismatch(a,m,y,E),c=!0),a=a._next}else h=0,function(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[ch()]();let c;for(;!(c=a.next()).done;)o(c.value)}}(o,E=>{y=this._trackByFn(h,E),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,E,y,h)),Object.is(a.item,E)||this._addIdentityChange(a,E)):(a=this._mismatch(a,E,y,h),c=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,c,h){let m;return null===o?m=this._itTail:(m=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,m,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,m,h)):o=this._addAfter(new FO(a,c),m,h),o}_verifyReinsertion(o,a,c,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==m?o=this._reinsertAfter(m,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,m=o._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(o,a,c),this._addToMoves(o,c),o}_moveAfter(o,a,c){return this._unlink(o),this._insertAfter(o,a,c),this._addToMoves(o,c),o}_addAfter(o,a,c){return this._insertAfter(o,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,c){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new Oy),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,c=o._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Oy),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class FO{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class NA{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const a=o._prevDup,c=o._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class Oy{constructor(){this.map=new Map}put(o){const a=o.trackById;let c=this.map.get(a);c||(c=new NA,this.map.set(a,c)),c.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function l0(s,o,a){const c=s.previousIndex;if(null===c)return c;let h=0;return a&&c<a.length&&(h=a[c]),c+o+h}class Py{constructor(){}supports(o){return o instanceof Map||Zb(o)}create(){return new Ny}}class Ny{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||Zb(o)))throw new Error(`Error trying to diff '${le(o)}'. Only maps and objects are allowed`)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const m=this._getOrCreateRecordForKey(h,c);a=this._insertBeforeOrAppend(a,m)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const c=o._prev;return a._next=o,a._prev=c,o._prev=a,c&&(c._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const m=h._prev,y=h._next;return m&&(m._next=y),y&&(y._prev=m),h._next=null,h._prev=null,h}const c=new FA(o);return this._records.set(o,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(c=>a(o[c],c))}}class FA{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function c0(){return new zh([new PA])}let zh=(()=>{class s{constructor(a){this.factories=a}static create(a,c){if(null!=c){const h=c.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:c=>s.create(a,c||c0()),deps:[[s,new Pr,new cn]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(null!=c)return c;throw new Error(`Cannot find a differ supporting object '${a}' of type '${function(s){return s.name||typeof s}(a)}'`)}}return s.\u0275prov=sn({token:s,providedIn:"root",factory:c0}),s})();function VA(){return new Gh([new Py])}let Gh=(()=>{class s{constructor(a){this.factories=a}static create(a,c){if(c){const h=c.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:c=>s.create(a,c||VA()),deps:[[s,new Pr,new cn]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(c)return c;throw new Error(`Cannot find a differ supporting object '${a}'`)}}return s.\u0275prov=sn({token:s,providedIn:"root",factory:VA}),s})();const BA=[new Py],UA=new zh([new PA]),d0=new Gh(BA),HA=_m(null,"core",[{provide:Ey,useValue:"unknown"},{provide:SA,deps:[Ao]},{provide:Ty,deps:[]},{provide:Cy,deps:[]}]),Fy=[{provide:Vh,useClass:Vh,deps:[Pi,Ao,zd,xh,Ts]},{provide:NT,deps:[Pi],useFactory:function(s){let o=[];return s.onStable.subscribe(()=>{for(;o.length;)o.pop()()}),function(a){o.push(a)}}},{provide:Ts,useClass:Ts,deps:[[new cn,Yu]]},{provide:um,useClass:um,deps:[]},Ml,{provide:zh,useFactory:function(){return UA},deps:[]},{provide:Gh,useFactory:function(){return d0},deps:[]},{provide:Nh,useFactory:function(s){return s||"undefined"!=typeof $localize&&$localize.locale||Lp},deps:[[new Wn(Nh),new cn,new Pr]]},{provide:Dy,useValue:"USD"}];let Ly=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(j(Vh))},s.\u0275mod=Ae({type:s}),s.\u0275inj=wn({providers:Fy}),s})()},6293:(tt,ve,N)=>{"use strict";N.d(ve,{Z:()=>je});var d=N(4213),B=N(1177),P=N(1572),oe=N(3855);class ae{constructor(de,J){this._delegate=de,this.firebase=J,(0,P._addComponent)(de,new B.wA("app-compat",()=>this,"PUBLIC")),this.container=de.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(de){this._delegate.automaticDataCollectionEnabled=de}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(de=>{this._delegate.checkDestroyed(),de()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(de,J=P._DEFAULT_ENTRY_NAME){var ce;this._delegate.checkDestroyed();const Te=this._delegate.container.getProvider(de);return!Te.isInitialized()&&"EXPLICIT"===(null===(ce=Te.getComponent())||void 0===ce?void 0:ce.instantiationMode)&&Te.initialize(),Te.getImmediate({identifier:J})}_removeServiceInstance(de,J=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(de).clearInstance(J)}_addComponent(de){(0,P._addComponent)(this._delegate,de)}_addOrOverwriteComponent(de){(0,P._addOrOverwriteComponent)(this._delegate,de)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ne=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function he(){const He=function(He){const de={},J={__esModule:!0,initializeApp:function(Ye,dt={}){const se=P.initializeApp(Ye,dt);if((0,d.r3)(de,se.name))return de[se.name];const fe=new He(se,J);return de[se.name]=fe,fe},app:Te,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function(Ye){const dt=Ye.name,se=dt.replace("-compat","");if(P._registerComponent(Ye)&&"PUBLIC"===Ye.type){const fe=(be=Te())=>{if("function"!=typeof be[se])throw ne.create("invalid-app-argument",{appName:dt});return be[se]()};void 0!==Ye.serviceProps&&(0,d.ZB)(fe,Ye.serviceProps),J[se]=fe,He.prototype[se]=function(...be){return this._getService.bind(this,dt).apply(this,Ye.multipleInstances?be:[])}}return"PUBLIC"===Ye.type?J[se]:null},removeApp:function(Ye){delete de[Ye]},useAsService:function(Ye,dt){return"serverAuth"===dt?null:dt},modularAPIs:P}};function Te(Ye){if(!(0,d.r3)(de,Ye=Ye||P._DEFAULT_ENTRY_NAME))throw ne.create("no-app",{appName:Ye});return de[Ye]}return J.default=J,Object.defineProperty(J,"apps",{get:function(){return Object.keys(de).map(Ye=>de[Ye])}}),Te.App=He,J}(ae);return He.INTERNAL=Object.assign(Object.assign({},He.INTERNAL),{createFirebaseNamespace:he,extendNamespace:function(J){(0,d.ZB)(He,J)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),He}(),$=new oe.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const He=self.firebase.SDK_VERSION;He&&He.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const je=G;(0,P.registerVersion)("@firebase/app-compat","0.1.12",undefined)},1572:(tt,ve,N)=>{"use strict";N.r(ve),N.d(ve,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>ei,_DEFAULT_ENTRY_NAME:()=>Zn,_addComponent:()=>vn,_addOrOverwriteComponent:()=>gr,_apps:()=>Mt,_clearComponents:()=>wn,_components:()=>Rt,_getProvider:()=>sn,_registerComponent:()=>_r,_removeServiceInstance:()=>ls,deleteApp:()=>Yn,getApp:()=>Fe,getApps:()=>Cn,initializeApp:()=>vi,onLog:()=>qt,registerVersion:()=>st,setLogLevel:()=>cr});var d=N(8239),B=N(1177),P=N(3855),oe=N(4213);class ae{constructor(ht){this.container=ht}getPlatformInfoString(){return this.container.getProviders().map(Ft=>{if(function(mt){const ht=mt.getComponent();return"VERSION"===(null==ht?void 0:ht.type)}(Ft)){const Ut=Ft.getImmediate();return`${Ut.library}/${Ut.version}`}return null}).filter(Ft=>Ft).join(" ")}}const ne="@firebase/app",he=new P.Yd("@firebase/app"),Zn="[DEFAULT]",St={[ne]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Mt=new Map,Rt=new Map;function vn(mt,ht){try{mt.container.addComponent(ht)}catch(Ft){he.debug(`Component ${ht.name} failed to register with FirebaseApp ${mt.name}`,Ft)}}function gr(mt,ht){mt.container.addOrOverwriteComponent(ht)}function _r(mt){const ht=mt.name;if(Rt.has(ht))return he.debug(`There were multiple attempts to register component ${ht}.`),!1;Rt.set(ht,mt);for(const Ft of Mt.values())vn(Ft,mt);return!0}function sn(mt,ht){return mt.container.getProvider(ht)}function ls(mt,ht,Ft=Zn){sn(mt,ht).clearInstance(Ft)}function wn(){Rt.clear()}const Xt=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class cs{constructor(ht,Ft,Ut){this._isDeleted=!1,this._options=Object.assign({},ht),this._config=Object.assign({},Ft),this._name=Ft.name,this._automaticDataCollectionEnabled=Ft.automaticDataCollectionEnabled,this._container=Ut,this.container.addComponent(new B.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ht){this.checkDestroyed(),this._automaticDataCollectionEnabled=ht}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ht){this._isDeleted=ht}checkDestroyed(){if(this.isDeleted)throw Xt.create("app-deleted",{appName:this._name})}}const ei="9.6.1";function vi(mt,ht={}){"object"!=typeof ht&&(ht={name:ht});const Ft=Object.assign({name:Zn,automaticDataCollectionEnabled:!1},ht),Ut=Ft.name;if("string"!=typeof Ut||!Ut)throw Xt.create("bad-app-name",{appName:String(Ut)});const Xn=Mt.get(Ut);if(Xn){if((0,oe.vZ)(mt,Xn.options)&&(0,oe.vZ)(Ft,Xn.config))return Xn;throw Xt.create("duplicate-app",{appName:Ut})}const en=new B.H0(Ut);for(const ut of Rt.values())en.addComponent(ut);const Ke=new cs(mt,Ft,en);return Mt.set(Ut,Ke),Ke}function Fe(mt=Zn){const ht=Mt.get(mt);if(!ht)throw Xt.create("no-app",{appName:mt});return ht}function Cn(){return Array.from(Mt.values())}function Yn(mt){return ti.apply(this,arguments)}function ti(){return(ti=(0,d.Z)(function*(mt){const ht=mt.name;Mt.has(ht)&&(Mt.delete(ht),yield Promise.all(mt.container.getProviders().map(Ft=>Ft.delete())),mt.isDeleted=!0)})).apply(this,arguments)}function st(mt,ht,Ft){var Ut;let Xn=null!==(Ut=St[mt])&&void 0!==Ut?Ut:mt;Ft&&(Xn+=`-${Ft}`);const en=Xn.match(/\s|\//),Ke=ht.match(/\s|\//);if(en||Ke){const ut=[`Unable to register library "${Xn}" with version "${ht}":`];return en&&ut.push(`library name "${Xn}" contains illegal characters (whitespace or "/")`),en&&Ke&&ut.push("and"),Ke&&ut.push(`version name "${ht}" contains illegal characters (whitespace or "/")`),void he.warn(ut.join(" "))}_r(new B.wA(`${Xn}-version`,()=>({library:Xn,version:ht}),"VERSION"))}function qt(mt,ht){if(null!==mt&&"function"!=typeof mt)throw Xt.create("invalid-log-argument");(0,P.Am)(mt,ht)}function cr(mt){(0,P.Ub)(mt)}_r(new B.wA("platform-logger",ht=>new ae(ht),"PRIVATE")),st(ne,"0.7.11",""),st(ne,"0.7.11","esm2017"),st("fire-js","")},1177:(tt,ve,N)=>{"use strict";N.d(ve,{wA:()=>P,H0:()=>le});var d=N(8239),B=N(4213);class P{constructor(G,$,ie){this.name=G,this.instanceFactory=$,this.type=ie,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const oe="[DEFAULT]";class ae{constructor(G,$){this.name=G,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const $=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has($)){const ie=new B.BH;if(this.instancesDeferred.set($,ie),this.isInitialized($)||this.shouldAutoInitialize())try{const Be=this.getOrInitializeService({instanceIdentifier:$});Be&&ie.resolve(Be)}catch(Be){}}return this.instancesDeferred.get($).promise}getImmediate(G){var $;const ie=this.normalizeInstanceIdentifier(null==G?void 0:G.identifier),Be=null!==($=null==G?void 0:G.optional)&&void 0!==$&&$;if(!this.isInitialized(ie)&&!this.shouldAutoInitialize()){if(Be)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ie})}catch(Me){if(Be)return null;throw Me}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if("EAGER"===G.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:oe})}catch($){}for(const[$,ie]of this.instancesDeferred.entries()){const Be=this.normalizeInstanceIdentifier($);try{const Me=this.getOrInitializeService({instanceIdentifier:Be});ie.resolve(Me)}catch(Me){}}}}clearInstance(G=oe){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,d.Z)(function*(){const $=Array.from(G.instances.values());yield Promise.all([...$.filter(ie=>"INTERNAL"in ie).map(ie=>ie.INTERNAL.delete()),...$.filter(ie=>"_delete"in ie).map(ie=>ie._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=oe){return this.instances.has(G)}getOptions(G=oe){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:$={}}=G,ie=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(ie))throw Error(`${this.name}(${ie}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Be=this.getOrInitializeService({instanceIdentifier:ie,options:$});for(const[Me,je]of this.instancesDeferred.entries())ie===this.normalizeInstanceIdentifier(Me)&&je.resolve(Be);return Be}onInit(G,$){var ie;const Be=this.normalizeInstanceIdentifier($),Me=null!==(ie=this.onInitCallbacks.get(Be))&&void 0!==ie?ie:new Set;Me.add(G),this.onInitCallbacks.set(Be,Me);const je=this.instances.get(Be);return je&&G(je,Be),()=>{Me.delete(G)}}invokeOnInitCallbacks(G,$){const ie=this.onInitCallbacks.get($);if(ie)for(const Be of ie)try{Be(G,$)}catch(Me){}}getOrInitializeService({instanceIdentifier:G,options:$={}}){let ie=this.instances.get(G);if(!ie&&this.component&&(ie=this.component.instanceFactory(this.container,{instanceIdentifier:(he=G,he===oe?void 0:he),options:$}),this.instances.set(G,ie),this.instancesOptions.set(G,$),this.invokeOnInitCallbacks(ie,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,ie)}catch(Be){}var he;return ie||null}normalizeInstanceIdentifier(G=oe){return this.component?this.component.multipleInstances?G:oe:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class le{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const $=this.getProvider(G.name);if($.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);$.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const $=new ae(G,this);return this.providers.set(G,$),$}getProviders(){return Array.from(this.providers.values())}}},3855:(tt,ve,N)=>{"use strict";N.d(ve,{in:()=>B,Yd:()=>ne,Ub:()=>le,Am:()=>he});const d=[];var B=(()=>{return(G=B||(B={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",B;var G})();const P={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},oe=B.INFO,ae={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},ge=(G,$,...ie)=>{if($<G.logLevel)return;const Be=(new Date).toISOString(),Me=ae[$];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[Me](`[${Be}]  ${G.name}:`,...ie)};class ne{constructor($){this.name=$,this._logLevel=oe,this._logHandler=ge,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in B))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?P[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...$),this._logHandler(this,B.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...$),this._logHandler(this,B.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,B.INFO,...$),this._logHandler(this,B.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,B.WARN,...$),this._logHandler(this,B.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...$),this._logHandler(this,B.ERROR,...$)}}function le(G){d.forEach($=>{$.setLogLevel(G)})}function he(G,$){for(const ie of d){let Be=null;$&&$.level&&(Be=P[$.level]),ie.userLogHandler=null===G?null:(Me,je,...He)=>{const de=He.map(J=>{if(null==J)return null;if("string"==typeof J)return J;if("number"==typeof J||"boolean"==typeof J)return J.toString();if(J instanceof Error)return J.message;try{return JSON.stringify(J)}catch(ce){return null}}).filter(J=>J).join(" ");je>=(null!=Be?Be:Me.logLevel)&&G({level:B[je].toLowerCase(),message:de,args:He,type:Me.name})}}}},8239:(tt,ve,N)=>{"use strict";function d(P,oe,ae,ge,ne,le,he){try{var G=P[le](he),$=G.value}catch(ie){return void ae(ie)}G.done?oe($):Promise.resolve($).then(ge,ne)}function B(P){return function(){var oe=this,ae=arguments;return new Promise(function(ge,ne){var le=P.apply(oe,ae);function he($){d(le,ge,ne,he,G,"next",$)}function G($){d(le,ge,ne,he,G,"throw",$)}he(void 0)})}}N.d(ve,{Z:()=>B})}},tt=>{tt(tt.s=7308)}]);